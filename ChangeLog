2010-02-09 11:22 +0000 [r1087567-1087574]  Volker Krause vkrause@kde.org

	* branches/akonadi/1.3/server/src/search/queryserviceclient.cpp:
	  Backport SVN commit 1087546 by dfaure from trunk: And now the
	  real fix for the dbus connection leak problem :/ Next step: doing
	  the same (but not the same) in kdelibs/nepomuk. But at least the
	  akonadiserver leak (triggered by kmail) is fixed by this.

	* branches/akonadi/1.3/server/src/search/queryserviceclient.cpp:
	  Backport SVN commit 1087524 by dfaure from trunk: Fix the dbus
	  connection leak (every time I switched mails in kmail, a new dbus
	  connection would be made and would stay). Sorry for suspecting
	  r1084698, it was not guilty. The bug -was- related to nepomuk,
	  but wasn't -in- nepomuk :-)

	* branches/akonadi/1.3/server/shared/akdebug.h,
	  branches/akonadi/1.3/server/control/main.cpp,
	  branches/akonadi/1.3/server/shared/akdebug.cpp: Backport SVN
	  commit 1087237 by dfaure from trunk: Fix confusing error message:
	  unable to register service %s "" due to trying to write into a
	  file that ended with akonadi_control's full path. Reviewed by
	  Volker once I managed to drag him away from Jesper :-)

2010-02-09 11:12 +0000 [r1087553-1087555]  Volker Krause vkrause@kde.org

	* branches/akonadi/1.3/server/src/storage/mysql-global.conf:
	  Backport SVN commit 1074641 by vkrause from trunk: Disable
	  logging of slow queries by default, it's only needed for
	  debugging and apparently not supported by all MySQL versions.

	* branches/akonadi/1.3/server/src/search/queryserviceclient.cpp:
	  Backport SVN commit 1076866 by tmcguire from trunk: Better debug
	  output

2010-01-20 08:55 +0000 [r1077444]  Volker Krause vkrause@kde.org

	* branches/akonadi/1.3/makechangelog,
	  branches/akonadi/1.3/ChangeLog, branches/akonadi/1.3/NEWS,
	  branches/akonadi/1.3/CMakeLists.txt: prepare the 1.3.0 release

2010-01-20 08:23 +0000 [r1077436]  Volker Krause vkrause@kde.org

	* branches/akonadi/1.3/server/src/nepomuksearch.cpp: Backport from
	  trunk. r1077216 | tmcguire | 2010-01-19 18:57:13 +0100 (Tue, 19
	  Jan 2010) | 12 lines Work around a DBus bug that using a
	  connection from within multiple threads can cause freezes. In
	  this case, that connection was the session bus, on which we
	  called isServiceRegistered. The workaround: Just don't check if
	  the search service is available, just call the methods. They'll
	  fail properly if the service is not there. Volker, can you
	  backport this fix to older Akonadi releases and prepare tarballs,
	  so that we can notify the release team about this? Should fix
	  CCBUG: 219687

2010-01-08 13:22 +0000 [r1071627]  Volker Krause vkrause@kde.org

	* branches/akonadi/1.3 (added): branch Akonadi 1.3

2010-01-06 18:32 +0000 [r1070782]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: prepare the 1.2.90
	  release

2010-01-01 15:45 +0000 [r1068573]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  fix so we don't get CMake warnings

2009-12-29 22:16 +0000 [r1067593]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml: We
	  cannot rely on case-insensitive table names when not using our
	  internal MySQL server, an external MySQL server might be
	  configured differently (not sure about PostgreSQL, might be
	  affected as well). BUG: 220007

2009-12-29 10:30 +0000 [r1067230]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Switch on
	  configure option to treat backslashes in strings literally as
	  defined in SQL standard. That avoids the warnings for updating
	  data in the FlagsTable table.

2009-12-29 09:04 +0000 [r1067215]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Add support for
	  let Akonadi start its own PostgreSQL server instance and
	  configure it automatically.

2009-12-27 19:50 +0000 [r1066711]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Try harder to
	  shut down mysqld nicely and cleanly by using mysqladmin if
	  present. In order to stay db agnostic, wrap the shutdown command
	  in a generic method in DbConfig.

2009-12-27 18:19 +0000 [r1066685]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Let's try a bit
	  harder to get rid of our mysqld process. On OSX terminate() is
	  apparently useless. This is not quite nice, it would be more
	  correct to use mysqladmin shutdown, but we don't want to rely on
	  that being installed, I guess, so let's do this. Better than
	  leaking mysqld processes.

2009-12-26 19:08 +0000 [r1066341]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Turns out that
	  mysql can't deal with socket paths longer than 103 characters.
	  Check for this early, so we can exit with a reasaonble error and
	  make unit tests fail quickly, instead of waiting for timeouts.

2009-12-19 16:04 +0000 [r1063935]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/copy.cpp: copy flags
	  as well when copying items

2009-12-18 21:48 +0000 [r1063599]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Fixing database
	  creation code which was MySQL specific. Patch provided by Yury
	  Kudryashov See http://reviewboard.kde.org/r/2135/ Reviewed by
	  Volker

2009-12-02 13:10 +0000 [r1057453]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.h,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  Send out change notifications when search results are
	  added/removed.

2009-12-01 17:09 +0000 [r1057189]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prepare for the 1.2.80
	  release.

2009-12-01 16:01 +0000 [r1057161]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: fix
	  argument order

2009-11-30 13:36 +0000 [r1056628]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentinstance.cpp: fix
	  interface path

2009-11-30 12:17 +0000 [r1056580]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/capabilities_p.h,
	  trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Search.xml
	  (added),
	  trunk/kdesupport/akonadi/server/control/agentinstance.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManagerInternal.xml
	  (added), trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/control/agentinstance.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Support
	  for distributing search queries to agents.

2009-11-30 08:35 +0000 [r1056440]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp: Finding
	  objects not handled by Akonadi is perfectly normal here, so no
	  need to warn about that.

2009-11-27 16:15 +0000 [r1055227]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: On
	  Windows, there is no recursion protection for the readyRead()
	  signal (unlike on Unix), so we have to do that ourselves. Patch
	  by Romain Pokrzywka <romain@kdab.com>, merged from the
	  pe5.20091123 tag.

2009-11-27 08:07 +0000 [r1054922]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/querybuildertest.h
	  (added), trunk/kdesupport/akonadi/server/src/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/interpretertest.cpp
	  (added), trunk/kdesupport/akonadi/server/src/tests (removed),
	  trunk/kdesupport/akonadi/server/tests/unittest/interpretertest.h
	  (added),
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/querybuildertest.cpp
	  (added), trunk/kdesupport/akonadi/server/src/interpreter.h: Merge
	  unit test moving from the pe5.20091123 tag.

2009-11-27 08:03 +0000 [r1054921]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/storage/entity.h,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  Merge unit test build fixes for Windows from the pe5.20091123
	  tag.

2009-11-23 16:15 +0000 [r1053201]  Raphael Kubo da Costa kubito@gmail.com

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt: Look for
	  libexecinfo and link to it if necessary, otherwise linking fails
	  on non-Linux Unices. A new variable, AKONADI_SYSTEM_LIBS, is
	  defined and should be used to include this kind of lib. REVIEW:
	  2255

2009-11-22 01:49 +0000 [r1052543]  Michael Jansen kde@michael-jansen.biz

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Do
	  not restart crashed applications. 1771 core files in 14 minutes
	  are to much! Synchronize with
	  kdebase/runtime/nepomuk/server/processcontrol.cpp as they seem to
	  have the same origin but evolved differently.

2009-11-21 22:38 +0000 [r1052502]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.h:
	  -change include so it really finds the local exception.h, to make
	  it build with Sun Studio compiler patch by Hajma, see
	  http://bugs.kde.org/show_bug.cgi?id=211636 Alex

2009-11-20 16:51 +0000 [r1052062]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Be more
	  verbose on errors

2009-11-15 10:38 +0000 [r1049489]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp: Fix build.

2009-11-15 06:34 +0000 [r1049360]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/search/query.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/search/term.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/search/query.h (removed),
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp,
	  trunk/kdesupport/akonadi/server/src/search/term.h (removed),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.h,
	  trunk/kdesupport/akonadi/server/src/search/querymetatype.h:
	  Remove Query and Term classes, they are not needed since we use
	  only SPARQL strings in the query API in Akonadi.

2009-11-13 16:36 +0000 [r1048628]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp,
	  trunk/kdesupport/akonadi/server/src/search/org.kde.nepomuk.QueryService.xml,
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.h,
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp,
	  trunk/kdesupport/akonadi/server/src/search/querymetatype.h: Adapt
	  to latest Nepomuk Query API changes

2009-11-12 15:24 +0000 [r1048004]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp,
	  trunk/kdesupport/akonadi/akonadi-prefix.h.cmake: Add the
	  BUNDLE_INSTALL_DIR to the list of paths searched, so we find
	  agents on OSX.

2009-11-11 14:40 +0000 [r1047587]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: catch
	  exceptions instead of exiting

2009-11-10 16:33 +0000 [r1047175]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: Ignore
	  agents for which we couldn't find the corresponding executable.

2009-11-10 12:28 +0000 [r1047083]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Fixed
	  crashing cases: we're not guaranteed that the handler has already
	  been created in the catch block, e.g. if the exception was raised
	  while getting the tag. This can happen e.g. for the imap stream
	  parser when no network is available. Also be more careful with
	  readUntilCommandEnd(), which may also throw an exception in that
	  case.

2009-11-10 11:44 +0000 [r1047068]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp: Normalize
	  payload part namespaces, should fix removal of parts that were
	  supposed to be cached in an online IMAP setup.

2009-11-05 12:25 +0000 [r1045177]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp:
	  return the created search collection

2009-11-04 16:04 +0000 [r1044773]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: Revert 1044736,
	  1044743, 1044749 and fix only what needs fixing. (and don't break
	  4.3 compilation against akonadi trunk)

2009-11-04 15:13 +0000 [r1044749]  Helio Chissini de Castro helio@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: All kdepimlibs expect
	  that we have akonadi headers installed in <includedir>/akonadi.
	  This now fix the issue

2009-11-04 15:02 +0000 [r1044743]  Helio Chissini de Castro helio@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: - Revert this part since
	  was pointed as not necessary by krop.

2009-11-04 14:57 +0000 [r1044736]  Helio Chissini de Castro helio@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: - Make install
	  consistent in both cmake and header pure install in case of
	  setting non standard flags

2009-11-04 14:36 +0000 [r1044718]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Create the
	  database if it's not there yet when using an external MySQL
	  server. BUG: 193644

2009-11-04 13:48 +0000 [r1044692]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp: Print
	  out some more error messages, instead of just broadcasting them
	  on D-Bus.

2009-11-02 15:06 +0000 [r1043871]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp:
	  Fix a deadlock in the item retrieval manager. Jobs might finish
	  immediately, so make sure the mutex is unlocked before we start
	  them, as the result slot tries to lock it as well.

2009-10-22 08:43 +0000 [r1038892]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Register
	  autostarted resources in the same way we register manually
	  created resources, to fix the resource creation race there as
	  well. Also, fix a memory leak.

2009-10-21 14:34 +0000 [r1038635]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/intervalcheck.cpp: Don't end
	  up in an infinite sync loop.

2009-10-21 13:12 +0000 [r1038583]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: Patch
	  by Fabrice Ménard <menard.fabrice@orange.fr>: Agents executables
	  should be registered only once in the file system watcher. It
	  happens when several agents share the same executable (it is the
	  case for the kalarmresource agents)

2009-10-19 08:21 +0000 [r1037444]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp: Fix
	  missing quoting of RIDs, could cause extensive breakage when
	  using RIDs containing " or \n.

2009-10-17 21:53 +0000 [r1036837]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/search.cpp: Read the
	  remaining command parts when the query result is empty, otherwise
	  we will have that still in the stream for the next command.

2009-10-16 07:57 +0000 [r1035900]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Refactor
	  flag handling a bit, and check more carefully if there was an
	  actual change. Reduces change notifications on flag changes with
	  IMAP by 50%.

2009-10-12 14:24 +0000 [r1034361]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Also detect
	  the Virtuoso backend.

2009-10-07 15:50 +0000 [r1032352]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievaljob.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalrequest.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievaljob.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt: Don't block
	  requests to all resources if just one is flooded with requests.
	  Instead, use one request queue for every resource and process
	  requests to different resources in parallel. CCBUG: 208555

2009-10-07 12:18 +0000 [r1032262]  Stephen Kelly steveire@gmail.com

	* trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp:
	  Follow a literal size with CRLF as specified in the IMAP RFC
	  3501. Akonadi client code already handles this in
	  ImapStreamParser::hasLiteral.

2009-10-06 12:43 +0000 [r1031913]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Fix change
	  notification compression for an add notification followed by a
	  modification of a part sub-set.

2009-09-26 14:29 +0000 [r1028295]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: BUG: 208612 Find
	  MySQLD on OpenSolaris.

2009-09-24 12:00 +0000 [r1027623]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/search.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/logout.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/capability.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/resourceselect.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Remove
	  pointless deleteLater() calls, the command handlers are deleted
	  once they have returned from parseStream() anyway.

2009-09-24 11:44 +0000 [r1027587]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/search.cpp: Don't
	  return all (!) items when the search didn't find a match.

2009-09-22 13:03 +0000 [r1026743]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/list.cpp: Don't
	  silently ignore mimetype filters if we don't have any item of
	  that type yet. BUG: 207825

2009-09-21 10:49 +0000 [r1026281]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml:
	  Add configurationDialogAccepted()/configurationDialogRejected()
	  signals to the interface.

2009-09-18 08:41 +0000 [r1025184]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp:
	  Respect CACHEONLY also for on-demand syncing. Prevents the
	  Nepomuk Email feeder from downloading my entire IMAP server
	  content.

2009-09-17 15:31 +0000 [r1024920]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Make
	  LINK/UNLINK commands work for items and/or destination
	  collections identified by RIDs.

2009-09-17 09:59 +0000 [r1024832]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp: Prepare
	  parsing code for RID based LINK/UNLINK commands.

2009-09-10 15:20 +0000 [r1022024]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml: fix
	  initial data, broke the LINK unittest

2009-09-10 14:25 +0000 [r1022001]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/resourcemanager.h: remove
	  unused member

2009-09-10 10:03 +0000 [r1021904]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/capabilities_p.h (added),
	  trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.ResourceManager.xml,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.cpp,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.h,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Mark resources that create virtual collections as such using the
	  capabilities field, and pass those along to the server. This
	  finally allows us to fix the ugly hack in ItemQueryHelper that
	  used hardcoded resource names for known virtual resources.

2009-09-10 07:55 +0000 [r1021830]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.SearchQuery.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.Search.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.SearchQueryIterator.xml
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt: Remove
	  unused cruft.

2009-09-04 13:34 +0000 [r1019815]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/colmove.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/move.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Support move destinations identified by a RID.

2009-09-03 13:21 +0000 [r1019391-1019392]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/search.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp
	  (added), trunk/kdesupport/akonadi/server/src/handler/search.h:
	  Refactor fetch handler to allow code sharing with search handler
	  The SEARCH command takes fetchScope information now and returns
	  complete item descriptions, not only uids

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Give status
	  information about the used search backend

2009-08-27 17:42 +0000 [r1016381]  Constantin Berzan exit3219@gmail.com

	* trunk/kdesupport/akonadi/server/shared/akdebug.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/shared/akdebug.h,
	  trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  Disable autostarting of agents if the
	  AKONADI_DISABLE_AGENT_AUTOSTART environment variable is present.
	  Reviewed at http://reviewboard.kde.org/r/1419/ .

2009-08-25 09:39 +0000 [r1015321]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version

2009-08-24 14:14 +0000 [r1015105]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp: Add support
	  for fetching collections based on hierarchical RIDs.

2009-08-18 13:23 +0000 [r1012966]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl:
	  Handle 0 values in columns with foreign key constraints
	  correctly, like it's done for insert() already. Should fix
	  syncing of maildir trees with a locally modified top-level node.

2009-08-14 09:43 +0000 [r1011305]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Add
	  information about available search support and used search
	  backend

2009-08-11 14:47 +0000 [r1010060]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/list.cpp: Don't throw
	  an error when the mimetype filter encounters a type it doesn't
	  know yet. Ignore it instead.

2009-08-11 07:11 +0000 [r1009894]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl:
	  Fix unused variable warning in generated code.

2009-08-10 14:17 +0000 [r1009633]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  quick & dirty build fix for windows

2009-08-10 13:34 +0000 [r1009616]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp: Fix
	  deprecation warning when using Soprano >=2.3.

2009-08-10 11:36 +0000 [r1009576]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp:
	  Server-side support for retrieving the ancestor chain of items.

2009-08-10 09:09 +0000 [r1009531]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlerhelpertest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp: Factor out
	  the depth parsing code as well, needed in three different places
	  by now.

2009-08-10 08:32 +0000 [r1009520]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlerhelpertest.cpp
	  (added): Factor out the ancestor protocol code, we'll need that
	  for FETCH as well.

2009-08-10 07:50 +0000 [r1009487]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.h
	  (removed),
	  trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.cpp
	  (removed): obsolete

2009-08-07 13:49 +0000 [r1008431]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp:
	  fix warning

2009-08-07 10:42 +0000 [r1008380]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomuksearch.h (added),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/search.cpp (added),
	  trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/search.h (added): Let
	  the SEARCH command make use of Nepomuk query service

2009-08-07 09:46 +0000 [r1008365]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h:
	  Refactor the number parsing test a bit. As gcov pointed out
	  correctly most of the old test wasn't executed, we dropped out
	  very early with an (at this point expected) exception.

2009-08-06 09:57 +0000 [r1007830]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/handlertest.h
	  (removed),
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlertest.cpp
	  (removed): Remove obsolete test, now that the old unused LIST
	  command has been removed.

2009-08-05 12:30 +0000 [r1007280]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Fix item
	  creation with RIDs containing a ']'.

2009-08-05 11:41 +0000 [r1007252]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Allow me to enable
	  coverage support. The necessary code for that was already there,
	  just the option to enable it was missing.

2009-08-05 09:12 +0000 [r1007141]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Increase protocol version number after latest changes

2009-08-05 09:05 +0000 [r1007124]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h (removed),
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp (removed),
	  trunk/kdesupport/akonadi/server/AkonadiServerProtocol.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp: Removed
	  LIST/LSUB command implementation and replaced it with
	  X-AKLIST/X-AKLSUB implementation

2009-08-05 08:34 +0000 [r1007089]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/noop.h (removed),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/AkonadiServerProtocol.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/noop.cpp (removed):
	  Remove the unused NOOP command

2009-08-04 21:25 +0000 [r1007009]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CTestConfig.cmake (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt: Add CDash configuration.

2009-08-04 12:43 +0000 [r1006800]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/AkonadiServerProtocol.txt: fix
	  protocol version, add notes about deprecated commands

2009-08-04 12:29 +0000 [r1006792]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/AkonadiServerProtocol.txt
	  (added): Add initial skeleton of the akonadi server protocol
	  description

2009-08-04 07:30 +0000 [r1006636]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl:
	  Make sure that everything is initialized properly.

2009-07-31 20:08 +0000 [r1005333]  Andreas Hartmetz ahartmetz@gmail.com

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: link with gold

2009-07-31 18:58 +0000 [r1005299]  Szymon Stefanek pragma@kvirc.net

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Preprocessor.xml,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.h,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.h: More
	  work on the preprocessor chain. - The hidden property is now an
	  attribute. - The preprocessor manager is now fully thread-safe. -
	  The append handlers now push items for preprocessing if there is
	  at least one registered preprocessor - Preprocessing can be
	  forcibly disabled by configuration - The preprocessor manager is
	  now transaction aware and will keep newly added items in wait
	  queues until the transaction is committed.

2009-07-30 17:54 +0000 [r1004669]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  support for retrieving the collection ancestor UIDs/RIDs up to a
	  desired depth.

2009-07-29 21:41 +0000 [r1004341]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Akonadi 1.2.0 was
	  released. Bump the kdesupport/akonadi version to 1.2.60

2009-07-28 20:39 +0000 [r1003796]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Fixing
	  check for presence of a list. If stripLeadingSpaces() puts the
	  position at the end of the input data, we need to read more data.
	  Actually this should probably be done in a loop if there is more
	  than one leading space, not sure if the protocol allows that
	  though.

2009-07-28 10:31 +0000 [r1003553]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: After
	  stripping whitespace, position could be at the end of the buffer
	  and not yet seeing the list begin. In this case try to read more.
	  Might make sense to check this on other occurances of
	  stripLeadingSpace()

2009-07-27 11:42 +0000 [r1002949]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/rename.h (removed),
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/colmove.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp (removed),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  Refactor collection moving/renaming code a bit to emit the
	  correct change notifications.

2009-07-26 16:24 +0000 [r1002635]  Szymon Stefanek pragma@kvirc.net

	* trunk/kdesupport/akonadi/server/control/agentinstance.cpp: Delete
	  the control side D-Bus interface wrappers if they aren't valid.

2009-07-26 12:28 +0000 [r1002569]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/akonadi.pc.cmake: pkgconfig will work
	  much better if we don't use AKONADI_VERSION_STRING

2009-07-24 09:53 +0000 [r1001801]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepimlibs/akonadi/agentinstance.cpp,
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.h,
	  trunk/KDE/kdepimlibs, trunk/KDE/kdepimlibs/akonadi/agentbase.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml,
	  trunk/KDE/kdepimlibs/akonadi/agentbase.h: Slightly modified merge
	  of the cancel-support for Akonadi agents by Constantin Berzan,
	  with the D-Bus interface changes already integrated into the
	  server. Merged revisions 986718 via svnmerge from
	  https://vkrause@svn.kde.org/home/kde/branches/work/akonadi-ports/kdepimlibs
	  ................ r986718 | tmcguire | 2009-06-25 00:30:24 +0200
	  (Thu, 25 Jun 2009) | 9 lines Merged revisions 980072 via svnmerge
	  from
	  svn+ssh://tmcguire@svn.kde.org/home/kde/branches/kdepim/soc/kdepimlibs
	  ........ r980072 | cberzan | 2009-06-11 07:01:53 +0200 (Thu, 11
	  Jun 2009) | 2 lines AgentInstance::abort() support. I copied
	  kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml
	  to kdepimlibs/akonadi/interfaces for now. Agents / resources
	  should connect to AgentBase::abortRequested() to implement
	  abortion. ........ ................

2009-07-24 08:28 +0000 [r1001772]  Szymon Stefanek pragma@kvirc.net

	* trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/control/agentinstance.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Preprocessor.xml
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.PreprocessorManager.xml
	  (added),
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.h
	  (added), trunk/kdesupport/akonadi/server/control/agentinstance.h,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.cpp
	  (added), trunk/kdesupport/akonadi/interfaces/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.h
	  (added): Initial support for preprocessor agents.

2009-07-23 14:52 +0000 [r1001523]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp: Fix newly
	  created top-level collections being invisible when using an old
	  database with an Akonadi server from this week.

2009-07-20 15:02 +0000 [r999896]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/src/storage/entities.xsl: Use
	  SelectQueryBuilder here, should fix runtime errors with Sqlite
	  when filtering on NULL.

2009-07-20 13:41 +0000 [r999766]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/src/storage/entities.xsl,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp: If we
	  specify foreign key constraints we probably should not violate
	  them. MySQL apparently doesn't really care, but PostgreSQL does.
	  This should conclude the merging of the PostgreSQL support
	  patches by Javier Goday which turned into fixing our broken
	  database usage instead.

2009-07-20 11:29 +0000 [r999688]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  add special cases for table creation for PostgreSQL, based on a
	  patch by Javier Goday

2009-07-20 11:04 +0000 [r999676]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp:
	  Auto-generate REFERENCES statements when creating tables instead
	  of writing them into akonadidb.xml manually. Most the ones in
	  there were plain wrong, MySQL just didn't complain.

2009-07-20 09:35 +0000 [r999613]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/tests/querybuildertest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp:
	  Generate multi-column UPDATE statements that are understood by
	  Sqlite and PostgreSQL when using those. Based on a patch by
	  Javier Goday.

2009-07-20 08:32 +0000 [r999589]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/src/tests/querybuildertest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Move
	  creation of INSERT queries into the querybuilder as well and add
	  PostgreSQL support based on the patch by Javier Goday.

2009-07-18 17:34 +0000 [r998932]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Add dbus
	  interface to retrieve a localised version of the name and
	  description of resources.

2009-07-16 18:18 +0000 [r997961]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Fix
	  printing the process name which is being valgrinded.

2009-07-16 16:17 +0000 [r997919]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Merge the first part of the PostgreSQL support patch by Javier
	  Goday. It is modified a bit though as it turns out that most of
	  the special cases for PostgreSQL are not really needed and that
	  the code for MySQL was broken instead (MySQL just silently
	  ignored that apparently).

2009-07-14 11:42 +0000 [r996438]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp:
	  Work around the model not wanting to display the content of a
	  search folder as it doesn't have any content mimetypes set.

2009-07-14 11:29 +0000 [r996433]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp: unbreak
	  nepomuk search

2009-07-10 16:22 +0000 [r994500]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/protocol_p.h: oops, missed that one

2009-07-10 16:08 +0000 [r994483]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Server-side support for filtering by content mime types.

2009-07-08 16:31 +0000 [r993403]  Mike Arthur mike@mikearthur.co.uk

	* trunk/kdesupport/akonadi/cmake/modules/FindQt4.cmake: Add missing
	  QtDBus Framework include for Qt SDK compilation on OSX.
	  Backported from CMake 2.6.4.

2009-07-08 14:47 +0000 [r993358]  Mike Arthur mike@mikearthur.co.uk

	* trunk/kdesupport/akonadi/CMakeLists.txt: Add QT_USE_* options to
	  fix building on OSX with Qt SDK.

2009-07-06 17:32 +0000 [r992351-992355]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/control/CMakeLists.txt: one WIN32
	  flag is enough

	* trunk/kdesupport/akonadi/server/control/CMakeLists.txt: run
	  akonadi_control silently on windows (no console popup)

2009-06-24 08:59 +0000 [r986123]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp: Join
	  collection attributes correctly. Not that it makes any difference
	  for the parser, but it's much less confusing to read for humans
	  in the akonadiconsole debugger.

2009-06-23 18:27 +0000 [r985910]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prepare for the 1.1.95
	  release.

2009-06-23 16:03 +0000 [r985873]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Correctly
	  check if the new cache policy really differs from the old one,
	  and only then send a change notification.

2009-06-23 09:29 +0000 [r985611]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Less
	  brutal way to update collection content types. Avoids a whole lot
	  of unecessary database writes and thus change notifications.

2009-06-21 19:06 +0000 [r984939]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Also
	  allow to delete collections based on their remote identifier.

2009-06-21 01:44 +0000 [r984547]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/libs/imapparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: When
	  creating a collection with CR and/or LF in attribute values, the
	  CollectionCreateJob gets stuck forever. That's because ImapParser
	  doesn't quote CR and LF at all when creating the quoted string
	  for the attribute value. According to [1], CR and LF are not
	  allowed inside a quoted string. This patch fixes this by escaping
	  LF as "\n" and CR as "\r" in ImapParser::quote() and resolving
	  them again in ImapParser::parseQuotedString and
	  ImapStreamParser;:parseQuotedString(). Approved by Volker.

2009-06-19 17:57 +0000 [r984003]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp:
	  Selection context is only relevant for items, so ignore it here.

2009-06-19 17:45 +0000 [r984000]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/libs/tests/CMakeLists.txt: find the
	  .moc, add binary dir to include path

2009-06-19 16:39 +0000 [r983981]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: oops, fix
	  creation of new collection attributes

2009-06-19 15:35 +0000 [r983965]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/handler/move.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Improve
	  the MODIFY command handler to trigger less database writes and
	  thus change notifications, about 30% less during a normal IMAP
	  sync.

2009-06-19 15:14 +0000 [r983962]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/CMakeLists.txt (added): add
	  missing file

2009-06-18 23:23 +0000 [r983741]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Change the logic when
	  we're running CMake in kdesupport: * We will use Soprano from
	  kdesupport even if some headers are installed * We will look for
	  installed headers if we're not running CMake in kdesupport _OR_
	  if BUILD_Soprano is false (ie: it is explicitely disabled or was
	  excluded from the svn checkout) This should cover all the
	  possible cases.

2009-06-17 13:54 +0000 [r983001]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/storage/queryhelper.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/queryhelper.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Extract stuff from the item query helper code that is also useful
	  for collection queries and use that to support RID-based
	  collection modification.

2009-06-17 12:16 +0000 [r982972]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/colmove.cpp: Fix
	  moving into the root collection.

2009-06-16 20:23 +0000 [r982804]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Display the Soprano URL
	  if it can't be found

2009-06-16 14:14 +0000 [r982648]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/colmove.cpp (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colmove.h (added):
	  Factor out collection moving from the collection modification
	  command, like we did for the corresponding item commands already,
	  to get rid of the look-ahead hack in its parsing code.

2009-06-15 20:13 +0000 [r982416]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Don't hardcode
	  SOPRANO_LIBRARIES

2009-06-15 11:31 +0000 [r982248]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp: Only send
	  change notifications if something did actually change.

2009-06-12 18:00 +0000 [r980962]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version to 1.1.91

2009-06-12 15:28 +0000 [r980832]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: When
	  creating a collection, allow to identify the parent collection by
	  its remote identifier as well.

2009-06-10 14:23 +0000 [r979786]  Kevin Ottens ervin@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h: Add support
	  for SIZE in the STATUS and X-AKLIST commands. So now for
	  statistics we can get the total size of a collection.

2009-06-10 09:27 +0000 [r979596]  Kevin Ottens ervin@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp: Extend
	  the server protocol so that X-AKLIST and X-AKLSUB can return the
	  collection statistics along with the collections (avoid issuing a
	  first listing and then a storm of STATUS request when you need
	  the statistics). This protocol modification is an extension and
	  is backward compatible.

2009-06-07 10:36 +0000 [r978475]  Carlo Segato brandon.ml@gmail.com

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in: use .dll.a for
	  mingw

2009-06-06 09:28 +0000 [r978167]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: More fixes
	  for the item size handling.

2009-06-06 08:18 +0000 [r978140]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Fix
	  updating of items sizes.

2009-06-03 17:33 +0000 [r977248]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/makechangelog: Prepare for the 1.1.90
	  release. Also change makechangelog to use anonsvn instead of a
	  hard-coded svn account.

2009-05-28 17:58 +0000 [r974197]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Show the
	  list of changed parts in the akonadiconsole debugger as well.

2009-05-28 16:59 +0000 [r974177]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  Add a list of actually modified item parts to the change
	  notifications, or rather put useful data in the already available
	  field for that in the notification message.

2009-05-28 12:23 +0000 [r974000]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in: msvc needs its
	  import library

2009-05-28 09:25 +0000 [r973949]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Fix change
	  notification compression for item changes affecting different
	  item parts.

2009-05-28 08:56 +0000 [r973935-973937]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp
	  (added),
	  trunk/KDE/kdepimlibs/akonadi/tests/notificationmessagetest.h
	  (removed), trunk/kdesupport/akonadi/libs/tests (added),
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h
	  (added),
	  trunk/KDE/kdepimlibs/akonadi/tests/notificationmessagetest.cpp
	  (removed), trunk/KDE/kdepimlibs/akonadi/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: Move test to the
	  corresponding code.

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h: Cleanup
	  remote id changing, less code and less database writes.

2009-05-27 20:35 +0000 [r973800]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/CMakeLists.txt: fix msvc build

2009-05-27 17:40 +0000 [r973701]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/move.cpp: Move stuff
	  where it belongs. Also reduce the number of database reads a bit.

2009-05-27 07:56 +0000 [r973441]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Fix the build with cmake
	  2.6.2. The version check that checks for > 2.6.2 is in 2, not in
	  0.

2009-05-26 14:27 +0000 [r973201]  Rex Dieter rdieter@math.unl.edu

	* trunk/kdesupport/akonadi/akonadi.pc.cmake:
	  s/AKONADI_LIB_VERSION_STRING/AKONADI_VERSION_STRING/ (..._LIB_...
	  isn't defined anywhere)

2009-05-25 23:30 +0000 [r972904]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: akonadi doesn't know the
	  pimlibs location (and shouldn't)

2009-05-20 17:56 +0000 [r970762]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Appending the akonadi
	  version to the directory name where the cmake files are installed
	  may lead to include or linking errors when different versions are
	  installed. From now on, the cmake files will be installed in
	  LIB_INSTALL_DIR/cmake/Akonadi (or /akonadi/cmake depending on the
	  version).

2009-05-20 08:22 +0000 [r970440]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt: Cosmetic:
	  Use Akonadi_SOURCE_DIR when it's possible

2009-05-20 07:38 +0000 [r970355]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.ResourceManager.xml
	  (added),
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.h: fix create
	  agent instace race condition

2009-05-17 16:54 +0000 [r969207]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h: Cleanup the STORE
	  handler, mainly getting rid of the look-ahead hack. Also reduce
	  the number of database writes a bit.

2009-05-17 15:48 +0000 [r969184]  Raphael Kubo da Costa kubito@gmail.com

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Include FreeBSD's
	  /usr/local/libexec in mysqld's search path. CCMAIL:
	  kde-freebsd@kde.org

2009-05-17 12:33 +0000 [r969046]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h: - add documentation
	  for the STORE command - add support for remote id based
	  operations - improved error handling/syntax checking - cleanup
	  first part of the parsing code

2009-05-16 17:36 +0000 [r968836]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp: add
	  more detailed error messages for debugging

2009-05-16 16:31 +0000 [r968823]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Deal
	  with stray newlines caused by zero-sized literals. The real fix
	  for this would be on the client side, but being more robust
	  against received garbage can't hurt either. This fixes most of
	  the unknown command/empty command errors for me, as well as most
	  of the unit tests.

2009-05-16 15:29 +0000 [r968735]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  useful error messages to debug unknown/empty command errors.

2009-05-15 19:16 +0000 [r968466]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/move.cpp (added),
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/move.h (added): - Fix
	  an infinite loop when parsing rid lists. - After item deletion,
	  also factor item moving out of the store handler. This will
	  eventually allow us to get rid of the evil look-ahead hack in the
	  parsing code there.

2009-05-14 20:39 +0000 [r968058]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in:
	  AKONADI_COMMON_LIBRARIES was created by FindAkonadi.cmake which
	  did ensure the correct library extension was added depending on
	  the system. This patch will resolve issues when building the
	  akonadi server on mac or windows. This is a temporary fix, I'm
	  still thinking about the best solution. (ie: define it here or in
	  FindAkonadi.cmake)

2009-05-14 18:21 +0000 [r968014]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Factor out query generation code for item sets.

2009-05-14 18:02 +0000 [r968010]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/remove.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp (added),
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Factor out the item set parsing code, which got a bit too complex
	  now that we support rid-based operations.

2009-05-13 07:47 +0000 [r967295]  Sebastian Trueg sebastian@trueg.de

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake: ported
	  changes from kdelibs

2009-05-09 15:41 +0000 [r965720]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlertest.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.h (removed),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlertest.cpp:
	  Cleanup handler creation/deletion and improve the error handling
	  a bit.

2009-05-06 22:19 +0000 [r964571]  Kevin Ottens ervin@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: When
	  mapping with the db the remoteId on items should be interpreted
	  as QString (just like for collections). Also consider remote ids
	  as UTF8 on the wire. CCMAIL: vkrause@kde.org

2009-05-06 16:21 +0000 [r964414]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Send the
	  collection id with FETCH.

2009-05-05 21:55 +0000 [r964066]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS: Update Changelog and News. Ready
	  for release.

2009-05-04 04:18 +0000 [r963176]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in: Add quotes
	  around @AKONADI_VERSION_STRING@ or cmake <2.6.3 won't read
	  AkonadiConfig.cmake

2009-05-03 13:30 +0000 [r962920]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Generate
	  AkonadiConfigVersion.cmake

2009-05-03 13:19 +0000 [r962917]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/cmake/modules/MacroWriteBasicCMakeVersionFile.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/BasicFindPackageVersion.cmake.in
	  (added): These two files will ensure the required version is
	  *really* found

2009-05-03 11:47 +0000 [r962785]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in: Also define
	  AKONADI_COMMON_LIBRARIES

2009-05-01 12:44 +0000 [r962047]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/AkonadiConfig.cmake.in (added): Adding
	  AkonadiConfig.cmake.in which will be used by FindAkonadi.cmake.
	  Also added an option to install the cmake file in
	  lib/cmake/Akonadi-<version> (requires cmake >2.6.2)

2009-04-30 21:04 +0000 [r961878]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/cmake/modules/InstallSettings.cmake:
	  Remove unused vars.

2009-04-30 19:55 +0000 [r961844]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: AKONADI_XXX_VERSION
	  -> AKONADI_VERSION_XXX

2009-04-30 18:33 +0000 [r961808]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: CMakeLists cleanup.
	  - Remove old comments - Renamed AKONADI_LIB_FOO_VERSION to
	  AKONADI_FOO_VERSION - Replaced some
	  ${CMAKE_CURRENT_SOURCE_DIR}/../foo with ${Akonadi_SOURCE_DIR}/foo
	  The next step is to fix FindAkonadi.cmake.

2009-04-30 09:46 +0000 [r961537]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version: 1.1.80 ->
	  1.1.85

2009-04-27 09:48 +0000 [r959814-959815]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Greatly simplify the check for the existance of tables. Reviewed
	  by Volker.

	* trunk/kdesupport/akonadi/server/src/main.cpp: Fix my email
	  address

2009-04-25 15:50 +0000 [r959089]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp: Report an
	  error when no items were found.

2009-04-25 14:33 +0000 [r959046]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp (added),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/remove.h (added),
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/resourceselect.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Add a dedicated item deletion command, to get rid of the old
	  STORE/EXPUNGE hack which was extremely inefficient. The new
	  command now also supports deletion of more than one item at a
	  time, and deletion based on a remote identifiers.

2009-04-22 09:08 +0000 [r957493]  Mirko Boehm mirko@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake: -
	  enable package config support for finding Soprano

2009-04-20 23:28 +0000 [r956924]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: MySQL is only
	  required at runtime. Do not use macro_log_feature if it's not
	  installed

2009-04-18 16:26 +0000 [r955842]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler/resourceselect.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Only
	  allow the owning resource to change remote identifiers. Based on
	  a patch by Thomas McGuire.

2009-04-14 14:30 +0000 [r953783]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp: fix last
	  commit: change substr(%1, 4) by substr(%1, 1, 4)

2009-04-13 19:28 +0000 [r953343]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: change
	  left(x,y) to substr(x, 1, y) in SQL code(sqlite does not work
	  with left). CCMAIL: Christian Gaggl<c.gaggl@alice-dsl.net>

2009-04-13 14:04 +0000 [r953248]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake: no need
	  to look in KDE4 locations for includes and libs

2009-04-12 20:15 +0000 [r952903]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Oops, it's Soprano_FOUND

2009-04-12 20:01 +0000 [r952898]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/term.h,
	  trunk/kdesupport/akonadi/server/src/search/result.cpp,
	  trunk/kdesupport/akonadi/server/src/search/result.h: Fix
	  kdesupport compilation : - move akonadi below soprano in the top
	  CMakeLists.txt - if SOPRANO_FOUND is false, akonadi will use
	  KDESupport_SOURCE_DIR/soprano and
	  KDESupport_BINARY_DIR/soprano/soprano/libsoprano.so 3 CamelCase
	  headers had to be replaced to avoid errors.

2009-04-08 23:39 +0000 [r951342]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Qt 4.5.0 or higher is
	  required now.

2009-04-07 17:49 +0000 [r950742]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Support for collection retrieval by remote identifier.

2009-04-07 14:01 +0000 [r950620]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake:
	  WIN32_DEBUG_POSTFIX is only implemented by
	  find_library_with_debug. Calling find_library not only ignored
	  it, but was looking for libd.so! This cause much trouble to
	  <fatalerrors> on IRC (ok, his nick calls for it, but still)

2009-04-07 12:53 +0000 [r950535]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/resourceselect.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h (added),
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.h,
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/handler/uid.h,
	  trunk/kdesupport/akonadi/server/src/handler/resourceselect.cpp
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Add
	  support for item retrieval based on the remote identifier.

2009-04-06 13:13 +0000 [r950045]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.h: Avoid
	  the re-insertion of command names in the input stream. Also, get
	  rid of some excessive debug output.

2009-04-06 09:27 +0000 [r949928]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Allow to enable
	  the dummy search manager again, for testing. At least until I
	  find a way to get Nepomuk running in the test environment.

2009-04-05 15:40 +0000 [r949629]  Kevin Ottens ervin@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Add the
	  extra CRLF cleanup workaround also to the akonadiserver copy of
	  the stream parser. CCMAIL: amantia@kde.org

2009-04-05 10:28 +0000 [r949411]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: make
	  it work with multiple arguments, too

2009-04-05 10:21 +0000 [r949410]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: d'oh

2009-04-05 00:35 +0000 [r949349]  Sebastian Sauer mail@dipe.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: typo-- (to land
	  at least one commit today :) SVN_SILENT

2009-04-04 17:50 +0000 [r949242]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: add
	  AKONADI_VALGRIND_OPTIONS to specify additional options (besides
	  the skin used) for valgrind

2009-04-04 17:15 +0000 [r949236]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp:
	  Fix compilation

2009-04-04 15:02 +0000 [r949146]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/FindLibraryWithDebug.cmake
	  (added), trunk/kdesupport/akonadi/server/src/search/term.h,
	  trunk/kdesupport/akonadi/server/src/search/result.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/result.h: Soprano is
	  required now. Make the buildsystem aware of that, and adjust
	  includes accordingly.

2009-04-04 13:03 +0000 [r949064]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/search/query.cpp (added),
	  trunk/kdesupport/akonadi/server/src/search/term.cpp (added),
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/server/src/search/org.kde.nepomuk.QueryService.xml
	  (added), trunk/kdesupport/akonadi/server/src/search/query.h
	  (added), trunk/kdesupport/akonadi/server/src/search/term.h
	  (added), trunk/kdesupport/akonadi/server/src/search/result.cpp
	  (added), trunk/kdesupport/akonadi/server/queryserver (removed),
	  trunk/kdesupport/akonadi/server/src/search (added),
	  trunk/kdesupport/akonadi/server/src/search/querymetatype.h
	  (added), trunk/kdesupport/akonadi/server/src/search/result.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/org.kde.nepomuk.Query.xml
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.h
	  (added), trunk/kdesupport/akonadi/server/src/akonadi.cpp: Add
	  search support via Nepomuk search service

2009-04-03 14:49 +0000 [r948702]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/exception.h: Silence the
	  compiler on OSX.

2009-04-01 10:37 +0000 [r947740-947741]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Read
	  the command until the end in case of handling errors. Mandate the
	  handler to leave the trailing newline in the stream buffer. Fixes
	  the (harmless) BAD COMMAND error output after a STORE/FETCH with
	  invalid UID.

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Request
	  literal also for {0}. Fixes some hangs.

2009-03-31 12:22 +0000 [r947310]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/control/agentinstance.cpp: Avoid
	  DBUS lockups

2009-03-30 14:37 +0000 [r946928]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Patch by Christian Gaggl <linux-dev@redsun.inka.de> to fix the
	  database setup for sqlite.

2009-03-23 22:19 +0000 [r943480-943481]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  already done in the initializer list now

	* trunk/kdesupport/akonadi,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: don't
	  leak socket on error. Better initialize members (not strictly
	  necessary here, though)

2009-03-22 16:36 +0000 [r942834]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Handle
	  quoted strings correctly in readUntilCommandEnd().

2009-03-22 15:46 +0000 [r942813]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h:
	  Add test case for an infinite loop in readUntilCommandEnd() if a
	  quoted string starts with a '{'.

2009-03-19 19:55 +0000 [r941495]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp: Move the
	  functionality from DataStore::listPimItems() to the Expunge
	  handler, its only user. Don't include the selected collection in
	  the query. Lead to expunges failing, thus items only be marked as
	  deleted.

2009-03-19 10:41 +0000 [r941276]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h:
	  test readUntilCommandEnd()

2009-03-19 10:34 +0000 [r941275]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/transaction.h: Begin
	  the transaction only after ItemRetriever is executed.

2009-03-18 20:45 +0000 [r941084]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/expunge.cpp: Read the
	  command from the string for EXPUNGE, otherwise we will get a bad
	  command error after.

2009-03-17 17:57 +0000 [r940575]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Rewrite
	  the APPENDhandle, so in case of large payload data and when
	  external payload storage is enabled, the data is written out to
	  the payload file as soon as it is read from the socket, thus the
	  memory usage is reduced.

2009-03-17 16:03 +0000 [r940546]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h: Rewrite
	  the STORE handle, so in case of large payload data and when
	  external payload storage is enabled, the data is written out to
	  the payload file as soon as it is read from the socket, thus the
	  memory usage is reduced.

2009-03-16 19:06 +0000 [r940173]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/link.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.h,
	  trunk/kdesupport/akonadi/server/src/handler/logout.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/noop.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.h,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.h,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/capability.h,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.h,
	  trunk/kdesupport/akonadi/server/src/handler/status.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.h,
	  trunk/kdesupport/akonadi/server/src/handler/rename.h,
	  trunk/kdesupport/akonadi/server/src/handler/login.h,
	  trunk/kdesupport/akonadi/server/src/handler/logout.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler/noop.h,
	  trunk/kdesupport/akonadi/server/src/handler/capability.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlertest.cpp:
	  Clean up the handler from the old imapparser code (except Modify
	  that uses lookahead, might need a rewrite). Change
	  akonadiconnection to use the ImapStreamParser only when new data
	  arrives on the socket. All relevant unit tests passes.

2009-03-15 14:03 +0000 [r939685]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp: With the
	  stream parser UID sub-commands no longer see the UID token in the
	  input, we therefore need to pass that info to them by other
	  means. Fixes failing STORE commands during manual tests, the unit
	  tests apparently don't catch this.

2009-03-15 00:47 +0000 [r939511]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Spotted a double inclusion of a header file, added in r937343.

2009-03-13 22:06 +0000 [r939136]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  the posibility to use the streaming parser for handlers (see the
	  comment in the commit).

2009-03-13 21:13 +0000 [r939117]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.h: Port
	  the Transaction handler. Now all handlers can use the streaming
	  parser.

2009-03-13 21:10 +0000 [r939113-939114]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/append.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/capability.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/capability.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.h,
	  trunk/kdesupport/akonadi/server/src/handler/status.h: Port other
	  handlers.

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Fix
	  large literal reading, kudos for the unit tests.

2009-03-13 19:59 +0000 [r939085-939086]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Partly
	  port the Modify handler. Full port is not possible at this
	  moment, as the code needs to be rewritten (it uses lookahead,
	  which is not possible with the streaming parser, unless with the
	  workaround commited here).

	* trunk/kdesupport/akonadi/server/src/handler/rename.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.h,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.h:
	  Port another bunch of handler to imapstreamparser.

2009-03-13 19:33 +0000 [r939077]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler/noop.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/noop.cpp: Port
	  AkList, List, Noop.

2009-03-13 19:22 +0000 [r939073]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/login.h,
	  trunk/kdesupport/akonadi/server/src/handler/logout.h,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/logout.cpp: Port
	  login/logout.

2009-03-13 18:02 +0000 [r939050-939052]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.h: Port
	  X-AKAPPEND.

	* trunk/kdesupport/akonadi/server/src/handler/colcopy.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp: Port
	  COLCOPY (fixes the akonadi-db-collectioncopy test)

	* trunk/kdesupport/akonadi/server/src/handler/link.cpp: Link is
	  used for UNLINK as well.

2009-03-13 16:29 +0000 [r939034]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h: Implement
	  DateTime reading, port all the remaining unit tests.

2009-03-13 15:47 +0000 [r939027-939028]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.h: Port LINK.

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Another
	  fix in sequence reading (update correctly the m_position by
	  getting rid of the extra index variable)

2009-03-13 14:58 +0000 [r939006]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/expunge.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp: Port
	  Delete and Expunge.

2009-03-13 13:40 +0000 [r938981]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/copy.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Port the
	  Copy handler.

2009-03-12 15:13 +0000 [r938638]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Port fetch
	  to imapstreamparser

2009-03-12 14:31 +0000 [r938628-938629]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp:
	  Port the Store handler to the imapstreamparser

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h: Add a
	  method to push back some data to the parser, fix reading of
	  sequence sets.

2009-03-11 14:01 +0000 [r938176]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp: Include the KDE
	  prefix in our search paths. Useful if Akonadi and KDE are
	  installed into different prefixes and XDG_DATA_DIRS is not set up
	  correctly. So, mostly developer convenience.

2009-03-11 09:44 +0000 [r938091]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Clear
	  the data buffer after a literal part was read to save memory.

2009-03-10 17:21 +0000 [r937879]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Merge
	  Kevin's changes for the imap stream parser.

2009-03-09 15:53 +0000 [r937343]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Add query error to the error message.

2009-03-08 23:10 +0000 [r937083]  Alex Merry kde@randomguy3.me.uk

	* trunk/kdesupport/akonadi/Mainpage.dox: Lay out the documentation
	  a bit better. There are still a couple of references to missing
	  pages. Question: why does the project version get injected into
	  the KDE Support API docs main pages, but not into the kdelibs API
	  docs main pages?

2009-03-08 16:22 +0000 [r936905]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  the private/public hack does not work on windows -> disabled
	  imapstreamparsertest there

2009-03-05 20:40 +0000 [r935628]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: enforce build
	  dirs to be searched before other dirs, as entities.h collides
	  with an entities.h from /opt/local, here on OS X

2009-03-05 14:44 +0000 [r935544]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/CMakeLists.txt: support gcov compiling

2009-03-03 11:34 +0000 [r934526]  Dario Freddi drf@kde.org

	* trunk/kdesupport/akonadi/README: Fix typo

2009-03-01 12:23 +0000 [r933592]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalthread.cpp:
	  Rework thread termination/deletion code. We now have no more open
	  database connection when shutting down the db server, which
	  contrary to my hopes has apparently no impact on shutdown speed.

2009-02-28 23:14 +0000 [r933455]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h,
	  trunk/kdesupport/akonadi/server/src/intervalcheck.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Move the
	  collection sync triggering code to ItemRetrievalManager as well,
	  to share the resource interface cache and benefit from the
	  thread-safety fixes there.

2009-02-28 22:51 +0000 [r933443]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h: remove
	  the old item retrieval code

2009-02-28 22:46 +0000 [r933442]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Use the
	  new item retrieval code here as well, but keep ignoring errors
	  for now. As we fall back to whatever we already have in the cache
	  in this case, this actually is the desired behaviour in many
	  cases, but I guess we need a command parameter to let the
	  application specify if errors should be forwarded or ignored.

2009-02-28 22:40 +0000 [r933440]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: our unit
	  tests need way too long to run...

2009-02-28 22:01 +0000 [r933428]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalthread.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h
	  (added), trunk/kdesupport/akonadi/server/src/exception.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalthread.cpp
	  (added): New item retrieval code. Much better error handling
	  (compared to none before) and also fixes a bunch of corner cases
	  that were not handled correctly so far. Hopefully also fixes
	  thread-safety problems we had with the old code, but this will
	  require some more testing. The fetch handler still needs to be
	  changed to use this though.

2009-02-28 21:56 +0000 [r933425]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Only
	  retrieve all child items when we absolutely have to.

2009-02-28 15:16 +0000 [r933283]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Retrieve
	  all items from their resources before moving a collection.

2009-02-28 14:02 +0000 [r933259]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h: Reshuffling
	  of the parsing code to be able to access the requested changes
	  before starting the database transaction. This is needed since we
	  can only request not yet cached items from their resources before
	  beginning a transaction (we wouldn't see the changes otherwise).
	  And we need to do that for inter-resource moves.

2009-02-28 10:52 +0000 [r933199]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp: Retrieve
	  all items from the source resource before we copy them.

2009-02-28 09:36 +0000 [r933175]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Various small improvements, suggested by Kevin.

2009-02-26 22:30 +0000 [r932572]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.h: fix
	  EXPORT so linking works on Windows

2009-02-26 12:08 +0000 [r932340]  Jesper Thomschütz jesperht@yahoo.com

	* trunk/kdesupport/soprano/server/sparql/sparqlmodel.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/phonon/gstreamer/x11renderer.cpp: Removing some
	  "unused variables" warnings by employing Q_UNUSED

2009-02-26 09:58 +0000 [r932076]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp
	  (added), trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h
	  (added), trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp
	  (added), trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  Add a streaming IMAP parser, as described on
	  http://reviewboard.kde.org/r/191/ . Updated the UID handler to
	  support and use it. Update the akonadiconnection to use the
	  streaming parser if the handler support is. Reviewed by Volker.

2009-02-25 10:50 +0000 [r931461]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Fix startup when
	  the MySQL config files didn't change.

2009-02-24 18:32 +0000 [r931064]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/handler/link.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/handler/create.h,
	  trunk/kdesupport/akonadi/server/src/handler/rename.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.h,
	  trunk/kdesupport/akonadi/server/src/handler/login.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.h,
	  trunk/kdesupport/akonadi/server/src/handler/logout.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.h,
	  trunk/kdesupport/akonadi/server/src/handler/noop.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.h,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.h,
	  trunk/kdesupport/akonadi/server/src/handler/capability.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.h,
	  trunk/kdesupport/akonadi/server/src/handler/status.h,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.h:
	  Add Q_OBJECT to subclasses, helps e.g when debugging.

2009-02-24 18:29 +0000 [r931063]  Rex Dieter rdieter@math.unl.edu

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: update user
	  mysql.conf only if global/local one's are newer, and in doing so,
	  clear mysql ib_logfile's

2009-02-22 16:37 +0000 [r930069]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp
	  (added), trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h
	  (added), trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/entity.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Extract
	  item retrieval code from the fetch handler and use it to retrieve
	  all missing item parts before we copy them. Changing the fetch
	  handler to use the new retrieval code as well will need some more
	  work though, as it's quite interleaved with everything else there
	  for performance reasons.

2009-02-22 13:04 +0000 [r929953]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.h
	  (added), trunk/kdesupport/akonadi/libs/imapset_p.h,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp
	  (added): Factor out the item query helper code, we will need that
	  outside of the command handlers as well.

2009-02-21 21:08 +0000 [r929675]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/exception.h: fix include
	  guard

2009-02-21 20:58 +0000 [r929670]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/shared/akcrash.cpp,
	  trunk/kdesupport/akonadi/server/shared/akcrash.h,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/exception.h (added),
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Move the
	  handler exception and its handling out of the FETCH handler, so
	  we can use it for all other handlers as well.

2009-02-21 15:53 +0000 [r929552]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp: check if
	  collection has a resource associated with it

2009-02-18 11:55 +0000 [r927758]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: Add a
	  revision number for each payload file and increment it when it
	  changes and delete the old one after.

2009-02-17 12:20 +0000 [r927412]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Fix item
	  copying in case the item data is in an external file. Increment
	  protocol version number.

2009-02-15 16:00 +0000 [r926523]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp: Update
	  resource identifiers on inter-resource moves.

2009-02-15 12:23 +0000 [r926432]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp:
	  Prevent moving into a child collection of the source collection.

2009-02-12 20:30 +0000 [r925239]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Prepare
	  the server to send the payload file name instead of the real data
	  if requested. The default case is to send the data over socket,
	  just like before.

2009-02-10 11:12 +0000 [r924168]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemappendtest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemappendtest.h:
	  Automatically register new mimetypes.

2009-02-09 22:05 +0000 [r924027]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp: Fix
	  the case when the external storage is switched back to internal
	  one.

2009-02-09 21:06 +0000 [r923995]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h: Use
	  qint64 for PartTable::datasize, set the threshold to a nicer
	  value.

2009-02-09 17:57 +0000 [r923906-923907]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Use
	  DbConfig to decide when it is needed to use external payload.

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h: Add
	  options to enable external storage payload (disabled by default)
	  and set a size threshold. Files above this threshold will be
	  stored in an external file if the external storage is enabled.

2009-02-07 07:55 +0000 [r922471]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: cleanup
	  part deletion code

2009-02-07 01:02 +0000 [r922428]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: use the
	  native function on mingw too

2009-02-06 09:04 +0000 [r922019]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp
	  (added), trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h (added),
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/global.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Commit the
	  preliminary version of "store payload in files" functionality.

2009-02-05 22:35 +0000 [r921908]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: added
	  #include <config-akonadi.h>

2009-02-05 22:19 +0000 [r921903]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: fixed the
	  build on platforms without unistd.h (ie. windows)

2009-02-01 22:41 +0000 [r919962]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Fix crash on
	  quit due to still accepting new connections while we are already
	  shutting down.

2009-02-01 22:10 +0000 [r919954]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/make-unittest-mysql.sh
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/create-unittest-values.sql
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/make-unittest-mysql-embedded.sh
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/make-unittest-sqlite.sh
	  (removed): obsolete, unittests use the testrunner now

2009-02-01 10:52 +0000 [r919551]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepimlibs/akonadi/resourcebase.cpp,
	  trunk/KDE/kdepimlibs/akonadi/resourcescheduler.cpp,
	  trunk/KDE/kdepimlibs/akonadi/resourcebase.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Resource.xml,
	  trunk/KDE/kdepimlibs/akonadi/resourcescheduler.h: Emit a signal
	  when a full sync has been completed. Not really interesting for
	  normal applications but crucial for the testrunner and the
	  benchmarks.

2009-02-01 10:19 +0000 [r919542]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Make sure the
	  query object is destroyed before we close the database
	  connection. Fixes a bunch of invalid reads found by valgrind.

2009-01-30 18:51 +0000 [r918781]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi: fix error message

2009-01-26 18:12 +0000 [r917032]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.h: Add some API docs
	  and removed an unimplemented method declaration.

2009-01-25 20:55 +0000 [r916728]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp: clear
	  the remote id on cross-resource copies

2009-01-25 17:30 +0000 [r916629]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Oops ... let
	  me try again

2009-01-25 17:19 +0000 [r916624]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: add restart
	  option in akonadictl

2009-01-24 15:26 +0000 [r916099]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.h: create an
	  "smart/lazy" algorithm for CacheClean wake ups

2009-01-24 15:01 +0000 [r916095]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepim/akonadiconsole/agentwidget.h,
	  trunk/KDE/kdepim/akonadiconsole/mainwidget.cpp,
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.cpp,
	  trunk/KDE/kdepim/akonadiconsole/CMakeLists.txt,
	  trunk/KDE/kdepim/akonadiconsole/agentwidget.ui (added),
	  trunk/KDE/kdepimlibs/akonadi/agentinstancewidget.cpp,
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/KDE/kdepim/akonadiconsole/agentwidget.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Add
	  support for manually restarting an agent instance and make that
	  available in akonadiconsole. This is extremely useful when
	  developing agents or resources. While I was at it, rework the
	  agent view in akonadiconsole to show more infos, add a context
	  menu, etc.

2009-01-24 12:42 +0000 [r916024]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml:
	  Database update code for the location -> collection rename.

2009-01-23 20:38 +0000 [r915808]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdater.cpp: Make
	  sure errors during database initialization or upgrade end up in
	  the error report.

2009-01-23 20:21 +0000 [r915806]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml: -
	  revert the table renaming in the pre-rename update code -
	  increment db schema version

2009-01-22 00:02 +0000 [r914892]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/kdesupport/akonadi/server/src/abstractsearchmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.h,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/xesammanager.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/intervalcheck.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/abstractsearchmanager.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/create-unittest-values.sql,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.cpp,
	  trunk/kdesupport/akonadi/server/src/xesammanager.cpp: janitor
	  job: change Location name to Collection

2009-01-09 23:33 +0000 [r908591]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/shared/akdebug.cpp: Don't put
	  essential code into assert(), doesn't seem to be executed in
	  release builds.

2009-01-05 15:00 +0000 [r906112]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/FindBoost.cmake (removed):
	  Require cmake-2.6.0 and its much nicer FindBoost.cmake CCMAIL:
	  adam@kde.org, vkrause@kde.org

2009-01-05 14:44 +0000 [r906099]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindBoost.cmake: Before,
	  it said: -- Boost Version required: .. Found: 1.34.1 Now it says:
	  -- Boost Version found: 1.34.1. Component PROGRAM_OPTIONS not
	  found. (given akonadi's use: find_package(Boost REQUIRED
	  COMPONENTS program_options)) I see that CMake's FindBoost is much
	  better about this already, it has _Boost_MISSING_COMPONENTS and
	  Boost_ERROR_REASON. Should this copy be removed? I think the
	  initial reason isn't right anymore, if we depend on cmake-2.6.2.
	  CCMAIL: adam@kde.org

2009-01-04 22:07 +0000 [r905714]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/cmake/modules/FindBoost.cmake: add 1.37
	  release

2009-01-04 15:57 +0000 [r905553]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: Don't
	  try to restart an agent that has been deleted.

2009-01-04 15:45 +0000 [r905550]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/phonon/cmake/FindAutomoc4.cmake: -update
	  FindAutomoc4.cmake to include documentation, same as in
	  kdelibs/cmake/modules/FindAutomoc4.cmake Alex

2009-01-03 16:19 +0000 [r905037]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version for trunk
	  to 1.1.80. Open for features again.

2009-01-03 16:10 +0000 [r905016]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prep for release 1.1.0

2009-01-03 10:14 +0000 [r904820]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentinstance.cpp,
	  trunk/kdesupport/akonadi/server/control/processcontrol.h,
	  trunk/kdesupport/akonadi/server/control/agentinstance.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  Restart agents when their executable changed, much easier to test
	  changes this way :)

2008-12-30 17:49 +0000 [r903502]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/CMakeLists.txt: - properly
	  set up compile flags (QT_DEBUG/QT_NO_DEBUG, ...) to make sure
	  that the plugins have the correct Q_PLUGIN_VERIFICATION_DATA -
	  Fix link against boost on windows/msvc

2008-12-30 16:22 +0000 [r903484]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindBoost.cmake (added):
	  We need to use kde's script for finding boost, not cmake's, as
	  otherwise Boost_PROGRAM_OPTIONS_LIBRARY for example is not
	  defined.

2008-12-30 16:14 +0000 [r903479]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Add the boost
	  include dir explicitely, fixes the build on OSX.

2008-12-30 14:45 +0000 [r903426]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/shared/akapplication.cpp,
	  trunk/kdesupport/akonadi/server/shared/akapplication.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Use
	  AkApplication here as well so we get the same command line
	  handling as with the other applications.

2008-12-30 10:21 +0000 [r903251]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared/akapplication.cpp,
	  trunk/kdesupport/akonadi/server/shared/akapplication.h,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt: While not
	  starting the server without the control process being available
	  is the right thing to do, it is rather inconvenient during
	  debugging/testing, so allow to overwrite that check with a
	  command line option.

2008-12-29 21:34 +0000 [r903076]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Try harder to
	  prevent one of the partial running states (control dead, server
	  running) by only allowing the server to start if the control
	  process is registered at D-Bus and terminating it when the
	  control process dies.

2008-12-29 21:01 +0000 [r903068]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake: Include revision
	  number in the version string when building from SVN.

2008-12-29 20:05 +0000 [r903051]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared/akapplication.cpp (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/server/shared/akapplication.h (added),
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt: - shut
	  down when we lost the connection to the D-Bus session bus (which
	  likely means the session was closed, but as a non-gui application
	  we have no way of knowing that). - add some basic handling of
	  command line args, at least 'akonadiserver --help' does no longer
	  accidentally start a partial Akonadi server. - add a --version
	  command line option which will be useful for the self-tests BUG:
	  178916

2008-12-23 17:29 +0000 [r900813]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/notificationmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.h: Add a
	  D-Bus call to flush the notification queue. This is needed for
	  unit tests to avoid ugly and unreliable QTest::qWait() hacks
	  there. While at it, also made the notification interval
	  configurable so this is easier to test.

2008-12-21 12:43 +0000 [r899677]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: MySQL doesn't
	  like world-writeable config files, so adjust the access rights of
	  our file if it somehow ends up being world-writable.

2008-12-18 15:55 +0000 [r898650]  Manolo Valdes nolis71cu@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: add
	  FreeBSD mysqld default path

2008-12-16 19:06 +0000 [r897748]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prep for release

2008-12-07 11:49 +0000 [r893730]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/KDE/kdepimlibs/akonadi/itemfetchjob.cpp,
	  trunk/KDE/kdepimlibs/akonadi/session_p.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Restore
	  protocol backward compatibility with Akonadi 1.0.x servers.

2008-12-02 10:36 +0000 [r891506]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/queryserver/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: -renamed project()
	  from "akonadi" to "Akonadi" -remove some unnecessary include dirs
	  (CMAKE_SOURCE_DIR/akonadi was probably added by somebody building
	  akonadi as part of kdesupport, and CMAKE_SOURCE_DIR was probably
	  added by somebody building akonadi separate, so now use the
	  project specific Akonadi_(SOURCE|BINARY)_DIR variables instead
	  which point always to the same directory) It still builds both
	  separate and as part of kdesupport, so I think it should be ok.
	  Alex CCMAIL: winter@kde.org CCMAIL: kde-pim@kde.org

2008-12-02 10:14 +0000 [r891498]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/CMakeLists.txt (removed),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt: -proper RPATH
	  handling (see comments in CMakeLists.txt) -remove LIB_DESTINATION
	  variable, LIB_INSTALL_DIR does just that -remove LIB_INSTALL_DIR
	  hack for Windows, this is already handled in
	  INSTALL_TARGETS_DEFAULT_ARGS -use INSTALL_TARGETS_DEFAULT_ARGS
	  everywhere for installing libs (handles the bin/lib directories
	  on Windows) -remove empty cmake/CMakeLists.txt Alex

2008-12-01 14:09 +0000 [r891268]  Matthias Kretz kretz@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  switch to recommended automoc macros

2008-11-28 08:30 +0000 [r889987]  Laurent Montel montel@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp: Fix iterator

2008-11-25 02:50 +0000 [r888664]  Jesse Lee Zamora xtremek2008@aim.com

	* trunk/kdesupport/soprano/server/sparql/sparqlmodel.cpp,
	  trunk/kdesupport/phonon/phonon/experimental/videodataoutput.cpp,
	  trunk/kdesupport/phonon/xine/audiodataoutput.cpp,
	  trunk/kdesupport/soprano/test/multithreadingtest.cpp,
	  trunk/kdesupport/phonon/xine/bytestream.cpp,
	  trunk/kdesupport/soprano/index/CMakeLists.txt,
	  trunk/kdesupport/soprano/test/cluceneindextest.cpp,
	  trunk/kdesupport/strigi/src/xmlindexer/cgixmlindexer.cpp,
	  trunk/kdesupport/phonon/xine/mediaobject.cpp,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: Fixes unused
	  variable warnings for cleaner compilation.

2008-11-25 01:57 +0000 [r888661]  Jesse Lee Zamora xtremek2008@aim.com

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.cpp:
	  Fixes variable unused warnings for cleaner compilation.

2008-11-23 13:28 +0000 [r888019]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: Fall
	  back to the default server path if the configured one points to a
	  non-existing file.

2008-11-23 13:00 +0000 [r888015]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp,
	  trunk/kdesupport/akonadi/libs/xdgbasedirs_p.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: Try
	  harder to find the mysqld executable during runtime.

2008-11-19 19:31 +0000 [r886652]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS: Prep for release.

2008-11-09 14:23 +0000 [r881993]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agenttype.cpp (added),
	  trunk/kdesupport/akonadi/server/control/agentinstance.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.h (added),
	  trunk/kdesupport/akonadi/server/control/agentinstance.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentinfo.cpp (removed),
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/control/agentinfo.h (removed):
	  Rename to reflect what is left here after yesterdays changes.

2008-11-08 16:59 +0000 [r881636]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Status.xml,
	  trunk/kdesupport/akonadi/server/control/agentinstance.cpp
	  (added), trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentinstance.h (added),
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentinfo.cpp,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/control/agentinfo.h: Query agent
	  status information asynchronously and answer all queries from
	  cached values. This massively reduces the risk of a misbehaving
	  agents blocking the Akonadi server and thus all clients. This
	  also removes the restriction that agents were not allowed to
	  access the agent manager themselves to avoid deadlocks.

2008-11-04 21:16 +0000 [r880161]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Fix the
	  size parsing.

2008-11-01 16:14 +0000 [r878678]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf:
	  Increase the limit to something more realistical.

2008-11-01 10:09 +0000 [r878448]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Don't
	  mark all new items as recent. No users for that, and if there are
	  users, they should simply set it in the resource. Fixes the
	  Mailody problem that opening a folder for the first time all
	  messages are marked as recent, although they also contain the
	  \Seen flag.

2008-11-01 09:26 +0000 [r878427]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/append.h,
	  trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Changes to
	  akonadi so it can store the size of an item. - database update -
	  protocol update - adjustments to the parsing code

2008-10-29 08:11 +0000 [r877324]  Loic Marteau loic.marteau@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  build fix CCMAIL vkrause@kde.org

2008-10-04 23:05 +0000 [r867919]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf: 1M
	  is to restrictive, messages can and will be bigger.

2008-10-04 13:33 +0000 [r867782]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: Fix
	  config keys.

2008-10-04 13:02 +0000 [r867771]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Warn
	  about deadlock-prone D-Bus calls from agents and do the best we
	  can to limit the damage. However, it's likely too late at this
	  point already, these calls have to be prevented on the client
	  side.

2008-10-03 17:30 +0000 [r867514]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp: Make sure
	  rev is always initialized. Detected by Christoph Bartoschek
	  <bartoschek@gmx.de>.

2008-09-28 10:54 +0000 [r865601]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Fix database
	  creation, add some more error handling.

2008-09-28 09:32 +0000 [r865589]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: a few
	  more fallbacks

2008-09-28 09:27 +0000 [r865587]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp (added),
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Factor out the
	  database configuration handling so that we use the same default
	  settings everywhere. Also, add some more error checking and
	  automatically fall back to using the defaults if the provided
	  settings don't work.

2008-09-26 21:27 +0000 [r865167]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Patch by
	  Olivier Trichet <nive@nivalis.org> to prevent translated month
	  names in the protocol.

2008-09-21 17:34 +0000 [r863284]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Improve error
	  messages.

2008-09-21 10:31 +0000 [r863143]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: - more verbose
	  error messages - always start with an empty MySQL error log

2008-09-19 07:56 +0000 [r862528]  Andreas Pakulat apaku@gmx.de

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: win32 fix. The
	  functions from akdebug and akcrash are not exported, hence they
	  need to be built into the server the same way as they're built
	  into the control binary.

2008-09-14 15:49 +0000 [r860911]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/shared/kcrash.cpp (removed),
	  trunk/kdesupport/akonadi/server/shared/akcrash.cpp (added),
	  trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared/kcrash.h (removed),
	  trunk/kdesupport/akonadi/server/shared/akcrash.h (added),
	  trunk/kdesupport/akonadi/server/shared/akdebug.cpp,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt: Renamed
	  kcrash.h/.cpp to akcrash.h/.cpp to avoid picking up the one from
	  KDE

2008-09-14 13:35 +0000 [r860860]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/kcrash.h (removed),
	  trunk/kdesupport/akonadi/server/shared/kcrash.cpp (added),
	  trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared (added),
	  trunk/kdesupport/akonadi/server/shared/kcrash.h (added),
	  trunk/kdesupport/akonadi/server/shared/akdebug.cpp (added),
	  trunk/kdesupport/akonadi/server/src/akdebug.cpp (removed),
	  trunk/kdesupport/akonadi/server/control/kcrash.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/shared/akdebug.h (added),
	  trunk/kdesupport/akonadi/server/src/akdebug.h (removed):
	  Reorganize shared code a bit and write backtraces also to the
	  error log file.

2008-09-14 11:16 +0000 [r860807]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  handle multiline output correctly

2008-09-13 17:33 +0000 [r860654]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akdebug.cpp (added),
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/akdebug.h (added): Add
	  akError()/akFatal(), which replace the corresponding Qt methods
	  and also log the errors into a file so we have access to them
	  from the client side.

2008-09-13 12:23 +0000 [r860581]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/debuginterface.h (added),
	  trunk/kdesupport/akonadi/server/src/tracer.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/tracer.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/debuginterface.cpp (added):
	  Disable the protocol debugging by default and allow to switch it
	  on during runtime via D-Bus.

2008-09-08 20:01 +0000 [r858839]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Make
	  valgrind output nice again by only writing out full lines.

2008-09-07 19:09 +0000 [r858315]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  Terminate the control process when the server process failed to
	  start.

2008-09-07 18:05 +0000 [r858304]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Allow to
	  configure the path to the MySQL server instead of hardcoding that
	  during runtime.

2008-09-06 12:47 +0000 [r857792]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/Mainpage.dox (added),
	  trunk/kdesupport/akonadi/server/Mainpage.dox (removed): Move the
	  Mainpage.dox one level up to hopefully get API docs again.

2008-08-29 19:23 +0000 [r854557]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Up
	  the time for the crash timer reset to one minute. Now it actually
	  seems to work for me.

2008-08-29 13:19 +0000 [r854427]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Add
	  the ability to debug or valgrind a resource right from the
	  beginning, similar to the way this can be done with KIO slaves.
	  Use AKONADI_VALGRIND for valgrinding (skin can be defined with
	  AKONADI_VALGRIND_SKIN) Use AKONADI_DEBUG_WAIT for debugging.
	  Example: <kill the existing akonadi_control process> export
	  AKONADI_DEBUG_WAIT=maildir akonadiconsole <attach gdb to the
	  stopped maildir process>

2008-08-24 17:14 +0000 [r851806]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp: Revert last,
	  breaks item listing under some conditions. Instead add a
	  temporary hack to make the tag resource work for now.

2008-08-24 16:16 +0000 [r851795]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp:
	  initialize

2008-08-24 15:26 +0000 [r851771]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h: Fix
	  fetching of linked items in arbitrary collections. At least with
	  a bit of cheating since I didn't manage to come up with a query
	  that contains the results I want without duplicates. So, this
	  probably can be optimized.

2008-08-24 11:41 +0000 [r851696]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/libs/notificationmessage_p.h,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Change
	  notification support for item references in virtual collections.

2008-08-24 10:21 +0000 [r851658]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/intervalcheck.cpp: be less
	  noisy

2008-08-24 09:36 +0000 [r851642]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/.kateconfig (added),
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp (added),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.h (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  LINK/UNLINK commands to edit references to items in virtual
	  collections. No change notifications yet though.

2008-08-23 13:47 +0000 [r851287]  Harald Fernengel harry@kdevelop.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: integrate 851286 from
	  akonadi-1.0 branch - set rpath correctly

2008-08-13 17:59 +0000 [r846588]  Harald Fernengel harry@kdevelop.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: integrate
	  message verbosity from 1.0 branch

2008-08-11 09:31 +0000 [r845126]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepim/akonadi/CMakeLists.txt,
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.cpp,
	  trunk/KDE/kdepim/akonadi/migration/kres/kabcmigrator.cpp (added),
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.h,
	  trunk/KDE/kdepimlibs/akonadi/agentbase.cpp,
	  trunk/KDE/kdepim/akonadi/migration/kres/kresmigrator.cpp (added),
	  trunk/KDE/kdepim/akonadi/migration/kres/kabcmigrator.h (added),
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml,
	  trunk/KDE/kdepim/akonadi/migration (added),
	  trunk/KDE/kdepimlibs/akonadi/agentbase.h,
	  trunk/KDE/kdepim/akonadi/migration/kres/kresmigrator.h (added),
	  trunk/KDE/kdepim/akonadi/migration/kres (added),
	  trunk/KDE/kdepim/akonadi/resources/vcard/vcardresource.cpp,
	  trunk/KDE/kdepim/akonadi/migration/kres/main.cpp (added),
	  trunk/KDE/kdepim/akonadi/migration/CMakeLists.txt (added),
	  trunk/KDE/kdepim/akonadi/resources/vcard/vcardresource.h,
	  trunk/KDE/kdepim/akonadi/migration/kres/CMakeLists.txt (added): -
	  provide a way to notify agents that their configuration has been
	  changed remotely and make use of that in the vcard resource - add
	  an initial kabc kresources migrator, mostly infrastructure, so
	  far it can only handle vcard files

2008-08-07 08:54 +0000 [r843430]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  increment protocol version to detect the modification time
	  support

2008-07-24 12:27 +0000 [r837311]  Bertjan Broeksema b.broeksema@home.nl

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Make sure
	  that all modification times are stored in UTC time zone.

2008-07-23 08:31 +0000 [r836883]  Bertjan Broeksema b.broeksema@home.nl

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Return the
	  modification time when an item is appended/stored/fetcehd.

2008-07-22 20:52 +0000 [r836720]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Move version from 0.82.0
	  to 1.0.80. This is now akonadi unstable branch. Akonadi stable is
	  in /branches/akonadi/1.0.

2008-07-22 15:32 +0000 [r836583]  Bertjan Broeksema b.broeksema@home.nl

	* trunk/kdesupport/akonadi/libs/imapparser.cpp: Unquoted date time
	  with a lenght of 26 characters was not parsed properly. Fixed by
	  this commit. Updated test will be committed soon after this.
	  example of correct date which did not get parsed correctly:
	  22-Jul-2008 16:31:48 +0000

2008-07-21 15:33 +0000 [r836028]  Bertjan Broeksema b.broeksema@home.nl

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Add
	  serverside timestamp support for items.

2008-07-20 08:55 +0000 [r835215]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp: better fix for
	  windows

2008-07-19 13:19 +0000 [r834689]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: make msvc and
	  ebn happy

2008-07-18 23:20 +0000 [r834451]  Michel Hermier michel.hermier@gmail.com

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/phonon/cmake/FindAutomoc4.cmake: Revert 834172
	  so that automoc4 is found at the correct place.

2008-07-18 10:14 +0000 [r834172]  Matthias Kretz kretz@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/phonon/cmake/FindAutomoc4.cmake: inside
	  kdesupport the location for Automoc4Config.cmake has changed

2008-07-08 21:59 +0000 [r829707]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/phonon/cmake/FindAutomoc4.cmake: -apply same
	  patch as in kdelibs/cmake/modules/, don't append /lib to
	  CMAKE_INSTALL_PREFIX, since this is already part of PATH_SUFFIXES
	  Alex

2008-06-18 16:00 +0000 [r821830]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Bump version, run
	  changelog script and update news file.

2008-06-05 21:22 +0000 [r817369]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake: -sync
	  with FindAutomoc4.cmake from kdelibs, support all cmake search
	  variables Alex

2008-05-29 17:22 +0000 [r814221]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: one more
	  hardcoded search path doesn't hurt

2008-05-27 17:42 +0000 [r813424]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Fix the error message

2008-05-26 06:27 +0000 [r812698]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemfetchtest.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemstoretest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemfetchtest.h: Finally
	  implement all the fetch modes advertised in ItemFetchScope in the
	  server and improve the tests for them a bit.

2008-05-26 06:21 +0000 [r812696]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: Notify
	  already running clieants about all found types during startup.
	  This fixes a crash in akonaditray when starting the server.

2008-05-24 16:47 +0000 [r812135]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepimlibs/akonadi/itemmodifyjob.cpp,
	  trunk/KDE/kdepimlibs/akonadi/protocolhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/KDE/kdepimlibs/akonadi/itemfetchjob.cpp,
	  trunk/KDE/kdepimlibs/akonadi/session.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/create-unittest-values.sql,
	  trunk/KDE/kdepimlibs/akonadi/protocolhelper.h,
	  trunk/KDE/kdepimlibs/akonadi/itemserializer.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemserializertest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/KDE/kdepimlibs/akonadi/itemcreatejob.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemserializertest.h: Add item
	  part namespaces. This is necessary to distinguish between remote
	  parts that can be retrieved from the resource (payload) and local
	  parts (attributes), which again is necessary to finally implement
	  all the fetch modes advertised in ItemFetchScope. Existing data
	  should be converted correctly, but you need to update the server
	  as well as the client library.

2008-05-22 12:09 +0000 [r811139]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindLibXslt.cmake
	  (removed), trunk/kdesupport/akonadi/CMakeLists.txt: We require
	  xsltproc, but don't need libxslt development stuff. CCMAIL:
	  vkrause@kde.org, kevin.krammer@gmx.at

2008-05-20 15:17 +0000 [r810378]  Benjamin Reed ranger@befunk.com

	* trunk/kdesupport/phonon/CMakeLists.txt,
	  trunk/kdesupport/soprano/CMakeLists.txt,
	  trunk/kdesupport/taglib/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt: fix install_name RPATH
	  stuff on OSX

2008-05-19 10:26 +0000 [r809711]  Jarosław Staniek staniek@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: make libs install to bin
	  on Windows, so far this fixes akonadiprivate.dll destination

2008-05-18 22:03 +0000 [r809435]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog (added),
	  trunk/kdesupport/akonadi/NEWS (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/makechangelog (added): Prepare for
	  release: - add NEWS file - add makechangelog scripts which
	  generates the ChangeLog - bump version number to 0.81.0

2008-05-18 11:31 +0000 [r809101]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepimlibs/akonadi/session.cpp,
	  trunk/KDE/kdepimlibs/akonadi/session_p.h,
	  trunk/KDE/kdepimlibs/akonadi/job.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/KDE/kdepimlibs/akonadi/job.h: Check if the server protocol
	  version is recent enough.

2008-05-17 16:26 +0000 [r808811]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Don't
	  overwrite the part list, it might have content here already.

2008-05-13 19:03 +0000 [r807399]  Jakub Stachowski qbast@go2.pl

	* trunk/kdesupport/akonadi/libs/imapparser.cpp,
	  trunk/kdesupport/akonadi/libs/imapparser_p.h: Collection parsing
	  optimization, server part. Duplication is rather ugly, but
	  porting everything to QVarLengthArray would make lots of code
	  even more ugly.

2008-05-10 20:54 +0000 [r806282]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake: with
	  cmake 2.6, also search in the dirs in CMAKE_PREFIX_PATH Alex

2008-05-07 19:50 +0000 [r805182]  Jakub Stachowski qbast@go2.pl

	* trunk/kdesupport/akonadi/libs/imapparser.cpp: Trivial
	  optimization for quoted string parsing - if during string scan no
	  slash was found then there is no need to try and replace \\ and
	  \"

2008-05-07 10:59 +0000 [r804999]  Laurent Montel montel@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.h: Fix
	  forward declaration

2008-05-05 18:20 +0000 [r804336]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp:
	  dynamic_cast provides a runtime check, static_cast doesn't

2008-05-05 17:48 +0000 [r804324-804326]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (removed): two seconds to late...

	* trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (added): we need this one

2008-05-05 17:44 +0000 [r804320]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml
	  (added): Adding missing file

2008-05-05 16:39 +0000 [r804301]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/control/org.freedesktop.Akonadi.Control.service.cmake
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.SearchQueryIterator.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.Search.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.Server.xml
	  (removed),
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (removed), trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Tracer.xml
	  (removed), trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.NotificationManager.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/resourcemanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.h,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Resource.xml
	  (removed),
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Status.xml
	  (added), trunk/kdesupport/akonadi/server/queryserver/main.cpp,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.ControlManager.xml
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.TracerNotification.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/queryserver/CMakeLists.txt,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml
	  (added),
	  trunk/kdesupport/akonadi/server/control/org.kde.Akonadi.Control.service.cmake
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/queryserver/queryservertest.h,
	  trunk/kdesupport/akonadi/server/akonadictl/main.cpp,
	  trunk/kdesupport/akonadi/server/control/agentinfo.h,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.SearchQuery.xml
	  (added), trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Status.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.ControlManager.xml
	  (removed), trunk/kdesupport/akonadi/interfaces/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.SearchQueryIterator.xml
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.Search.xml
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.Server.xml
	  (added), trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Tracer.xml
	  (added),
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.NotificationManager.xml
	  (added),
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.AgentManager.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Resource.xml
	  (added),
	  trunk/kdesupport/akonadi/server/queryserver/queryservertest.cpp,
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.SearchQuery.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/queryserver/org.kde.Akonadi.Search.service.cmake,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.TracerNotification.xml
	  (added): Since Akonadi is not a KDE-only service, replace the
	  org.kde namespacing with appropriate org.freedesktop Lets hope I
	  didn't miss any occurencies

2008-05-02 15:10 +0000 [r803320]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/libs/imapparser.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/libs/imapparser_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Extend
	  database and protocol to have format version numbers for parts

2008-05-02 15:02 +0000 [r803316]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Resource.xml:
	  Extend requestItemDelivery() by mimeType to provide a sane API on
	  ResourceBase side.

2008-04-29 23:04 +0000 [r802602]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/COPYING-CMAKE-SCRIPTS
	  (added): Referenced by some of the files in here.

2008-04-28 19:14 +0000 [r802188]  André Wöbbeking woebbeking@kde.org

	* trunk/kdesupport/akonadi/akonadi.pc.cmake: INCLUDE_INSTALL_DIR is
	  set by KDE4 or QImagaBlitz in kdesupport

2008-04-28 18:55 +0000 [r802182]  André Wöbbeking woebbeking@kde.org

	* trunk/kdesupport/akonadi/libs/CMakeLists.txt: don't install
	  includes in ../include/qimageblitz/akonadi INCLUDE_INSTALL_DIR is
	  set by KDE4 or QImagaBlitz in kdesupport

2008-04-28 13:12 +0000 [r802065]  Robert Zwerus arzie@dds.nl

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp: Fixed
	  foreach misuse.

2008-04-26 14:16 +0000 [r801397]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: yes, 4.4 is needed

2008-04-26 11:30 +0000 [r801335]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: -add docs and
	  standard argument handling to FindAutomoc4.cmake -state minimum
	  required cmake version Alex

2008-04-26 10:43 +0000 [r801313-801315]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: AkonadiInternal.cmake
	  renamed to InstallSettings.cmake Alex

	* trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake
	  (removed),
	  trunk/kdesupport/akonadi/cmake/modules/InstallSettings.cmake
	  (added): rename AkonadiInternal.cmake to InstallSettings.cmake,
	  since it doesn't contains anything else anymore Alex

	* trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake,
	  trunk/kdesupport/akonadi/CMakeLists.txt: I think the
	  AKONADI_DBUS_INTERFACES_DIR and AKONADI_DBUS_SERVICES_DIR are
	  completely unused, so remove them let me know if this breaks
	  something some restructuring Alex

2008-04-26 10:03 +0000 [r801303]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: -don't indent almost the
	  whole file, but exit quickly at the beginning in the error case
	  Alex

2008-04-26 09:28 +0000 [r801295]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/automoc (removed),
	  trunk/kdesupport/akonadi/cmake/CMakeLists.txt: no kde4automoc
	  anymore in akonadi Alex

2008-04-26 09:23 +0000 [r801291]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake,
	  trunk/kdesupport/akonadi/cmake/modules/kde4_exec_via_sh.cmake
	  (removed),
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/kde4automoc.files.in
	  (removed), trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/KDE4Macros.cmake
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  -remove kde4 files -use add_executable() + add_test() instead of
	  kde4_add_unit_test(), it does 95% the same -insert
	  enable_testing() so we get a "make test" target to run all tests
	  -rename automoc4_handle_automoc() to automoc4() Alex

2008-04-26 09:14 +0000 [r801283]  Laurent Montel montel@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Not necessary now

2008-04-26 08:28 +0000 [r801268]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake
	  (added): -add FindAutomoc4.cmake, forgot that last night Alex

2008-04-26 08:06 +0000 [r801261]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/control/kcrash.cpp: mingw doesn't
	  have _exit(), only _Exit() or better - it has _exit() but not
	  when __STRICT_ANSI__ is defined

2008-04-25 22:29 +0000 [r801204]  Albert Astals Cid tsdgeos@terra.es

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/queryserver/query.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/xesammanager.cpp: const & in
	  foreach avoids unnecessary constructor calls

2008-04-25 22:23 +0000 [r801203]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/automoc/Automoc4Config.cmake,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt: build
	  akonadi using automoc4 from kdesupport (that's the first automoc4
	  user !) I think we need a shorter name for the macro:
	  automoc4_handle_automoc() is not ideal automoc4(),
	  automoc4_wrap(), automoc4_do(), automoc4_run() ? Alex CCMAIL:
	  winter@kde.org CCMAIL: kretz@kde.org

2008-04-25 21:24 +0000 [r801189]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: -does akonadi really
	  require Qt 4.4 or is for akonadi an older Qt version good enough
	  ? -just some cosmetics Alex CCMAIL: winter@kde.org

2008-04-25 20:51 +0000 [r801177]  Ingo Klöcker kloecker@kde.org

	* trunk/kdesupport/akonadi/AUTHORS: Removed stray commas and a
	  dupe. SVN_SILENT

2008-04-25 19:52 +0000 [r801148]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/akonadi.pc.cmake (added): new akonadi.pc
	  file is created and installed in lib/pkgconfig set variables for
	  installation dirs bin, lib, ...

2008-04-25 19:20 +0000 [r801136]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: set variables for
	  the version, and use them for the library versioning.

2008-04-25 16:24 +0000 [r801083]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/README (added),
	  trunk/kdesupport/akonadi/INSTALL (added): Add INSTALL and README
	  file

2008-04-25 15:12 +0000 [r801052]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: no need to link
	  against kdewin32 lib here

2008-04-25 14:25 +0000 [r801042]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/control/kcrash.cpp: _exit() ->
	  exit() because _exit() is not available when compiling on
	  windows/mingw

2008-04-25 07:22 +0000 [r800908]  André Wöbbeking woebbeking@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: - use KDE's compiler
	  flags for -Wno-long-long and more warnings - add the cmake
	  directory after that flags are set

2008-04-25 05:09 +0000 [r800884]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: win32 compile++

2008-04-24 23:15 +0000 [r800838]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/CMakeLists.txt: add feature output log
	  as mentioned by pusling

2008-04-24 16:37 +0000 [r800686]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: set an INSTALL dir for
	  include files

2008-04-24 14:01 +0000 [r800608-800609]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Disable testing stuff!

	* trunk/kdesupport/akonadi/CMakeLists.txt: Check that Qt has DBus

2008-04-24 10:23 +0000 [r800462]  Nicolas Lécureuil nlecureuil@mandriva.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Require Qt 4.4 minimum

2008-04-24 08:17 +0000 [r800427]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindQt4.cmake: Find Qt on
	  the mac without frameworks but with debugging.

2008-04-24 07:02 +0000 [r800391]  Will Stephenson wstephenson@kde.org

	* trunk/KDE/kdepim/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/KDE/kdepim/akonadi/server (removed): Post Akonadi move
	  tidying part 11: Remove unused macro from akonadi, and remove
	  empty server dir from kdepim

2008-04-24 00:11 +0000 [r800361]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/queryserver/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: we need to compute
	  our own _ENABLE_EXCEPTIONS variable and use it instead of the
	  KDE4_ENABLE_EXCEPTIONS variable.

2008-04-23 23:41 +0000 [r800354]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt: remove
	  ${KDE4_KDECORE_LIBS}

2008-04-23 23:31 +0000 [r800352]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: kde4_add_library()
	  -> add_library() must use qt4_automoc() now.

2008-04-23 23:26 +0000 [r800351]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/queryserver/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt:
	  kde4_add_executable() -> add_executable() must use qt4_automoc()
	  now.

2008-04-23 21:50 +0000 [r800311]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/server/control/kcrash.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: as unistd.h is
	  not available on msvc, do not use it - rather check with cmake
	  for availability - msvc compiles now

2008-04-23 21:20 +0000 [r800304]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/lgpl-license (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/AUTHORS (added),
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: After discussion we
	  will start at version 0.80.0 and the final tarball will have
	  1.0.0. Add the license and a list of authors.

2008-04-23 21:06 +0000 [r800301]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/cmake/automoc/CMakeLists.txt: Don't
	  install our borrowed automoc.

2008-04-23 20:39 +0000 [r800285]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: We can no longer
	  use KDE's generic version numbers. hard code them for now.

2008-04-23 20:27 +0000 [r800281]  Andreas Hartmetz ahartmetz@gmail.com

	* trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt: this
	  fixes the build when using the gold linker.

2008-04-23 19:54 +0000 [r800270-800271]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: look in builddir/akonadi
	  for include files too

	* trunk/kdesupport/akonadi/libs/CMakeLists.txt: remove broken
	  message() statement that was probably around for debugging
	  purposes.

2008-04-23 19:23 +0000 [r800264]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/libs/akonadiprotocolinternals_export.h,
	  trunk/kdesupport/akonadi/kdemacros.h.cmake (removed),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiprivate_export.h: Last
	  few kdemacros.h dependencies; thanks Allen

2008-04-23 19:16 +0000 [r800261]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiprivate_export.h:
	  Another KDE dependency off to the salt mines.

2008-04-23 19:06 +0000 [r800257]  Matthew Woehlke mw_triad@users.sourceforge.net

	* trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake: Fix
	  kde4automoc dependency so parallel builds work.

2008-04-23 18:48 +0000 [r800246]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/CMakeLists.txt: Fix include
	  dirs for unittests

2008-04-23 18:42 +0000 [r800245]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/tests/querybuildertest.cpp,
	  trunk/kdesupport/akonadi/server/src/tests/interpretertest.cpp:
	  Must not use KDE includes

2008-04-23 17:51 +0000 [r800226]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Use relatively
	  specified include directories

2008-04-23 17:48 +0000 [r800225]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/control/CMakeLists.txt: More
	  relative paths

2008-04-23 17:44 +0000 [r800224]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Use paths
	  relative to current source dir

2008-04-23 17:38 +0000 [r800219-800223]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/kdemacros.h.cmake (added): another
	  missing file

	* trunk/kdesupport/akonadi/cmake/automoc (added),
	  trunk/kdesupport/akonadi/cmake/automoc/kde4automoc.cpp (added),
	  trunk/kdesupport/akonadi/cmake/modules/MacroAdditionalCleanFiles.cmake
	  (added), trunk/kdesupport/akonadi/cmake/modules (added),
	  trunk/kdesupport/akonadi/cmake/modules/FindLibXslt.cmake (added),
	  trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/kde4_exec_via_sh.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/kde4automoc.files.in
	  (added), trunk/kdesupport/akonadi/cmake/modules/FindQt4.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/MacroEnsureVersion.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/FindSharedMimeInfo.cmake
	  (added), trunk/kdesupport/akonadi/cmake/modules/KDE4Macros.cmake
	  (added), trunk/kdesupport/akonadi/cmake/automoc/CMakeLists.txt
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/MacroPushRequiredVars.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/MacroLogFeature.cmake
	  (added): Add cmake infrastructure

	* trunk/kdesupport/akonadi/CMakeLists.txt: also build when not
	  building all of kdesupport

2008-04-23 17:29 +0000 [r800215]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt (added),
	  trunk/kdesupport/akonadi/cmake/CMakeLists.txt (added),
	  trunk/kdesupport/akonadi/interfaces/CMakeLists.txt (added),
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt (added): Oops,
	  forgot these.

2008-04-23 17:25 +0000 [r800213]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/libs/notificationmessage_p.h (added),
	  trunk/kdesupport/akonadi/server/interfaces (added),
	  trunk/KDE/kdepim/akonadi/config-akonadi.h.cmake (removed),
	  trunk/KDE/kdepim/akonadi/server/akonadictl (removed),
	  trunk/KDE/kdepim/akonadi/server/Mainpage.dox (removed),
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (added), trunk/kdesupport/akonadi/server/src (added),
	  trunk/KDE/kdepimlibs/akonadi/imapparser_p.h (removed),
	  trunk/kdesupport/akonadi/libs/protocol_p.h (added),
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.NotificationManager.xml
	  (added), trunk/kdesupport/akonadi/libs/imapset_p.h (added),
	  trunk/kdesupport/akonadi/libs/imapparser_p.h (added),
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Resource.xml
	  (added), trunk/KDE/kdepimlibs/akonadi/xdgbasedirs.cpp (removed),
	  trunk/kdesupport/akonadi/server/tests (added),
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake (added),
	  trunk/KDE/kdepim/akonadi/server/queryserver (removed),
	  trunk/kdesupport/akonadi/server/akonadictl (added),
	  trunk/kdesupport/akonadi/server/Mainpage.dox (added),
	  trunk/KDE/kdepim/akonadi/server/templates (removed),
	  trunk/kdesupport/akonadi/cmake (added),
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/interfaces (added),
	  trunk/kdesupport/akonadi/server/akonadictl/main.cpp,
	  trunk/KDE/kdepimlibs/akonadi/akonadiprotocolinternals_export.h
	  (removed), trunk/KDE/kdepimlibs/akonadi/notificationmessage_p.h
	  (removed),
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.Resource.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/KDE/kdepimlibs/akonadi/imapset_p.h (removed),
	  trunk/KDE/kdepim/akonadi/server/control (removed),
	  trunk/kdesupport/akonadi/server/queryserver (added),
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/templates (added),
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp (added),
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.AgentManager.xml
	  (added), trunk/KDE/kdepimlibs/akonadi/imapparser.cpp (removed),
	  trunk/kdesupport/akonadi/server/akonadictl/akonadistarter.cpp,
	  trunk/kdesupport/akonadi/libs/imapset.cpp (added),
	  trunk/kdesupport/akonadi/libs/imapparser.cpp (added),
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/KDE/kdepim/akonadi/clients/akonadiconsole/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/KDE/kdepim/akonadi/clients/akonamail/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control (added),
	  trunk/kdesupport/akonadi/libs/akonadiprotocolinternals_export.h
	  (added), trunk/kdesupport/akonadi/libs (added),
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/KDE/kdepimlibs/akonadi/protocol_p.h (removed),
	  trunk/KDE/kdepimlibs/akonadi/akonadi-prefix.h.cmake (removed),
	  trunk/kdesupport/akonadi/libs/xdgbasedirs_p.h (added),
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.AgentManager.xml
	  (removed), trunk/KDE/kdepim/akonadi/server/CMakeLists.txt
	  (removed),
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Tracer.xml
	  (added), trunk/kdesupport/akonadi (added),
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/KDE/kdepimlibs/akonadi/notificationmessage.cpp (removed),
	  trunk/KDE/kdepimlibs/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/KDE/kdepim/akonadi/akonadi-mime.xml (removed),
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/KDE/kdepimlibs/akonadi/imapset.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h,
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.Tracer.xml
	  (removed),
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.NotificationManager.xml
	  (removed), trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/KDE/kdepim/akonadi/CMakeLists.txt,
	  trunk/KDE/kdepimlibs/akonadi/xdgbasedirs_p.h (removed),
	  trunk/kdesupport/akonadi/akonadi-mime.xml (added),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/tracer.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Status.xml
	  (added), trunk/KDE/kdepim/akonadi/server/interfaces (removed),
	  trunk/kdesupport/akonadi/server (added),
	  trunk/kdesupport/akonadi/akonadi-prefix.h.cmake (added),
	  trunk/kdesupport/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp (added),
	  trunk/KDE/kdepim/akonadi/server/src (removed),
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/control/agentinfo.cpp,
	  trunk/KDE/kdepim/akonadi/server/tests (removed),
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.Agent.Status.xml
	  (removed): Move Akonadi server and shared components to
	  kdesupport.

