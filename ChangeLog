2010-07-31 09:45 +0000 [r1157499-1157500]  Volker Krause vkrause@kde.org

	* branches/akonadi/1.4/server/src/storage/notificationcollector.h,
	  branches/akonadi/1.4/libs/notificationmessage.cpp,
	  branches/akonadi/1.4/libs/notificationmessage_p.h,
	  branches/akonadi/1.4/server/src/handler/subscribe.cpp,
	  branches/akonadi/1.4/server/src/storage/notificationcollector.cpp:
	  Backport subscribe/unsubscribe notifications.

	* branches/akonadi/1.4/makechangelog: use the right branch for
	  changelog generation

2010-07-30 09:29 +0000 [r1157128]  Volker Krause vkrause@kde.org

	* branches/akonadi/1.4/server/src/storage/dbconfig.cpp: Backport
	  enabling of FS store. BUG: 243775

2010-07-21 16:09 +0000 [r1152627-1152629]  Tobias Koenig tokoe@kde.org

	* branches/akonadi/1.4/server/src/handler/expunge.cpp,
	  branches/akonadi/1.4/server/src/storage/datastore.cpp,
	  branches/akonadi/1.4/server/src/storage/dbupdate.xml,
	  branches/akonadi/1.4/server/src/handler/select.cpp,
	  branches/akonadi/1.4/server/src/handlerhelper.cpp,
	  branches/akonadi/1.4/server/src/storage/akonadidb.xml,
	  branches/akonadi/1.4/server/src/storage/datastore.h,
	  branches/akonadi/1.4/server/src/handler/akappend.cpp,
	  branches/akonadi/1.4/server/src/handler/status.cpp,
	  branches/akonadi/1.4/server/src/handler/append.cpp,
	  branches/akonadi/1.4/server/tests/unittest/dbupdatertest.cpp: Use
	  uppercase names for the standard flags

	* branches/akonadi/1.4/server/tests/unittest/handlerhelpertest.cpp:
	  Revert wrong part of the backport

2010-07-21 14:49 +0000 [r1152600]  Tobias Koenig tokoe@kde.org

	* branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/psql_ct_schemaversion
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/psql_ct_part
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/CMakeLists.txt,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest.h
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/psql_ct_flag
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/sqlite_ct_mimetype
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data
	  (added), branches/akonadi/1.4/server/src/storage/akonadidb.xsd,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/mysql_ct_resource
	  (added), branches/akonadi/1.4/server/src/storage/akonadidb.xml,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/mysql_ct_collection
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/dbinitializertestdata.qrc
	  (added), branches/akonadi/1.4/server/src/storage/dbinitializer.h,
	  branches/akonadi/1.4/server/tests/unittest/dbupdatertest.cpp
	  (added), branches/akonadi/1.4/server/src/utils.h (added),
	  branches/akonadi/1.4/server/CMakeLists.txt,
	  branches/akonadi/1.4/server/src/handler/fetchhelper.cpp,
	  branches/akonadi/1.4/server/tests/unittest/handlerhelpertest.cpp,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/psql_ct_resource
	  (added), branches/akonadi/1.4/server/src/storage/dbupdate.xsd,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/sqlite_ct_part
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/sqlite_ct_schemaversion
	  (added), branches/akonadi/1.4/server/src/storage/dbupdate.xml,
	  branches/akonadi/1.4/server/src/storage/parthelper.cpp,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/mysql_ct_pimitem
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/psql_ct_collection
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/sqlite_ct_flag
	  (added), branches/akonadi/1.4/server/src/storage/entities.xsl,
	  branches/akonadi/1.4/server/src/storage/dbinitializer_p.cpp
	  (added), branches/akonadi/1.4/server/src/storage/dbupdater.cpp,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest.cpp
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/psql_ct_pimitem
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/mysql_ct_collectionattribute
	  (added), branches/akonadi/1.4/server/src/storage/querybuilder.h,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/sqlite_ct_resource
	  (added),
	  branches/akonadi/1.4/server/src/storage/itemretriever.cpp,
	  branches/akonadi/1.4/server/src/storage/datastore.cpp,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/sqlite_ct_collection
	  (added),
	  branches/akonadi/1.4/server/src/storage/dbinitializer.cpp,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/psql_ct_collectionattribute
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/mysql_ct_mimetype
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/sqlite_ct_pimitem
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/querybuildertest.cpp,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/psql_ct_mimetype
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbupdatertest.h
	  (added),
	  branches/akonadi/1.4/server/src/storage/entities-source.xsl,
	  branches/akonadi/1.4/server/src/handler/fetchhelper.h,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/mysql_ct_part
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/mysql_ct_schemaversion
	  (added),
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/mysql_ct_flag
	  (added), branches/akonadi/1.4/server/src/storage/dbconfig.cpp,
	  branches/akonadi/1.4/server/src/storage/querybuilder.cpp,
	  branches/akonadi/1.4/server/tests/unittest/dbinitializertest_data/sqlite_ct_collectionattribute
	  (added),
	  branches/akonadi/1.4/server/src/storage/dbinitializer_p.h
	  (added), branches/akonadi/1.4/server/src/storage/dbupdater.h:
	  Backport the UTF-8 collection name fix

2010-07-07 11:20 +0000 [r1147084]  Volker Krause vkrause@kde.org

	* branches/akonadi/1.4 (added): Branch Akonadi server 1.4, right
	  before Marc's changes.

2010-07-04 14:11 +0000 [r1145895]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prepare for Akonadi
	  1.4.0 RC1 release.

2010-07-01 14:59 +0000 [r1145040]  Bjoern Ricks bjoern.ricks@googlemail.com

	* trunk/kdesupport/akonadi/qsqlite/CMakeLists.txt: fixed typo dir
	  name is QT_PLUGINS_DIR

2010-06-30 13:50 +0000 [r1144666]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/qsqlite/CMakeLists.txt: Cleanup. Fix the
	  qsqlite install dir.

2010-06-30 09:07 +0000 [r1144547]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/qsqlite/CMakeLists.txt: Give packagers
	  the ability to install the QSQLite plugin in QT_PLUGIN_DIR rather
	  than a directory inside CMAKE_INSTALL_PREFIX. You have to pass
	  -DINSTALL_QSQLITE_IN_QT_PREFIX=TRUE when running CMake to do
	  that. CCMAIL: gokcen@pardus.org.tr

2010-06-28 09:09 +0000 [r1143590]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  Provide the destination resource on intra-resource moves in the
	  notification message to allow correct filtering in that case.

2010-06-25 19:03 +0000 [r1142817]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/move.cpp: Reset the
	  RID after generating the change notification message. This way
	  the source resource still has a valid RID to work with.

2010-06-25 09:10 +0000 [r1142631]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/move.cpp: reset
	  remote ids on inter-resource moves

2010-06-25 08:15 +0000 [r1142583]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global-mobile.conf:
	  disable the bin log here as well

2010-06-25 08:12 +0000 [r1142581]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf:
	  Remove log_bin option from main config as this creates duplicates
	  of all write operations and results in a lot of disk usage e.g.
	  at mail import

2010-06-24 12:44 +0000 [r1142233-1142234]  Marc Mutz mutz@kde.org

	* trunk/kdesupport/akonadi/rds/exception.h (added): akonadi_rds:
	  report listen() errors

	* trunk/kdesupport/akonadi/rds/bridgeserver.cpp,
	  trunk/kdesupport/akonadi/rds/main.cpp: akonadi_rds: report
	  listen() errors

2010-06-22 12:14 +0000 [r1141281]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl:
	  Fix updateing reference columns to NULL. Fixes moving collections
	  into root.

2010-06-18 09:33 +0000 [r1139453]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigpostgresql.cpp:
	  Use en_US to report the DB errors.

2010-06-17 20:23 +0000 [r1139240]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp:
	  fix unicode collection name encoding

2010-06-10 22:02 +0000 [r1136839]  Pavel Heimlich tropikhajma@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.h: the
	  exception.h include should be pointing to the internal one (fixes
	  build with Sun Studio)

2010-06-09 16:06 +0000 [r1136367]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Improve
	  error handling in PartHelper::insert(). Also, do not interfere
	  with PartHelper deciding whether or not data is supposed to be
	  stored in a file or in the database.

2010-06-09 14:37 +0000 [r1136332]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: Handle
	  moving between db and fs storage correctly when updating existing
	  payload data. Also, improve error handling.

2010-06-09 13:15 +0000 [r1136301]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: remove
	  dead code

2010-06-09 13:10 +0000 [r1136299]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: - fix
	  loadData() in case the fs store has been disabled after being in
	  use at some point - introduce truncate() to remove payload
	  content without prior loading, which should speed up cache
	  cleaning and invalidation

2010-06-09 11:41 +0000 [r1136273]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: Make
	  translateData() also work if payloads have been stored in the
	  filesystem before the fs store was turned off.

2010-06-09 09:24 +0000 [r1136231]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: - make
	  PartHelper a namespace instead of a class - fixed
	  PartHelper::remove() to also clean up files if the fs backend has
	  been disabled in the meantime

2010-06-09 08:14 +0000 [r1136208]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: prepare the 1.4 beta2
	  release

2010-06-09 07:38 +0000 [r1136195]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h:
	  When selecting a top level collection, representing a resource,
	  don't sync all of it's folders, and then the top level again,
	  just to a collection tree sync and the individual folder sync.

2010-06-08 13:30 +0000 [r1135951]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: disable
	  the fs backend by default again for now, still contains at least
	  one critical bug

2010-06-08 12:34 +0000 [r1135936]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h:
	  Use our own connection to the session bus in the secondary
	  thread. Avoids crashes.

2010-06-04 15:58 +0000 [r1134564]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Avoid
	  triggering flag change notifications when the flags didn't in
	  fact, change.

2010-06-03 11:17 +0000 [r1134082]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp:
	  Always set a default name for file system storage files.

2010-06-01 07:57 +0000 [r1133097]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/akonadistarter.cpp:
	  silence false startup error

2010-05-28 09:35 +0000 [r1131489-1131490]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: enable
	  fs payload store by default

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global-mobile.conf
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt: add a
	  mysql config that is slightly better suited for use on an N900

2010-05-27 06:56 +0000 [r1131067]  Dirk Mueller mueller@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: bump version

2010-05-21 10:17 +0000 [r1129091]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf:
	  set client default charset only changes charset in mysql cli
	  client, akonadiconsole's DB Console already reports utf8 without
	  this change

2010-05-20 16:15 +0000 [r1128908]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf:
	  set proper character set and collation for mysql server

2010-05-17 16:17 +0000 [r1127784-1127785]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp:
	  optimize: don't send data over socket, instead rely on proper
	  value in datasize to find invalidated cache entries

	* trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/querybuildertest.cpp:
	  make it possible to build select queries using GROUP BY or HAVING
	  with the QueryBuilder, add tests

2010-05-16 13:18 +0000 [r1127388]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp:
	  revert 1126817 for now, completely breaks message body load on
	  demand with IMAP CCMAIL: Milian Wolff <mail@milianw.de>

2010-05-15 18:18 +0000 [r1127186]  Michael Jansen kde@michael-jansen.biz

	* trunk/kdesupport/akonadi/CMakeLists.txt: QDBusServiceWatcher is
	  4.6 only.

2010-05-14 22:52 +0000 [r1126816-1126817]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp:
	  optimize: only query for the empty parts in the parttable and
	  request an update for them before we went through all parts of a
	  collection and loaded the data (maybe from disk) and looked
	  whether the data was null or non existing. now we use the power
	  of the left join to find items without any fitting part (which
	  triggers update of all requested parts). alternatively we cope
	  with invalidated cache entries (which have datasize == 0).

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp: fix
	  comment gibberish

2010-05-14 20:33 +0000 [r1126766]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  remove wrong exception, those cases are handled below

2010-05-14 17:39 +0000 [r1126711]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Implement missing HRID version of the FETCH command.

2010-05-14 14:38 +0000 [r1126652]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp: explain
	  what's going on in store.cpp and write the proper datasize when
	  inserting a new external part

2010-05-12 14:39 +0000 [r1125861]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp:
	  don't fail here if the collection name didn't change at all

2010-05-10 21:22 +0000 [r1125173]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp:
	  Less spam. I get hundreds of those on Akonadi startup.

2010-05-10 13:41 +0000 [r1125001]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/query.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/tests/unittest/querybuildertest.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entity.h,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h,
	  trunk/kdesupport/akonadi/server/src/storage/selectquerybuilder.h,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/countquerybuilder.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/querybuildertest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp:
	  refactor JOIN in QueryBuilder, esp. in regard to INNER JOIN Now
	  the QueryBuilder takes it's main table in the Ctor as it's
	  required for all queries anyways. All joins, even INNER JOINs are
	  handled via the new addJoin() method that takes a JoinType
	  argument. - LEFT JOIN is only supported for SELECT queries -
	  INNER JOIN is only supported for SELECT and UPDATE queries This
	  change to the handling of INNER JOINs is required, since the ','
	  as shortcut for an INNER JOIN cannot be mixed with LEFT JOINs,
	  while the explicit version can be. See also:
	  http://dev.mysql.com/doc/refman/5.0/en/join.html The part about
	  'unknown column' when using ',' for INNER JOINs. Note: Since
	  INNER JOINs are more restrictive than LEFT JOINs, the former will
	  take precedence over the latter. Joining one and the same table
	  twice is not supported, instead the JoinConditions will be
	  merged. based on: http://reviewboard.kde.org/r/3907/

2010-05-05 09:18 +0000 [r1123098]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h: Always
	  request the full literal size from the client and do not limit it
	  to the block size used in the stream parser. It's ignored by the
	  client anyway and only confuses me during debugging.

2010-05-05 09:04 +0000 [r1123089]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Make
	  sure that continuation requests have the right tracer
	  identification so they show up in the debugger in the right
	  place. Remove some dead code while I was at it.

2010-05-04 10:00 +0000 [r1122608]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml:
	  increase version of newly created databases

2010-05-04 09:48 +0000 [r1122604]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  fix collation and charsets in mysql database Akonadi works with
	  UTF internally but the MySQL database uses latin1 for collation
	  and default charsets, which this patch should fix. I have no idea
	  how to do that for SQLite or PSQL, nor whether it's actually a
	  problem there. But for MySQL this also fixes the test cases that
	  emit 'illegal mix of collations' error messages. review:
	  http://reviewboard.kde.org/r/3877/

2010-05-04 06:51 +0000 [r1122559]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp:
	  build with -pedantic

2010-05-03 15:57 +0000 [r1122335]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h: use
	  single query in ItemRetriever This patch makes the ItemRetriever
	  use a single SQL query with LeftJoins to achieve the same as
	  before. This won't reduce the overall query time, since the same
	  amount of items will be retrieved. But imo it makes the code much
	  cleaner and also enables us to do some optimizations in the
	  future: - data.isNull directly in the query - item retrieval from
	  the resource for lists of items, not only single items Review:
	  http://reviewboard.kde.org/r/3876/

2010-05-01 14:24 +0000 [r1121513]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/search/nepomuksearchengine.cpp,
	  trunk/kdesupport/akonadi/server/src/search/nepomuksearchengine.h:
	  Make Nepomuk-based persistent search folders also work when
	  Nepomuk is not yet running during Akonadi startup.

2010-05-01 13:49 +0000 [r1121507]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/search/searchmanager.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/search/searchmanager.cpp:
	  Emit correct change notifications when updating a query of a
	  persistent search folder.

2010-04-30 14:47 +0000 [r1121148]  Andreas Holzammer andy@kdab.com

	* trunk/kdesupport/akonadi/server/shared/akcrash.cpp,
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/shared/akapplication.cpp,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/shared/akapplication.h,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/akonadictl/main.cpp: - fixt
	  akonadi to compile for Windows Ce - striped boost program_options
	  for Windows Ce

2010-04-30 12:24 +0000 [r1121122]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp: use
	  exceptions when we cannot build the queries for parts or flags,
	  just like we did for the item query fixes regression when part or
	  flag table was empty (introduced by me in r1121073)

2010-04-30 09:32 +0000 [r1121072-1121074]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp:
	  apply scope to part query, drastically improves performance for
	  'lots-of-mails-in-different-collections' cases. still slow for
	  large folders though

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp:
	  cleanup: return QSqlQuery instead of QueryBuilder in
	  buildXYZQuery move building of FlagQuery in FetchHelper into its
	  won method

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp:
	  Don't share code between ItemRetriever and FetchHelper Further
	  step in separating the ItemRetriever from the FetchHelper. This
	  help removes the code-sharing between the two in order to have
	  free reign in optimizing the queries.
	  http://reviewboard.kde.org/r/3844/

2010-04-29 09:34 +0000 [r1120559]  Milian Wolff mail@milianw.de

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp: Use
	  ItemRetriever as local var instead of inheriting from it in
	  FetchHelper First step towards optimizing the queries in
	  ItemRetriever: Let the ItemRetriever be used solely for making
	  sure all items are in the database. To share code, make the
	  generic*Query static and reuse it in the FetchHelper. Review:
	  http://reviewboard.kde.org/r/3819/

2010-04-25 11:37 +0000 [r1118608]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/searchpersistentmodify.cpp
	  (removed), trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistentmodify.h
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt: Remove
	  the search modify special case again, it's handled via the
	  regular collection modify now.

2010-04-25 11:22 +0000 [r1118601]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Clear the
	  old search results from the collection when updating a search.

2010-04-18 10:30 +0000 [r1115984]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp: fix
	  quoting of the persistent search attribute

2010-04-17 13:07 +0000 [r1115782]  Andreas Hartmetz ahartmetz@gmail.com

	* trunk/kdesupport/akonadi/server/src/search/nepomuksearchengine.cpp,
	  trunk/kdesupport/akonadi/server/src/search/nepomuksearchengine.h:
	  Fix build by finding these includes in our source/build dirs, not
	  in installed KDE include dirs. With much help from vkrause.

2010-04-16 15:51 +0000 [r1115493]  Stephen Kelly steveire@gmail.com

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp: Add TODO
	  for proper handling of no-op change jobs.

2010-04-16 13:42 +0000 [r1115441]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/interpretertest.cpp
	  (removed),
	  trunk/kdesupport/akonadi/server/tests/unittest/interpretertest.h
	  (removed), trunk/kdesupport/akonadi/server/src/interpreter.cpp
	  (removed),
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/interpreter.h (removed):
	  unused

2010-04-16 12:44 +0000 [r1115430]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/search/searchmanager.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/org.kde.nepomuk.QueryService.xml
	  (removed), trunk/kdesupport/akonadi/server/src/nepomukmanager.h
	  (removed),
	  trunk/kdesupport/akonadi/server/src/nepomuk/dbusoperators.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/agentsearchengine.cpp
	  (added), trunk/kdesupport/akonadi/server/src/search/result.cpp
	  (removed),
	  trunk/kdesupport/akonadi/server/src/abstractsearchmanager.cpp
	  (removed),
	  trunk/kdesupport/akonadi/server/src/nepomuk/org.kde.nepomuk.QueryService.xml
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/querymetatype.h
	  (removed),
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp
	  (removed), trunk/kdesupport/akonadi/server/src/nepomuk/result.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/org.kde.nepomuk.Query.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/search/xesamsearchengine.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/nepomuk/queryserviceclient.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/nepomuksearchengine.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/searchmanager.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.h
	  (removed), trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp
	  (removed), trunk/kdesupport/akonadi/server/src/nepomuksearch.h,
	  trunk/kdesupport/akonadi/server/src/nepomuk/dbusoperators.cpp
	  (added), trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistentmodify.cpp,
	  trunk/kdesupport/akonadi/server/src/xesammanager.h (removed),
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/search/agentsearchengine.h
	  (added), trunk/kdesupport/akonadi/server/src/search/result.h
	  (removed),
	  trunk/kdesupport/akonadi/server/src/search/abstractsearchengine.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/abstractsearchmanager.h
	  (removed), trunk/kdesupport/akonadi/server/src/nepomuk (added),
	  trunk/kdesupport/akonadi/server/src/search/xesamsearchengine.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.h
	  (removed),
	  trunk/kdesupport/akonadi/server/src/search/nepomuksearchengine.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/nepomuk/querymetatype.h
	  (added), trunk/kdesupport/akonadi/server/src/nepomuk/result.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp
	  (removed),
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomuk/org.kde.nepomuk.Query.xml
	  (added), trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/xesammanager.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/nepomuk/queryserviceclient.h
	  (added): Refactor search handling in the Akonadi server to make
	  the support for multiple search backends (Nepomuk and resources
	  at the moment) much cleaner. Also, this makes search query
	  modification on existing persistent search folders work finally.

2010-04-13 07:13 +0000 [r1114341]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp:
	  Preliminary support for modifying queries of search folders
	  without needing to recreate them. Needs some refactoring though.

2010-04-13 06:25 +0000 [r1114238]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp:
	  Start to clean up the search query handling by using explicit
	  database fields for it. Also, prepare to support different query
	  languages as well as modification of queries without needing to
	  delete/add the collection.

2010-04-13 04:32 +0000 [r1114219]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/searchpersistentmodify.cpp
	  (added), trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistentmodify.h
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add a
	  command for changing the search string of a virtual collection.
	  This is temporary, as the real solution is to store the sparql
	  query as an attribute on the collection and then using a normal
	  modify job, but that requires intrusive server changes and this
	  makes the search in kmail work. Ok'd by Volker.

2010-04-09 13:52 +0000 [r1112925]  Nicolas Lécureuil nlecureuil@mandriva.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  Forward port commit 1112923 CCBUG:185395

2010-04-07 12:42 +0000 [r1112128]  Nicolas Lécureuil nlecureuil@mandriva.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  Use mysqk_upgrade after the creation of the socket

2010-04-06 15:33 +0000 [r1111741]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  typo.

2010-04-06 14:18 +0000 [r1111706]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigpostgresql.cpp:
	  Fix the database shutdown when using the Postgres backend.
	  Killing the pg_ctl process after 3 seconds doesn't guarantee that
	  the postmaster process is stopped (which would prevent the server
	  from restarting). Instead, we now get the postmaster pid and
	  force it to quit.

2010-04-06 08:56 +0000 [r1111611]  Nicolas Lécureuil nlecureuil@mandriva.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  Forward port of commit 1105780 Change mysql_install_db by using
	  --force and give it a default conf file to use BUG:185395

2010-04-05 18:10 +0000 [r1111454]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigpostgresql.cpp:
	  revertlast. The issue is not this timer.

2010-04-05 16:18 +0000 [r1111422]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigpostgresql.cpp:
	  Postgres doesn't stop as fast as mysql (more processes to
	  terminate). Wait a bit longer.

2010-03-29 11:03 +0000 [r1108585]  Shaheed Haque srhaque@theiet.org

	* trunk/kdesupport/akonadi/libs/tests/CMakeLists.txt: Fix build

2010-03-27 17:09 +0000 [r1108044]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp: Use
	  the transaction mutex only when really needed, that is when using
	  sqlite. This is a poor workaround for the KMail startup hang for
	  a new user caused by SpecialCollectionRequestJob having a
	  transaction open and waiting for the resource to synchronize
	  (which in itself is wrong already, you can't expect to see remote
	  changes inside a transaction). Obviously, this does not help when
	  using sqlite, but it makes KMail start again for everyone else.

2010-03-26 13:10 +0000 [r1107676]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/qsqlite/CMakeLists.txt: install the
	  qsqlite3 driver in a 'neutral' directory

2010-03-26 13:02 +0000 [r1107675]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/cmake/modules/FindSqlite.cmake: clean up

2010-03-25 10:18 +0000 [r1107314]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalthread.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h,
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/search/result.h,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/transaction.h,
	  trunk/kdesupport/akonadi/server/shared/akapplication.cpp,
	  trunk/kdesupport/akonadi/server/src/response.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp,
	  trunk/kdesupport/akonadi/server/src/interpreter.cpp,
	  trunk/kdesupport/akonadi/server/control/controlmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlerhelpertest.cpp:
	  krazy fixes contributed by Glen Kaukola <gkaukola@cs.ucr.edu>

2010-03-24 16:44 +0000 [r1107033]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml:
	  Restore the booleans by default (breaks PostgreSQL otherwise) and
	  hack around sqlite's inability to use them in INSERT statements
	  instead.

2010-03-24 15:51 +0000 [r1107017]  Bertjan Broeksema broeksema@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp:
	  Comment out some qDebug() which caused a loft of output for the
	  ${db}-fs tests.

2010-03-24 15:38 +0000 [r1107013]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Propagate
	  failures of akonadiserver to the akonadi_control exit code. Makes
	  the unit tests in kdepimlibs detect when the server crashes or
	  cannot be started at all.

2010-03-24 11:26 +0000 [r1106973]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CTestConfig.cmake: Replace
	  dashboard.akonadi-project.org with my.cdash.org

2010-03-24 09:00 +0000 [r1106941]  Bertjan Broeksema broeksema@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp: Be
	  less verbose so that I can actually read the benchmark output

2010-03-23 20:30 +0000 [r1106741]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/cmake/modules/FindSqlite.cmake: Fix the
	  Sqlite detection.

2010-03-23 15:47 +0000 [r1106671]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: sqlite is optional.

2010-03-23 15:27 +0000 [r1106668]  Bertjan Broeksema broeksema@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  This should have been part of r1106656. Now most tests work with
	  the default QSQLITE driver. However, it is not reliable because
	  calls to the sqlite database return with SQLITE_BUSY, in stead of
	  waiting and trying again later.

2010-03-23 15:03 +0000 [r1106662]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/qsqlite/CMakeLists.txt: honor lib
	  install dir suffix

2010-03-23 14:31 +0000 [r1106656]  Bertjan Broeksema broeksema@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigsqlite.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigsqlite.h:
	  Enable easy switching between the default and our custom qsqlite
	  drivers

2010-03-23 14:24 +0000 [r1106655]  Andreas Hartmetz ahartmetz@gmail.com

	* trunk/kdesupport/akonadi/qsqlite/src/sqlite_blocking.cpp: A
	  constructor-style cast also works and is slightly less ugly

2010-03-23 14:21 +0000 [r1106654]  Andreas Hartmetz ahartmetz@gmail.com

	* trunk/kdesupport/akonadi/qsqlite/src/sqlite_blocking.cpp: Use a
	  C-style cast to quint64. long is only 32 bits on most platforms,
	  and reinterpret_cast to quint64, which is more suitable for
	  pointers on 64-bit platforms, didn't work either. This fixes the
	  build on Linux-AMD64 that I'm currently using.

2010-03-23 13:17 +0000 [r1106630]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/qsqlite/src/sqlite_blocking.cpp: On OSX
	  and Windows Qt::HANDLE is a void*, not an int, so cast it (it's
	  debugging code, after all).

2010-03-23 13:00 +0000 [r1106620]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest,
	  trunk/kdesupport/akonadi/cmake/modules,
	  trunk/kdesupport/akonadi/libs/notificationmessage_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/shared/akdebug.cpp,
	  trunk/kdesupport/akonadi/libs/imapset_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/search.cpp,
	  trunk/kdesupport/akonadi/libs/imapparser_p.h,
	  trunk/kdesupport/akonadi/cmake/modules/COPYING-CMAKE-SCRIPTS,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/cmake/modules/FindSqlite.cmake (added),
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h,
	  trunk/kdesupport/akonadi/server/shared/akcrash.h,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml,
	  trunk/kdesupport/akonadi/cmake,
	  trunk/kdesupport/akonadi/interfaces,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp,
	  trunk/kdesupport/akonadi/libs/tests,
	  trunk/kdesupport/akonadi/README.sqlite (added),
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp,
	  trunk/kdesupport/akonadi/server/shared/akdebug.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Tracer.xml,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/Mainpage.dox,
	  trunk/kdesupport/akonadi/libs/imapset.cpp,
	  trunk/kdesupport/akonadi/libs/imapparser.cpp,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.PreprocessorManager.xml,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigsqlite.cpp,
	  trunk/kdesupport/akonadi/libs/akonadiprotocolinternals_export.h,
	  trunk/kdesupport/akonadi/libs,
	  trunk/kdesupport/akonadi/libs/xdgbasedirs_p.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h,
	  trunk/kdesupport/akonadi,
	  trunk/kdesupport/akonadi/server/src/search,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Status.xml,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/control/agenttype.h,
	  trunk/kdesupport/akonadi/server/shared,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Preprocessor.xml,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/akonadi-mime.xml,
	  trunk/kdesupport/akonadi/server/src/storage,
	  trunk/kdesupport/akonadi/akonadi-sqlite-tests.results (added),
	  trunk/kdesupport/akonadi/server/tests/enron_email_dataset,
	  trunk/kdesupport/akonadi/akonadi-prefix.h.cmake,
	  trunk/kdesupport/akonadi/server,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.NotificationManager.xml,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp,
	  trunk/kdesupport/akonadi/server/shared/akcrash.cpp,
	  trunk/kdesupport/akonadi/server/src/handler,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Resource.xml,
	  trunk/kdesupport/akonadi/qsqlite (added),
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Merged
	  revisions
	  1001917-1001918,1001921,1001923,1001929,1004527,1005098,1005164,1008344,1008377,1013088,1013289,1013291,1013316,1013330,1103599,1103970-1103971,1104028-1104030,1104067,1104078,1104352,1104354,1104685,1104737,1104755,1104771,1105241,1105250,1105262,1105265,1106222,1106224,1106251,1106275,1106278,1106281,1106332,1106336-1106337,1106349,1106373,1106568,1106577,1106582,1106586
	  via svnmerge from
	  https://vkrause@svn.kde.org/home/kde/branches/work/akonadi-sqlite
	  ........ r1001917 | bbroeksema | 2009-07-24 15:40:52 +0200 (Fri,
	  24 Jul 2009) | 2 lines Add the sligthly modified QSQLITE driver.
	  ........ r1001918 | bbroeksema | 2009-07-24 15:43:18 +0200 (Fri,
	  24 Jul 2009) | 3 lines The custom QSQLITE driver is named
	  QSQLITE3. Take this in account in some of the checks. ........
	  r1001921 | bbroeksema | 2009-07-24 16:04:08 +0200 (Fri, 24 Jul
	  2009) | 2 lines Build and install the custom QSQLITE driver when
	  sqlite is found. ........ r1001923 | bbroeksema | 2009-07-24
	  16:06:07 +0200 (Fri, 24 Jul 2009) | 2 lines Compile fix. ........
	  r1001929 | bbroeksema | 2009-07-24 16:20:10 +0200 (Fri, 24 Jul
	  2009) | 2 lines Add a readme for sqlite. ........ r1004527 |
	  bbroeksema | 2009-07-30 14:34:35 +0200 (Thu, 30 Jul 2009) | 7
	  lines The fetch command does an ItemRetrieval request if an item
	  is not in cache while iterating of the requested items. When
	  using the SQLITE storage backend it is not possible to write to
	  the database while there are still read queries active on the
	  table that needs to be written too. So if using SQLITE store the
	  ItemRetrievalRequest until all results of the reads are processed
	  and only than start trigger the actual ItemRetrievalRequests.
	  ........ r1005098 | bbroeksema | 2009-07-31 12:33:53 +0200 (Fri,
	  31 Jul 2009) | 4 lines Add some code to make the
	  sqlite3_{perpare|step} functions blocking. As far as I can see
	  this seems to fix the creation of the testitems when running
	  akonaditest. However, ItemFetch still does seem to block for some
	  reason. ........ r1005164 | bbroeksema | 2009-07-31 15:26:49
	  +0200 (Fri, 31 Jul 2009) | 9 lines The sqlite3_unlock_notify() is
	  only ment when two or more connections access the same database
	  in shared-cache mode. This is not the case here so remove that
	  code. According to
	  http://www.sqlite.org/cvstrac/wiki?p=MultiThreading we should
	  just watch for SQLITE_BUSY and sleep for a while until SQLITE_OK
	  or some error code is returned. I still get locks (also with the
	  sqlite3_unlock_notify() usage) on akonatest so now and than.
	  ........ r1008344 | bbroeksema | 2009-08-07 11:27:33 +0200 (Fri,
	  07 Aug 2009) | 2 lines Add some extra debug information. ........
	  r1008377 | bbroeksema | 2009-08-07 12:30:39 +0200 (Fri, 07 Aug
	  2009) | 7 lines Move the flagQuery code after the
	  retrieveMissingPayloads() in parseStream() to solve a
	  reproducible lock. Now the fetch command sometimes passes but not
	  reliably. Also moved the call to buildItemQuery() in parseStream
	  to the point where it is needed first. ........ r1013088 |
	  bbroeksema | 2009-08-18 21:25:56 +0200 (Tue, 18 Aug 2009) | 2
	  lines SVN_SILENT Ignore some file types. ........ r1013289 |
	  bbroeksema | 2009-08-19 15:01:31 +0200 (Wed, 19 Aug 2009) | 2
	  lines SVN_SILENT Change the debug statements a bit. ........
	  r1013291 | bbroeksema | 2009-08-19 15:02:41 +0200 (Wed, 19 Aug
	  2009) | 2 lines Make sure that queries that alter the database
	  are done as a transaction. ........ r1013316 | bbroeksema |
	  2009-08-19 16:39:03 +0200 (Wed, 19 Aug 2009) | 2 lines Revert the
	  added transaction in the xsl as it leads to nested transactions.
	  ........ r1013330 | bbroeksema | 2009-08-19 17:27:20 +0200 (Wed,
	  19 Aug 2009) | 3 lines Use mutext in the DataStore for
	  transactions. During a transaction the mutex is locked until the
	  transaction is committed or rolled back. ........ r1103599 |
	  bbroeksema | 2010-03-15 14:15:24 +0100 (Mon, 15 Mar 2010) | 1
	  line Too long no svn, restore sqlite stuff in CMakeList.txt again
	  ........ r1103970 | bbroeksema | 2010-03-16 12:58:03 +0100 (Tue,
	  16 Mar 2010) | 2 lines SQlite doesn't like true and false, use
	  the (internally used) tinyint values 0 and 1. ........ r1103971 |
	  bbroeksema | 2010-03-16 13:00:37 +0100 (Tue, 16 Mar 2010) | 4
	  lines In this branch we use the customized QSQLITE driver in
	  stead of the standard one delivered with Qt. This makes testing
	  of modification on the driver a bit easier. ........ r1104028 |
	  bbroeksema | 2010-03-16 15:22:48 +0100 (Tue, 16 Mar 2010) | 2
	  lines Make sure we use the correct sqlite include dir. ........
	  r1104029 | bbroeksema | 2010-03-16 15:23:52 +0100 (Tue, 16 Mar
	  2010) | 2 lines Bring up to date with QtSql 4.6.2 ........
	  r1104030 | bbroeksema | 2010-03-16 15:25:31 +0100 (Tue, 16 Mar
	  2010) | 3 lines Also bring up to date with QtSql 4.6.2 but for
	  now we keep our blocking calls in. ........ r1104067 | bbroeksema
	  | 2010-03-16 17:30:05 +0100 (Tue, 16 Mar 2010) | 3 lines Restore
	  r1004527. Akonadi console now works less or more, however the
	  unit tests still fail even the environment test. ........
	  r1104078 | bbroeksema | 2010-03-16 17:46:22 +0100 (Tue, 16 Mar
	  2010) | 13 lines Restore r1008377. The environment test still
	  fails.
	  ------------------------------------------------------------------------
	  r1008377 | bbroeksema | 2009-08-07 12:30:39 +0200 (Fri, 07 Aug
	  2009) | 7 lines Changed paths: M
	  /branches/work/akonadi-sqlite/server/src/handler/fetch.cpp Move
	  the flagQuery code after the retrieveMissingPayloads() in
	  parseStream() to solve a reproducible lock. Now the fetch command
	  sometimes passes but not reliably. Also moved the call to
	  buildItemQuery() in parseStream to the point where it is needed
	  first. ........ r1104352 | bbroeksema | 2010-03-17 14:07:01 +0100
	  (Wed, 17 Mar 2010) | 12 lines Restore the relevant parts of
	  r1013291.
	  ------------------------------------------------------------------------
	  r1013291 | bbroeksema | 2009-08-19 15:02:41 +0200 (Wed, 19 Aug
	  2009) | 2 lines Changed paths: M
	  /branches/work/akonadi-sqlite/server/src/handler/fetch.cpp M
	  /branches/work/akonadi-sqlite/server/src/storage/datastore.cpp M
	  /branches/work/akonadi-sqlite/server/src/storage/entities-source.xsl
	  M
	  /branches/work/akonadi-sqlite/server/src/storage/transaction.cpp
	  Make sure that queries that alter the database are done as a
	  transaction. ........ r1104354 | bbroeksema | 2010-03-17 14:08:16
	  +0100 (Wed, 17 Mar 2010) | 4 lines Rename col to target
	  collection and move the DataStore variable to the place where it
	  is actually used. Makes the code slightly more readable. ........
	  r1104685 | bbroeksema | 2010-03-18 11:07:48 +0100 (Thu, 18 Mar
	  2010) | 4 lines Remove most of the debug statements to reduce the
	  noice. Only keep those in indicating a possible deadlock (i.e.
	  when the blocking step enters the wait loop). ........ r1104737 |
	  bbroeksema | 2010-03-18 13:04:14 +0100 (Thu, 18 Mar 2010) | 9
	  lines Restore r1013330. We've an almost completely passing
	  testsuite now.
	  ------------------------------------------------------------------------
	  r1013330 | bbroeksema | 2009-08-19 17:27:20 +0200 (Wed, 19 Aug
	  2009) | 3 lines Changed paths: M
	  /branches/work/akonadi-sqlite/server/src/storage/datastore.cpp
	  Use mutext in the DataStore for transactions. During a
	  transaction the mutex is locked until the transaction is
	  committed or rolled back. ........ r1104755 | bbroeksema |
	  2010-03-18 15:27:34 +0100 (Thu, 18 Mar 2010) | 3 lines Move one
	  of the mutex unlocks to the correct place. This fixes test #78.
	  Only one to go. ........ r1104771 | bbroeksema | 2010-03-18
	  16:44:07 +0100 (Thu, 18 Mar 2010) | 8 lines Undo the caching of
	  query results in memory in the ItemRetrievalManager.
	  ItemRetriever contains almost equal code without the caching and
	  this didn't cause problems in the unit tests. Therefore I removed
	  it again from the ItemRetrievalManager too. It seems that the
	  transaction serialization and the new sqlite version work good
	  enough to make the tests actually pass. ........ r1105241 |
	  bbroeksema | 2010-03-19 17:24:44 +0100 (Fri, 19 Mar 2010) | 1
	  line revert r1105239, it is needed after all ........ r1105250 |
	  bbroeksema | 2010-03-19 17:42:57 +0100 (Fri, 19 Mar 2010) | 1
	  line Add a file with test results for specific revisions to keep
	  track of progress ........ r1105262 | bbroeksema | 2010-03-19
	  18:21:10 +0100 (Fri, 19 Mar 2010) | 7 lines Restore caching of
	  query results in itemretriever. Seems to fix the following tests:
	  - 66: itemcopytest - 72: collectioncopytest - 75:
	  collectionmovetest ........ r1105265 | bbroeksema | 2010-03-19
	  18:25:25 +0100 (Fri, 19 Mar 2010) | 3 lines Update test-results.
	  It seems that r1105262 also fixed: - 90: servermanagertest
	  ........ r1106222 | bbroeksema | 2010-03-22 10:18:32 +0100 (Mon,
	  22 Mar 2010) | 4 lines FetchHelper refactoring: As a first step
	  for getting rid of dupplicated code in FetchHelper and
	  ItemRetriever we base FetchHelper on ItemRetriever. Remove scope
	  from FetchHelper and use the one from ItemRetriever. ........
	  r1106224 | bbroeksema | 2010-03-22 10:25:20 +0100 (Mon, 22 Mar
	  2010) | 3 lines FetchHelper refactoring: Use AkonadiConnection
	  and driverName() from ItemRetriever. ........ r1106251 |
	  bbroeksema | 2010-03-22 12:23:19 +0100 (Mon, 22 Mar 2010) | 3
	  lines FetchHelper refactoring: Start moving out the shared part
	  (between ItemRetriever and FetchHelper) of the PartQuery in
	  ItemRetriever. ........ r1106275 | bbroeksema | 2010-03-22
	  13:39:49 +0100 (Mon, 22 Mar 2010) | 9 lines Remove the unused id
	  argument from PartHelper::translateData. Update the calls where
	  it was used. Motivation: The id wasn't used in translateData().
	  Worse, fetch helper pretended to pass a partId to it, while it
	  was actually a PimItem id. Conclussion: --confusion. ........
	  r1106278 | bbroeksema | 2010-03-22 13:44:53 +0100 (Mon, 22 Mar
	  2010) | 2 lines We don't need the PartId any more due to
	  r1106275. ........ r1106281 | bbroeksema | 2010-03-22 13:57:54
	  +0100 (Mon, 22 Mar 2010) | 2 lines FetchHelper refactoring: Use
	  the PartQuery from ItemRetriever in fetchhelper. ........
	  r1106332 | bbroeksema | 2010-03-22 14:48:00 +0100 (Mon, 22 Mar
	  2010) | 2 lines Sort results of partQuery by PimItem id can be
	  done in the generic query too. ........ r1106336 | bbroeksema |
	  2010-03-22 14:50:47 +0100 (Mon, 22 Mar 2010) | 4 lines * Add a
	  setUidSet() method to scope which deprecates the ImapSet ctor in
	  FetchHelper. * Remove the deprecated ctor from FetchHelper.
	  ........ r1106337 | bbroeksema | 2010-03-22 14:54:55 +0100 (Mon,
	  22 Mar 2010) | 2 lines FetchHelper now always uses a scope, so
	  get rid of all mUseScope checks. ........ r1106349 | bbroeksema |
	  2010-03-22 16:23:35 +0100 (Mon, 22 Mar 2010) | 2 lines Fix a
	  regression from r1106281 ........ r1106373 | bbroeksema |
	  2010-03-22 17:45:59 +0100 (Mon, 22 Mar 2010) | 2 lines Factor out
	  the shared parts of ItemQuery. ........ r1106568 | bbroeksema |
	  2010-03-23 10:24:25 +0100 (Tue, 23 Mar 2010) | 3 lines Allign
	  FetchHelper::retrieveMissingPayload and ItemRetriever::exec().
	  They are almost identical now. ........ r1106577 | bbroeksema |
	  2010-03-23 11:08:14 +0100 (Tue, 23 Mar 2010) | 2 lines Goodbye
	  FetchHelper::retrieveMissingPayloads() ........ r1106582 |
	  bbroeksema | 2010-03-23 11:14:11 +0100 (Tue, 23 Mar 2010) | 3
	  lines Add a similar hack in setRetrieveParts as in
	  setRetrieveFullPayload to make sure that things don't break when
	  they're called in a different order. ........ r1106586 |
	  bbroeksema | 2010-03-23 11:47:33 +0100 (Tue, 23 Mar 2010) | 2
	  lines Use a string comparison for the remote id as done
	  everywhere else. ........

2010-03-22 12:42 +0000 [r1106277]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: When a
	  command execution was aborted, only read the remaining data that
	  already has been sent, don't ask for more, there is likely noone
	  around to provide that anymore on the client side. This fixes the
	  parser getting stuck on an early aborted APPEND/STORE commands.

2010-03-21 15:59 +0000 [r1105888]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/imapparser.cpp: Fix parsing of
	  cascaded lists containing quoted strings.

2010-03-21 13:58 +0000 [r1105847]  Olivier Trichet nive@nivalis.org

	* trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Make
	  NotificationMessage::appendAndCompress() a bit quicker

2010-03-21 13:55 +0000 [r1105842]  Olivier Trichet nive@nivalis.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  valgrind do not start if one its arguments is the empty string

2010-03-21 11:50 +0000 [r1105780]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  Some MySQL versions need an explicit run of mysql_install_db when
	  creating the database initially. So, let's do that if
	  mysql_install_db is found. BUG: 185395

2010-03-20 21:46 +0000 [r1105677]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/libs/imapparser.cpp: More robustness. I
	  can now list my primary mail account again.

2010-03-20 13:56 +0000 [r1105529]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/libs/imapparser.cpp: Be robust against
	  spurious newlines at the end of parenthesized lists.

2010-03-20 13:31 +0000 [r1105518]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/libs/imapparser.cpp: Factor duplicate
	  code in the two overloads into a templated helper method.

2010-03-18 20:32 +0000 [r1104892]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp:
	  Remove spurious column from a select statement that makes mime
	  types be used where resource ids should be used, resulting in
	  failing copy and move operations. Ok'd by Volker.

2010-03-17 14:00 +0000 [r1104369]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  Check if the MySQL server we found at compile time is actually
	  there before using it.

2010-03-17 09:31 +0000 [r1104281]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp: Resolve symlinks
	  before checking if the file is executable. Should fix MySQL and
	  agent launching when using maemo-optified packages.

2010-03-16 15:05 +0000 [r1104044]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Merged
	  revisions 1104027 via svnmerge from
	  https://vkrause@svn.kde.org/home/kde/branches/work/akonadi-sqlite
	  ........ r1104027 | bbroeksema | 2010-03-16 15:21:37 +0100 (Tue,
	  16 Mar 2010) | 2 lines Return from the current dbus call before
	  starting a next one. ........

2010-03-16 12:42 +0000 [r1103984]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Use a
	  meaningful warning message

2010-03-16 10:33 +0000 [r1103935]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Include the session id in the tracer message identifier, so
	  akonadiconsole debugger is more useful BUG: 222294

2010-03-16 09:25 +0000 [r1103919]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h:
	  Trigger a Resource::synchronize() when the interval checker
	  starts the synchronization of a resource collection.

2010-03-11 11:29 +0000 [r1101921]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Add support for
	  CMAKE_BUILD_TYPE=debugfull

2010-03-08 09:40 +0000 [r1100673]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  Add MySQL default location on Maemo to the search path, should
	  make the patch in the package unecessary.

2010-03-06 10:14 +0000 [r1099894]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Allow
	  RID changes on collections only for the owning resource.

2010-02-28 11:21 +0000 [r1097064]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/akonadistarter.cpp,
	  trunk/kdesupport/akonadi/server/akonadictl/akonadistarter.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Port to usage of
	  QDBusServiceWatcher

2010-02-27 17:07 +0000 [r1096788]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/rds/bridgeconnection.h,
	  trunk/kdesupport/akonadi/rds/main.cpp,
	  trunk/kdesupport/akonadi/rds/bridgeconnection.cpp: Add support
	  for D-Bus connections. This got rather ugly since D-Bus uses
	  abtract unix sockets on Linux, which is something QLocalSocket
	  apparently doesn't support. Anyway, I can now use qdbusviewer
	  remotely over TCP :)

2010-02-27 15:48 +0000 [r1096771]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/rds (added),
	  trunk/kdesupport/akonadi/rds/bridgeconnection.h (added),
	  trunk/kdesupport/akonadi/rds/bridgeserver.cpp (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/rds/main.cpp (added),
	  trunk/kdesupport/akonadi/rds/bridgeserver.h (added),
	  trunk/kdesupport/akonadi/rds/CMakeLists.txt (added),
	  trunk/kdesupport/akonadi/rds/bridgeconnection.cpp (added): Start
	  of the remote debugging server. It forwards the local Akonadi
	  socket to a TCP socket, to allow connecting akonadiconsole to an
	  Akonadi server running on e.g. a mobile device. To make this work
	  we not only need to forward the Akonadi socket though, but also
	  D-Bus and Nepomuk. Therefore this is not build into the Akonadi
	  server itself (which would have been a lot easier), but a
	  separate tools that will handle all those sockets eventually.

2010-02-27 14:17 +0000 [r1096742]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h: Correct
	  documentation of the DIRTY command attribute

2010-02-27 10:34 +0000 [r1096667]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  functionality to clear the payloads of an item via the STORE
	  command

2010-02-22 14:00 +0000 [r1094302]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version (1.3.60)

2010-02-22 11:53 +0000 [r1094273]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp: Add
	  support for RemoteRevision property for entities

2010-02-22 09:45 +0000 [r1094139]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf: Do
	  not drop the connection to the DB after 8 hours of inactivity
	  when using an internal MySQL server. This resolves the 'MySQL
	  server has gone away QMYSQL: Unable to execute query' error.

2010-02-14 11:02 +0000 [r1089960]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp:
	  apply fix r1089483 by trueg: use a static counter to make sure we
	  use unique names

2010-02-12 18:58 +0000 [r1089239]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: -only add the lib
	  install dir to the RPATH if it is not a system library directory
	  (i.e. listed in CMAKE_PLATFORM_IMPLICIT_LINK_DIRECTORIES), as
	  requested by Rex on kde-buildsystem Alex

2010-02-10 14:43 +0000 [r1088319]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp:
	  Register the D-Bus service name even later, once all agent
	  information have been loaded.

2010-02-09 10:53 +0000 [r1087546]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp:
	  And now the real fix for the dbus connection leak problem :/ Next
	  step: doing the same (but not the same) in kdelibs/nepomuk. But
	  at least the akonadiserver leak (triggered by kmail) is fixed by
	  this. CCMAIL: release-team@kde.org

2010-02-09 09:59 +0000 [r1087524]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp:
	  Fix the dbus connection leak (every time I switched mails in
	  kmail, a new dbus connection would be made and would stay). Sorry
	  for suspecting r1084698, it was not guilty. The bug -was- related
	  to nepomuk, but wasn't -in- nepomuk :-) CCMAIL:
	  sebastian@trueg.de, release-team@kde.org, thiago@kde.org

2010-02-09 08:59 +0000 [r1087511]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/main.cpp: Fix a possible race
	  on startup where the control D-Bus service would already be
	  registered but its interfaces are not yet exported.

2010-02-08 17:26 +0000 [r1087237]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared/akdebug.cpp,
	  trunk/kdesupport/akonadi/server/shared/akdebug.h: Fix confusing
	  error message: unable to register service %s "" due to trying to
	  write into a file that ended with akonadi_control's full path.
	  Reviewed by Volker once I managed to drag him away from Jesper
	  :-)

2010-02-05 23:43 +0000 [r1085806]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/libs/capabilities_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.h,
	  trunk/kdesupport/akonadi/libs/imapset_p.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.h,
	  trunk/kdesupport/akonadi/server/src/interpreter.h: Fix the
	  spelling errors reported on dashboard.

2010-01-20 16:40 +0000 [r1077674]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  fix datadir path quoting on Windows, most likely also valid on
	  Unix, but I'd like to test that there first

2010-01-19 17:57 +0000 [r1077216]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp: Work
	  around a DBus bug that using a connection from within multiple
	  threads can cause freezes. In this case, that connection was the
	  session bus, on which we called isServiceRegistered. The
	  workaround: Just don't check if the search service is available,
	  just call the methods. They'll fail properly if the service is
	  not there. Volker, can you backport this fix to older Akonadi
	  releases and prepare tarballs, so that we can notify the release
	  team about this? Should fix BUG: 219687

2010-01-18 23:59 +0000 [r1076866]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp:
	  Better debug output

2010-01-15 10:46 +0000 [r1075011]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Use BYTEA for the name column of CollectionTable in the
	  PostgreSQL environment.

2010-01-14 13:54 +0000 [r1074652]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  make the internal MySQL work on Windows

2010-01-14 13:28 +0000 [r1074641]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf:
	  Disable logging of slow queries by default, it's only needed for
	  debugging and apparently not supported by all MySQL versions.

2010-01-14 09:49 +0000 [r1074493]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  Make XdgBaseDirs find data and config files on Windows, cmake
	  only provides us with relative paths there apparently.

2010-01-13 20:12 +0000 [r1074290]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigpostgresql.cpp:
	  Solve some startup issues when using the Postgres backend, mainly
	  because postgres needs to start several processes before being
	  really available. the 'postgres' executable lacks several options
	  like a nice way to stop the database or a timer before akonadi
	  can start accessing the data. pg_ctl has everything we need.
	  Instead of directly running 'postgres', we'll now use: 'pg_ctl
	  start'. mCleanServerShutdownCommand was also added: the database
	  is closed properly when calling akonadictl stop.

2010-01-08 15:28 +0000 [r1071710]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfigmysqlembedded.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigsqlite.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigpostgresql.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp:
	  compilation++

2010-01-08 14:27 +0000 [r1071669]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysqlembedded.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysqlembedded.h
	  (added), trunk/kdesupport/akonadi/server/src/storage/dbconfig.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigsqlite.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigpostgresql.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigmysql.cpp
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigsqlite.h
	  (added), trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfigpostgresql.h
	  (added): Refactor db abstraction, so every database backend has
	  its own class that does configuration and initialization.

2010-01-08 13:28 +0000 [r1071630]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: increase version number

2010-01-06 18:32 +0000 [r1070782]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: prepare the 1.2.90
	  release

2010-01-01 15:45 +0000 [r1068573]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  fix so we don't get CMake warnings

2009-12-29 22:16 +0000 [r1067593]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml: We
	  cannot rely on case-insensitive table names when not using our
	  internal MySQL server, an external MySQL server might be
	  configured differently (not sure about PostgreSQL, might be
	  affected as well). BUG: 220007

2009-12-29 10:30 +0000 [r1067230]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Switch on
	  configure option to treat backslashes in strings literally as
	  defined in SQL standard. That avoids the warnings for updating
	  data in the FlagsTable table.

2009-12-29 09:04 +0000 [r1067215]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Add support for
	  let Akonadi start its own PostgreSQL server instance and
	  configure it automatically.

2009-12-27 19:50 +0000 [r1066711]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Try harder to
	  shut down mysqld nicely and cleanly by using mysqladmin if
	  present. In order to stay db agnostic, wrap the shutdown command
	  in a generic method in DbConfig.

2009-12-27 18:19 +0000 [r1066685]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Let's try a bit
	  harder to get rid of our mysqld process. On OSX terminate() is
	  apparently useless. This is not quite nice, it would be more
	  correct to use mysqladmin shutdown, but we don't want to rely on
	  that being installed, I guess, so let's do this. Better than
	  leaking mysqld processes.

2009-12-26 19:08 +0000 [r1066341]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Turns out that
	  mysql can't deal with socket paths longer than 103 characters.
	  Check for this early, so we can exit with a reasaonble error and
	  make unit tests fail quickly, instead of waiting for timeouts.

2009-12-19 16:04 +0000 [r1063935]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/copy.cpp: copy flags
	  as well when copying items

2009-12-18 21:48 +0000 [r1063599]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Fixing database
	  creation code which was MySQL specific. Patch provided by Yury
	  Kudryashov See http://reviewboard.kde.org/r/2135/ Reviewed by
	  Volker

2009-12-02 13:10 +0000 [r1057453]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.h,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  Send out change notifications when search results are
	  added/removed.

2009-12-01 17:09 +0000 [r1057189]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prepare for the 1.2.80
	  release.

2009-12-01 16:01 +0000 [r1057161]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: fix
	  argument order

2009-11-30 13:36 +0000 [r1056628]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentinstance.cpp: fix
	  interface path

2009-11-30 12:17 +0000 [r1056580]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/capabilities_p.h,
	  trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Search.xml
	  (added),
	  trunk/kdesupport/akonadi/server/control/agentinstance.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManagerInternal.xml
	  (added), trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/control/agentinstance.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Support
	  for distributing search queries to agents.

2009-11-30 08:35 +0000 [r1056440]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp: Finding
	  objects not handled by Akonadi is perfectly normal here, so no
	  need to warn about that.

2009-11-27 16:15 +0000 [r1055227]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: On
	  Windows, there is no recursion protection for the readyRead()
	  signal (unlike on Unix), so we have to do that ourselves. Patch
	  by Romain Pokrzywka <romain@kdab.com>, merged from the
	  pe5.20091123 tag.

2009-11-27 08:07 +0000 [r1054922]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/querybuildertest.h
	  (added), trunk/kdesupport/akonadi/server/src/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/interpretertest.cpp
	  (added), trunk/kdesupport/akonadi/server/src/tests (removed),
	  trunk/kdesupport/akonadi/server/tests/unittest/interpretertest.h
	  (added),
	  trunk/kdesupport/akonadi/server/tests/unittest/querybuildertest.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/interpreter.h: Merge unit
	  test moving from the pe5.20091123 tag.

2009-11-27 08:03 +0000 [r1054921]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/storage/entity.h,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  Merge unit test build fixes for Windows from the pe5.20091123
	  tag.

2009-11-23 16:15 +0000 [r1053201]  Raphael Kubo da Costa kubito@gmail.com

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt: Look for
	  libexecinfo and link to it if necessary, otherwise linking fails
	  on non-Linux Unices. A new variable, AKONADI_SYSTEM_LIBS, is
	  defined and should be used to include this kind of lib. REVIEW:
	  2255

2009-11-22 01:49 +0000 [r1052543]  Michael Jansen kde@michael-jansen.biz

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Do
	  not restart crashed applications. 1771 core files in 14 minutes
	  are to much! Synchronize with
	  kdebase/runtime/nepomuk/server/processcontrol.cpp as they seem to
	  have the same origin but evolved differently.

2009-11-21 22:38 +0000 [r1052502]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.h:
	  -change include so it really finds the local exception.h, to make
	  it build with Sun Studio compiler patch by Hajma, see
	  http://bugs.kde.org/show_bug.cgi?id=211636 Alex

2009-11-20 16:51 +0000 [r1052062]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Be more
	  verbose on errors

2009-11-15 10:38 +0000 [r1049489]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp: Fix build.

2009-11-15 06:34 +0000 [r1049360]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/search/query.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/search/term.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/search/query.h (removed),
	  trunk/kdesupport/akonadi/server/src/search/term.h (removed),
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.h,
	  trunk/kdesupport/akonadi/server/src/search/querymetatype.h:
	  Remove Query and Term classes, they are not needed since we use
	  only SPARQL strings in the query API in Akonadi.

2009-11-13 16:36 +0000 [r1048628]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp,
	  trunk/kdesupport/akonadi/server/src/search/org.kde.nepomuk.QueryService.xml,
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.h,
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp,
	  trunk/kdesupport/akonadi/server/src/search/querymetatype.h: Adapt
	  to latest Nepomuk Query API changes

2009-11-12 15:24 +0000 [r1048004]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp,
	  trunk/kdesupport/akonadi/akonadi-prefix.h.cmake: Add the
	  BUNDLE_INSTALL_DIR to the list of paths searched, so we find
	  agents on OSX.

2009-11-11 14:40 +0000 [r1047587]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: catch
	  exceptions instead of exiting

2009-11-10 16:33 +0000 [r1047175]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: Ignore
	  agents for which we couldn't find the corresponding executable.

2009-11-10 12:28 +0000 [r1047083]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Fixed
	  crashing cases: we're not guaranteed that the handler has already
	  been created in the catch block, e.g. if the exception was raised
	  while getting the tag. This can happen e.g. for the imap stream
	  parser when no network is available. Also be more careful with
	  readUntilCommandEnd(), which may also throw an exception in that
	  case.

2009-11-10 11:44 +0000 [r1047068]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp: Normalize
	  payload part namespaces, should fix removal of parts that were
	  supposed to be cached in an online IMAP setup.

2009-11-05 12:25 +0000 [r1045177]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp:
	  return the created search collection

2009-11-04 16:04 +0000 [r1044773]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: Revert 1044736,
	  1044743, 1044749 and fix only what needs fixing. (and don't break
	  4.3 compilation against akonadi trunk)

2009-11-04 15:13 +0000 [r1044749]  Helio Chissini de Castro helio@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: All kdepimlibs expect
	  that we have akonadi headers installed in <includedir>/akonadi.
	  This now fix the issue

2009-11-04 15:02 +0000 [r1044743]  Helio Chissini de Castro helio@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: - Revert this part since
	  was pointed as not necessary by krop.

2009-11-04 14:57 +0000 [r1044736]  Helio Chissini de Castro helio@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: - Make install
	  consistent in both cmake and header pure install in case of
	  setting non standard flags

2009-11-04 14:36 +0000 [r1044718]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Create the
	  database if it's not there yet when using an external MySQL
	  server. BUG: 193644

2009-11-04 13:48 +0000 [r1044692]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp: Print
	  out some more error messages, instead of just broadcasting them
	  on D-Bus.

2009-11-02 15:06 +0000 [r1043871]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp:
	  Fix a deadlock in the item retrieval manager. Jobs might finish
	  immediately, so make sure the mutex is unlocked before we start
	  them, as the result slot tries to lock it as well.

2009-10-22 08:43 +0000 [r1038892]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Register
	  autostarted resources in the same way we register manually
	  created resources, to fix the resource creation race there as
	  well. Also, fix a memory leak.

2009-10-21 14:34 +0000 [r1038635]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/intervalcheck.cpp: Don't end
	  up in an infinite sync loop.

2009-10-21 13:12 +0000 [r1038583]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: Patch
	  by Fabrice Ménard <menard.fabrice@orange.fr>: Agents executables
	  should be registered only once in the file system watcher. It
	  happens when several agents share the same executable (it is the
	  case for the kalarmresource agents)

2009-10-19 08:21 +0000 [r1037444]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp: Fix
	  missing quoting of RIDs, could cause extensive breakage when
	  using RIDs containing " or \n.

2009-10-17 21:53 +0000 [r1036837]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/search.cpp: Read the
	  remaining command parts when the query result is empty, otherwise
	  we will have that still in the stream for the next command.

2009-10-16 07:57 +0000 [r1035900]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Refactor
	  flag handling a bit, and check more carefully if there was an
	  actual change. Reduces change notifications on flag changes with
	  IMAP by 50%.

2009-10-12 14:24 +0000 [r1034361]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Also detect
	  the Virtuoso backend.

2009-10-07 15:50 +0000 [r1032352]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievaljob.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalrequest.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievaljob.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt: Don't block
	  requests to all resources if just one is flooded with requests.
	  Instead, use one request queue for every resource and process
	  requests to different resources in parallel. CCBUG: 208555

2009-10-07 12:18 +0000 [r1032262]  Stephen Kelly steveire@gmail.com

	* trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp:
	  Follow a literal size with CRLF as specified in the IMAP RFC
	  3501. Akonadi client code already handles this in
	  ImapStreamParser::hasLiteral.

2009-10-06 12:43 +0000 [r1031913]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Fix change
	  notification compression for an add notification followed by a
	  modification of a part sub-set.

2009-09-26 14:29 +0000 [r1028295]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: BUG: 208612 Find
	  MySQLD on OpenSolaris.

2009-09-24 12:00 +0000 [r1027623]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/search.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/logout.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/capability.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/resourceselect.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Remove
	  pointless deleteLater() calls, the command handlers are deleted
	  once they have returned from parseStream() anyway.

2009-09-24 11:44 +0000 [r1027587]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/search.cpp: Don't
	  return all (!) items when the search didn't find a match.

2009-09-22 13:03 +0000 [r1026743]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/list.cpp: Don't
	  silently ignore mimetype filters if we don't have any item of
	  that type yet. BUG: 207825

2009-09-21 10:49 +0000 [r1026281]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml:
	  Add configurationDialogAccepted()/configurationDialogRejected()
	  signals to the interface.

2009-09-18 08:41 +0000 [r1025184]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp:
	  Respect CACHEONLY also for on-demand syncing. Prevents the
	  Nepomuk Email feeder from downloading my entire IMAP server
	  content.

2009-09-17 15:31 +0000 [r1024920]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Make
	  LINK/UNLINK commands work for items and/or destination
	  collections identified by RIDs.

2009-09-17 09:59 +0000 [r1024832]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp: Prepare
	  parsing code for RID based LINK/UNLINK commands.

2009-09-10 15:20 +0000 [r1022024]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml: fix
	  initial data, broke the LINK unittest

2009-09-10 14:25 +0000 [r1022001]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/resourcemanager.h: remove
	  unused member

2009-09-10 10:03 +0000 [r1021904]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/capabilities_p.h (added),
	  trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.ResourceManager.xml,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.cpp,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.h,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Mark resources that create virtual collections as such using the
	  capabilities field, and pass those along to the server. This
	  finally allows us to fix the ugly hack in ItemQueryHelper that
	  used hardcoded resource names for known virtual resources.

2009-09-10 07:55 +0000 [r1021830]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.SearchQuery.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.Search.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.SearchQueryIterator.xml
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt: Remove
	  unused cruft.

2009-09-04 13:34 +0000 [r1019815]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/colmove.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/move.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Support move destinations identified by a RID.

2009-09-03 13:21 +0000 [r1019391-1019392]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetchhelper.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler/search.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/fetchhelper.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/search.h: Refactor
	  fetch handler to allow code sharing with search handler The
	  SEARCH command takes fetchScope information now and returns
	  complete item descriptions, not only uids

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Give status
	  information about the used search backend

2009-08-27 17:42 +0000 [r1016381]  Constantin Berzan exit3219@gmail.com

	* trunk/kdesupport/akonadi/server/shared/akdebug.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/shared/akdebug.h,
	  trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  Disable autostarting of agents if the
	  AKONADI_DISABLE_AGENT_AUTOSTART environment variable is present.
	  Reviewed at http://reviewboard.kde.org/r/1419/ .

2009-08-25 09:39 +0000 [r1015321]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version

2009-08-24 14:14 +0000 [r1015105]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp: Add support
	  for fetching collections based on hierarchical RIDs.

2009-08-18 13:23 +0000 [r1012966]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl:
	  Handle 0 values in columns with foreign key constraints
	  correctly, like it's done for insert() already. Should fix
	  syncing of maildir trees with a locally modified top-level node.

2009-08-14 09:43 +0000 [r1011305]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Add
	  information about available search support and used search
	  backend

2009-08-11 14:47 +0000 [r1010060]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/list.cpp: Don't throw
	  an error when the mimetype filter encounters a type it doesn't
	  know yet. Ignore it instead.

2009-08-11 07:11 +0000 [r1009894]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl:
	  Fix unused variable warning in generated code.

2009-08-10 14:17 +0000 [r1009633]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  quick & dirty build fix for windows

2009-08-10 13:34 +0000 [r1009616]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp: Fix
	  deprecation warning when using Soprano >=2.3.

2009-08-10 11:36 +0000 [r1009576]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp:
	  Server-side support for retrieving the ancestor chain of items.

2009-08-10 09:09 +0000 [r1009531]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlerhelpertest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp: Factor out
	  the depth parsing code as well, needed in three different places
	  by now.

2009-08-10 08:32 +0000 [r1009520]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlerhelpertest.cpp
	  (added): Factor out the ancestor protocol code, we'll need that
	  for FETCH as well.

2009-08-10 07:50 +0000 [r1009487]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.h
	  (removed),
	  trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.cpp
	  (removed): obsolete

2009-08-07 13:49 +0000 [r1008431]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp:
	  fix warning

2009-08-07 10:42 +0000 [r1008380]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomuksearch.h (added),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/search.cpp (added),
	  trunk/kdesupport/akonadi/server/src/nepomuksearch.cpp (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/search.h (added): Let
	  the SEARCH command make use of Nepomuk query service

2009-08-07 09:46 +0000 [r1008365]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h:
	  Refactor the number parsing test a bit. As gcov pointed out
	  correctly most of the old test wasn't executed, we dropped out
	  very early with an (at this point expected) exception.

2009-08-06 09:57 +0000 [r1007830]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/handlertest.h
	  (removed),
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlertest.cpp
	  (removed): Remove obsolete test, now that the old unused LIST
	  command has been removed.

2009-08-05 12:30 +0000 [r1007280]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Fix item
	  creation with RIDs containing a ']'.

2009-08-05 11:41 +0000 [r1007252]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Allow me to enable
	  coverage support. The necessary code for that was already there,
	  just the option to enable it was missing.

2009-08-05 09:12 +0000 [r1007141]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Increase protocol version number after latest changes

2009-08-05 09:05 +0000 [r1007124]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h (removed),
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp (removed),
	  trunk/kdesupport/akonadi/server/AkonadiServerProtocol.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp: Removed
	  LIST/LSUB command implementation and replaced it with
	  X-AKLIST/X-AKLSUB implementation

2009-08-05 08:34 +0000 [r1007089]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/noop.h (removed),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/AkonadiServerProtocol.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/noop.cpp (removed):
	  Remove the unused NOOP command

2009-08-04 21:25 +0000 [r1007009]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CTestConfig.cmake (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt: Add CDash configuration.

2009-08-04 12:43 +0000 [r1006800]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/AkonadiServerProtocol.txt: fix
	  protocol version, add notes about deprecated commands

2009-08-04 12:29 +0000 [r1006792]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/AkonadiServerProtocol.txt
	  (added): Add initial skeleton of the akonadi server protocol
	  description

2009-08-04 07:30 +0000 [r1006636]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl:
	  Make sure that everything is initialized properly.

2009-07-31 20:08 +0000 [r1005333]  Andreas Hartmetz ahartmetz@gmail.com

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: link with gold

2009-07-31 18:58 +0000 [r1005299]  Szymon Stefanek pragma@kvirc.net

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Preprocessor.xml,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.h,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.h: More
	  work on the preprocessor chain. - The hidden property is now an
	  attribute. - The preprocessor manager is now fully thread-safe. -
	  The append handlers now push items for preprocessing if there is
	  at least one registered preprocessor - Preprocessing can be
	  forcibly disabled by configuration - The preprocessor manager is
	  now transaction aware and will keep newly added items in wait
	  queues until the transaction is committed.

2009-07-30 17:54 +0000 [r1004669]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  support for retrieving the collection ancestor UIDs/RIDs up to a
	  desired depth.

2009-07-29 21:41 +0000 [r1004341]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Akonadi 1.2.0 was
	  released. Bump the kdesupport/akonadi version to 1.2.60

2009-07-28 20:39 +0000 [r1003796]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Fixing
	  check for presence of a list. If stripLeadingSpaces() puts the
	  position at the end of the input data, we need to read more data.
	  Actually this should probably be done in a loop if there is more
	  than one leading space, not sure if the protocol allows that
	  though.

2009-07-28 10:31 +0000 [r1003553]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: After
	  stripping whitespace, position could be at the end of the buffer
	  and not yet seeing the list begin. In this case try to read more.
	  Might make sense to check this on other occurances of
	  stripLeadingSpace()

2009-07-27 11:42 +0000 [r1002949]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/rename.h (removed),
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/colmove.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  Refactor collection moving/renaming code a bit to emit the
	  correct change notifications.

2009-07-26 16:24 +0000 [r1002635]  Szymon Stefanek pragma@kvirc.net

	* trunk/kdesupport/akonadi/server/control/agentinstance.cpp: Delete
	  the control side D-Bus interface wrappers if they aren't valid.

2009-07-26 12:28 +0000 [r1002569]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/akonadi.pc.cmake: pkgconfig will work
	  much better if we don't use AKONADI_VERSION_STRING

2009-07-24 09:53 +0000 [r1001801]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepimlibs/akonadi/agentinstance.cpp,
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.h,
	  trunk/KDE/kdepimlibs, trunk/KDE/kdepimlibs/akonadi/agentbase.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml,
	  trunk/KDE/kdepimlibs/akonadi/agentbase.h: Slightly modified merge
	  of the cancel-support for Akonadi agents by Constantin Berzan,
	  with the D-Bus interface changes already integrated into the
	  server. Merged revisions 986718 via svnmerge from
	  https://vkrause@svn.kde.org/home/kde/branches/work/akonadi-ports/kdepimlibs
	  ................ r986718 | tmcguire | 2009-06-25 00:30:24 +0200
	  (Thu, 25 Jun 2009) | 9 lines Merged revisions 980072 via svnmerge
	  from
	  svn+ssh://tmcguire@svn.kde.org/home/kde/branches/kdepim/soc/kdepimlibs
	  ........ r980072 | cberzan | 2009-06-11 07:01:53 +0200 (Thu, 11
	  Jun 2009) | 2 lines AgentInstance::abort() support. I copied
	  kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml
	  to kdepimlibs/akonadi/interfaces for now. Agents / resources
	  should connect to AgentBase::abortRequested() to implement
	  abortion. ........ ................

2009-07-24 08:28 +0000 [r1001772]  Szymon Stefanek pragma@kvirc.net

	* trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/control/agentinstance.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Preprocessor.xml
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.PreprocessorManager.xml
	  (added),
	  trunk/kdesupport/akonadi/server/src/preprocessorinstance.h
	  (added), trunk/kdesupport/akonadi/server/control/agentinstance.h,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.cpp
	  (added), trunk/kdesupport/akonadi/interfaces/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/preprocessormanager.h
	  (added): Initial support for preprocessor agents.

2009-07-23 14:52 +0000 [r1001523]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp: Fix newly
	  created top-level collections being invisible when using an old
	  database with an Akonadi server from this week.

2009-07-20 15:02 +0000 [r999896]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/src/storage/entities.xsl: Use
	  SelectQueryBuilder here, should fix runtime errors with Sqlite
	  when filtering on NULL.

2009-07-20 13:41 +0000 [r999766]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/src/storage/entities.xsl,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp: If we
	  specify foreign key constraints we probably should not violate
	  them. MySQL apparently doesn't really care, but PostgreSQL does.
	  This should conclude the merging of the PostgreSQL support
	  patches by Javier Goday which turned into fixing our broken
	  database usage instead.

2009-07-20 11:29 +0000 [r999688]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  add special cases for table creation for PostgreSQL, based on a
	  patch by Javier Goday

2009-07-20 11:04 +0000 [r999676]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp:
	  Auto-generate REFERENCES statements when creating tables instead
	  of writing them into akonadidb.xml manually. Most the ones in
	  there were plain wrong, MySQL just didn't complain.

2009-07-20 09:35 +0000 [r999613]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/tests/querybuildertest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp:
	  Generate multi-column UPDATE statements that are understood by
	  Sqlite and PostgreSQL when using those. Based on a patch by
	  Javier Goday.

2009-07-20 08:32 +0000 [r999589]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/server/src/tests/querybuildertest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Move
	  creation of INSERT queries into the querybuilder as well and add
	  PostgreSQL support based on the patch by Javier Goday.

2009-07-18 17:34 +0000 [r998932]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/control/agenttype.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Add dbus
	  interface to retrieve a localised version of the name and
	  description of resources.

2009-07-16 18:18 +0000 [r997961]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Fix
	  printing the process name which is being valgrinded.

2009-07-16 16:17 +0000 [r997919]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Merge the first part of the PostgreSQL support patch by Javier
	  Goday. It is modified a bit though as it turns out that most of
	  the special cases for PostgreSQL are not really needed and that
	  the code for MySQL was broken instead (MySQL just silently
	  ignored that apparently).

2009-07-14 11:42 +0000 [r996438]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp:
	  Work around the model not wanting to display the content of a
	  search folder as it doesn't have any content mimetypes set.

2009-07-14 11:29 +0000 [r996433]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp: unbreak
	  nepomuk search

2009-07-10 16:22 +0000 [r994500]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/protocol_p.h: oops, missed that one

2009-07-10 16:08 +0000 [r994483]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Server-side support for filtering by content mime types.

2009-07-08 16:31 +0000 [r993403]  mikearthur

	* trunk/kdesupport/akonadi/cmake/modules/FindQt4.cmake: Add missing
	  QtDBus Framework include for Qt SDK compilation on OSX.
	  Backported from CMake 2.6.4.

2009-07-08 14:47 +0000 [r993358]  mikearthur

	* trunk/kdesupport/akonadi/CMakeLists.txt: Add QT_USE_* options to
	  fix building on OSX with Qt SDK.

2009-07-06 17:32 +0000 [r992351-992355]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/control/CMakeLists.txt: one WIN32
	  flag is enough

	* trunk/kdesupport/akonadi/server/control/CMakeLists.txt: run
	  akonadi_control silently on windows (no console popup)

2009-06-24 08:59 +0000 [r986123]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp: Join
	  collection attributes correctly. Not that it makes any difference
	  for the parser, but it's much less confusing to read for humans
	  in the akonadiconsole debugger.

2009-06-23 18:27 +0000 [r985910]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prepare for the 1.1.95
	  release.

2009-06-23 16:03 +0000 [r985873]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Correctly
	  check if the new cache policy really differs from the old one,
	  and only then send a change notification.

2009-06-23 09:29 +0000 [r985611]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Less
	  brutal way to update collection content types. Avoids a whole lot
	  of unecessary database writes and thus change notifications.

2009-06-21 19:06 +0000 [r984939]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Also
	  allow to delete collections based on their remote identifier.

2009-06-21 01:44 +0000 [r984547]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/libs/imapparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: When
	  creating a collection with CR and/or LF in attribute values, the
	  CollectionCreateJob gets stuck forever. That's because ImapParser
	  doesn't quote CR and LF at all when creating the quoted string
	  for the attribute value. According to [1], CR and LF are not
	  allowed inside a quoted string. This patch fixes this by escaping
	  LF as "\n" and CR as "\r" in ImapParser::quote() and resolving
	  them again in ImapParser::parseQuotedString and
	  ImapStreamParser;:parseQuotedString(). Approved by Volker.

2009-06-19 17:57 +0000 [r984003]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp:
	  Selection context is only relevant for items, so ignore it here.

2009-06-19 17:45 +0000 [r984000]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/libs/tests/CMakeLists.txt: find the
	  .moc, add binary dir to include path

2009-06-19 16:39 +0000 [r983981]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: oops, fix
	  creation of new collection attributes

2009-06-19 15:35 +0000 [r983965]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-source.xsl,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/handler/move.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Improve
	  the MODIFY command handler to trigger less database writes and
	  thus change notifications, about 30% less during a normal IMAP
	  sync.

2009-06-19 15:14 +0000 [r983962]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/CMakeLists.txt (added): add
	  missing file

2009-06-18 23:23 +0000 [r983741]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Change the logic when
	  we're running CMake in kdesupport: * We will use Soprano from
	  kdesupport even if some headers are installed * We will look for
	  installed headers if we're not running CMake in kdesupport _OR_
	  if BUILD_Soprano is false (ie: it is explicitely disabled or was
	  excluded from the svn checkout) This should cover all the
	  possible cases.

2009-06-17 13:54 +0000 [r983001]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/storage/queryhelper.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/queryhelper.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/collectionqueryhelper.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Extract stuff from the item query helper code that is also useful
	  for collection queries and use that to support RID-based
	  collection modification.

2009-06-17 12:16 +0000 [r982972]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/colmove.cpp: Fix
	  moving into the root collection.

2009-06-16 20:23 +0000 [r982804]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Display the Soprano URL
	  if it can't be found

2009-06-16 14:14 +0000 [r982648]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/colmove.cpp (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colmove.h (added):
	  Factor out collection moving from the collection modification
	  command, like we did for the corresponding item commands already,
	  to get rid of the look-ahead hack in its parsing code.

2009-06-15 20:13 +0000 [r982416]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Don't hardcode
	  SOPRANO_LIBRARIES

2009-06-15 11:31 +0000 [r982248]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp: Only send
	  change notifications if something did actually change.

2009-06-12 18:00 +0000 [r980962]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version to 1.1.91

2009-06-12 15:28 +0000 [r980832]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: When
	  creating a collection, allow to identify the parent collection by
	  its remote identifier as well.

2009-06-10 14:23 +0000 [r979786]  Kevin Ottens ervin@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h: Add support
	  for SIZE in the STATUS and X-AKLIST commands. So now for
	  statistics we can get the total size of a collection.

2009-06-10 09:27 +0000 [r979596]  Kevin Ottens ervin@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp: Extend
	  the server protocol so that X-AKLIST and X-AKLSUB can return the
	  collection statistics along with the collections (avoid issuing a
	  first listing and then a storm of STATUS request when you need
	  the statistics). This protocol modification is an extension and
	  is backward compatible.

2009-06-07 10:36 +0000 [r978475]  Carlo Segato brandon.ml@gmail.com

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in: use .dll.a for
	  mingw

2009-06-06 09:28 +0000 [r978167]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: More fixes
	  for the item size handling.

2009-06-06 08:18 +0000 [r978140]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Fix
	  updating of items sizes.

2009-06-03 17:33 +0000 [r977248]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/makechangelog: Prepare for the 1.1.90
	  release. Also change makechangelog to use anonsvn instead of a
	  hard-coded svn account.

2009-05-28 17:58 +0000 [r974197]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Show the
	  list of changed parts in the akonadiconsole debugger as well.

2009-05-28 16:59 +0000 [r974177]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  Add a list of actually modified item parts to the change
	  notifications, or rather put useful data in the already available
	  field for that in the notification message.

2009-05-28 12:23 +0000 [r974000]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in: msvc needs its
	  import library

2009-05-28 09:25 +0000 [r973949]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp,
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Fix change
	  notification compression for item changes affecting different
	  item parts.

2009-05-28 08:56 +0000 [r973935-973937]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.cpp
	  (added),
	  trunk/KDE/kdepimlibs/akonadi/tests/notificationmessagetest.h
	  (removed), trunk/kdesupport/akonadi/libs/tests (added),
	  trunk/kdesupport/akonadi/libs/tests/notificationmessagetest.h
	  (added),
	  trunk/KDE/kdepimlibs/akonadi/tests/notificationmessagetest.cpp
	  (removed), trunk/KDE/kdepimlibs/akonadi/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: Move test to the
	  corresponding code.

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h: Cleanup
	  remote id changing, less code and less database writes.

2009-05-27 20:35 +0000 [r973800]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/CMakeLists.txt: fix msvc build

2009-05-27 17:40 +0000 [r973701]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/move.cpp: Move stuff
	  where it belongs. Also reduce the number of database reads a bit.

2009-05-27 07:56 +0000 [r973441]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Fix the build with cmake
	  2.6.2. The version check that checks for > 2.6.2 is in 2, not in
	  0.

2009-05-26 14:27 +0000 [r973201]  Rex Dieter rdieter@math.unl.edu

	* trunk/kdesupport/akonadi/akonadi.pc.cmake:
	  s/AKONADI_LIB_VERSION_STRING/AKONADI_VERSION_STRING/ (..._LIB_...
	  isn't defined anywhere)

2009-05-25 23:30 +0000 [r972904]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: akonadi doesn't know the
	  pimlibs location (and shouldn't)

2009-05-20 17:56 +0000 [r970762]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Appending the akonadi
	  version to the directory name where the cmake files are installed
	  may lead to include or linking errors when different versions are
	  installed. From now on, the cmake files will be installed in
	  LIB_INSTALL_DIR/cmake/Akonadi (or /akonadi/cmake depending on the
	  version).

2009-05-20 08:22 +0000 [r970440]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt: Cosmetic:
	  Use Akonadi_SOURCE_DIR when it's possible

2009-05-20 07:38 +0000 [r970355]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.ResourceManager.xml
	  (added),
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.h: fix create
	  agent instace race condition

2009-05-17 16:54 +0000 [r969207]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h: Cleanup the STORE
	  handler, mainly getting rid of the look-ahead hack. Also reduce
	  the number of database writes a bit.

2009-05-17 15:48 +0000 [r969184]  Raphael Kubo da Costa kubito@gmail.com

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Include FreeBSD's
	  /usr/local/libexec in mysqld's search path. CCMAIL:
	  kde-freebsd@kde.org

2009-05-17 12:33 +0000 [r969046]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h: - add documentation
	  for the STORE command - add support for remote id based
	  operations - improved error handling/syntax checking - cleanup
	  first part of the parsing code

2009-05-16 17:36 +0000 [r968836]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp: add
	  more detailed error messages for debugging

2009-05-16 16:31 +0000 [r968823]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Deal
	  with stray newlines caused by zero-sized literals. The real fix
	  for this would be on the client side, but being more robust
	  against received garbage can't hurt either. This fixes most of
	  the unknown command/empty command errors for me, as well as most
	  of the unit tests.

2009-05-16 15:29 +0000 [r968735]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  useful error messages to debug unknown/empty command errors.

2009-05-15 19:16 +0000 [r968466]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/move.cpp (added),
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/move.h (added): - Fix
	  an infinite loop when parsing rid lists. - After item deletion,
	  also factor item moving out of the store handler. This will
	  eventually allow us to get rid of the evil look-ahead hack in the
	  parsing code there.

2009-05-14 20:39 +0000 [r968058]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in:
	  AKONADI_COMMON_LIBRARIES was created by FindAkonadi.cmake which
	  did ensure the correct library extension was added depending on
	  the system. This patch will resolve issues when building the
	  akonadi server on mac or windows. This is a temporary fix, I'm
	  still thinking about the best solution. (ie: define it here or in
	  FindAkonadi.cmake)

2009-05-14 18:21 +0000 [r968014]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Factor out query generation code for item sets.

2009-05-14 18:02 +0000 [r968010]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/remove.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/scopetest.cpp
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.cpp (added),
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Factor out the item set parsing code, which got a bit too complex
	  now that we support rid-based operations.

2009-05-13 07:47 +0000 [r967295]  Sebastian Trueg sebastian@trueg.de

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake: ported
	  changes from kdelibs

2009-05-09 15:41 +0000 [r965720]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlertest.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.h (removed),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlertest.cpp:
	  Cleanup handler creation/deletion and improve the error handling
	  a bit.

2009-05-06 22:19 +0000 [r964571]  Kevin Ottens ervin@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: When
	  mapping with the db the remoteId on items should be interpreted
	  as QString (just like for collections). Also consider remote ids
	  as UTF8 on the wire. CCMAIL: vkrause@kde.org

2009-05-06 16:21 +0000 [r964414]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Send the
	  collection id with FETCH.

2009-05-05 21:55 +0000 [r964066]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS: Update Changelog and News. Ready
	  for release.

2009-05-04 04:18 +0000 [r963176]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in: Add quotes
	  around @AKONADI_VERSION_STRING@ or cmake <2.6.3 won't read
	  AkonadiConfig.cmake

2009-05-03 13:30 +0000 [r962920]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Generate
	  AkonadiConfigVersion.cmake

2009-05-03 13:19 +0000 [r962917]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/cmake/modules/MacroWriteBasicCMakeVersionFile.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/BasicFindPackageVersion.cmake.in
	  (added): These two files will ensure the required version is
	  *really* found

2009-05-03 11:47 +0000 [r962785]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/AkonadiConfig.cmake.in: Also define
	  AKONADI_COMMON_LIBRARIES

2009-05-01 12:44 +0000 [r962047]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/AkonadiConfig.cmake.in (added): Adding
	  AkonadiConfig.cmake.in which will be used by FindAkonadi.cmake.
	  Also added an option to install the cmake file in
	  lib/cmake/Akonadi-<version> (requires cmake >2.6.2)

2009-04-30 21:04 +0000 [r961878]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/cmake/modules/InstallSettings.cmake:
	  Remove unused vars.

2009-04-30 19:55 +0000 [r961844]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: AKONADI_XXX_VERSION
	  -> AKONADI_VERSION_XXX

2009-04-30 18:33 +0000 [r961808]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: CMakeLists cleanup.
	  - Remove old comments - Renamed AKONADI_LIB_FOO_VERSION to
	  AKONADI_FOO_VERSION - Replaced some
	  ${CMAKE_CURRENT_SOURCE_DIR}/../foo with ${Akonadi_SOURCE_DIR}/foo
	  The next step is to fix FindAkonadi.cmake.

2009-04-30 09:46 +0000 [r961537]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version: 1.1.80 ->
	  1.1.85

2009-04-27 09:48 +0000 [r959814-959815]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Greatly simplify the check for the existance of tables. Reviewed
	  by Volker.

	* trunk/kdesupport/akonadi/server/src/main.cpp: Fix my email
	  address

2009-04-25 15:50 +0000 [r959089]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp: Report an
	  error when no items were found.

2009-04-25 14:33 +0000 [r959046]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/remove.cpp (added),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/remove.h (added),
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/resourceselect.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp:
	  Add a dedicated item deletion command, to get rid of the old
	  STORE/EXPUNGE hack which was extremely inefficient. The new
	  command now also supports deletion of more than one item at a
	  time, and deletion based on a remote identifiers.

2009-04-22 09:08 +0000 [r957493]  Mirko Boehm mirko@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake: -
	  enable package config support for finding Soprano

2009-04-20 23:28 +0000 [r956924]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: MySQL is only
	  required at runtime. Do not use macro_log_feature if it's not
	  installed

2009-04-18 16:26 +0000 [r955842]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler/resourceselect.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Only
	  allow the owning resource to change remote identifiers. Based on
	  a patch by Thomas McGuire.

2009-04-14 14:30 +0000 [r953783]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp: fix last
	  commit: change substr(%1, 4) by substr(%1, 1, 4)

2009-04-13 19:28 +0000 [r953343]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: change
	  left(x,y) to substr(x, 1, y) in SQL code(sqlite does not work
	  with left). CCMAIL: Christian Gaggl<c.gaggl@alice-dsl.net>

2009-04-13 14:04 +0000 [r953248]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake: no need
	  to look in KDE4 locations for includes and libs

2009-04-12 20:15 +0000 [r952903]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Oops, it's Soprano_FOUND

2009-04-12 20:01 +0000 [r952898]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/term.h,
	  trunk/kdesupport/akonadi/server/src/search/result.cpp,
	  trunk/kdesupport/akonadi/server/src/search/result.h: Fix
	  kdesupport compilation : - move akonadi below soprano in the top
	  CMakeLists.txt - if SOPRANO_FOUND is false, akonadi will use
	  KDESupport_SOURCE_DIR/soprano and
	  KDESupport_BINARY_DIR/soprano/soprano/libsoprano.so 3 CamelCase
	  headers had to be replaced to avoid errors.

2009-04-08 23:39 +0000 [r951342]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Qt 4.5.0 or higher is
	  required now.

2009-04-07 17:49 +0000 [r950742]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Support for collection retrieval by remote identifier.

2009-04-07 14:01 +0000 [r950620]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake:
	  WIN32_DEBUG_POSTFIX is only implemented by
	  find_library_with_debug. Calling find_library not only ignored
	  it, but was looking for libd.so! This cause much trouble to
	  <fatalerrors> on IRC (ok, his nick calls for it, but still)

2009-04-07 12:53 +0000 [r950535]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/resourceselect.h
	  (added), trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/scope.h (added),
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.h,
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/handler/uid.h,
	  trunk/kdesupport/akonadi/server/src/handler/resourceselect.cpp
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Add
	  support for item retrieval based on the remote identifier.

2009-04-06 13:13 +0000 [r950045]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.h: Avoid
	  the re-insertion of command names in the input stream. Also, get
	  rid of some excessive debug output.

2009-04-06 09:27 +0000 [r949928]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Allow to enable
	  the dummy search manager again, for testing. At least until I
	  find a way to get Nepomuk running in the test environment.

2009-04-05 15:40 +0000 [r949629]  Kevin Ottens ervin@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Add the
	  extra CRLF cleanup workaround also to the akonadiserver copy of
	  the stream parser. CCMAIL: amantia@kde.org

2009-04-05 10:28 +0000 [r949411]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: make
	  it work with multiple arguments, too

2009-04-05 10:21 +0000 [r949410]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: d'oh

2009-04-05 00:35 +0000 [r949349]  Sebastian Sauer mail@dipe.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: typo-- (to land
	  at least one commit today :) SVN_SILENT

2009-04-04 17:50 +0000 [r949242]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: add
	  AKONADI_VALGRIND_OPTIONS to specify additional options (besides
	  the skin used) for valgrind

2009-04-04 17:15 +0000 [r949236]  Christophe Giboudeaux cgiboudeaux@gmail.com

	* trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp:
	  Fix compilation

2009-04-04 15:02 +0000 [r949146]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindSoprano.cmake (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/FindLibraryWithDebug.cmake
	  (added), trunk/kdesupport/akonadi/server/src/search/term.h,
	  trunk/kdesupport/akonadi/server/src/search/result.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/result.h: Soprano is
	  required now. Make the buildsystem aware of that, and adjust
	  includes accordingly.

2009-04-04 13:03 +0000 [r949064]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/search/query.cpp (added),
	  trunk/kdesupport/akonadi/server/src/search/term.cpp (added),
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/server/src/search/org.kde.nepomuk.QueryService.xml
	  (added), trunk/kdesupport/akonadi/server/src/search/query.h
	  (added), trunk/kdesupport/akonadi/server/src/search/term.h
	  (added), trunk/kdesupport/akonadi/server/src/search/result.cpp
	  (added), trunk/kdesupport/akonadi/server/queryserver (removed),
	  trunk/kdesupport/akonadi/server/src/search (added),
	  trunk/kdesupport/akonadi/server/src/search/querymetatype.h
	  (added), trunk/kdesupport/akonadi/server/src/search/result.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/org.kde.nepomuk.Query.xml
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/queryserviceclient.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.cpp
	  (added), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/search/dbusoperators.h
	  (added), trunk/kdesupport/akonadi/server/src/akonadi.cpp: Add
	  search support via Nepomuk search service

2009-04-03 14:49 +0000 [r948702]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/src/exception.h: Silence the
	  compiler on OSX.

2009-04-01 10:37 +0000 [r947740-947741]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Read
	  the command until the end in case of handling errors. Mandate the
	  handler to leave the trailing newline in the stream buffer. Fixes
	  the (harmless) BAD COMMAND error output after a STORE/FETCH with
	  invalid UID.

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Request
	  literal also for {0}. Fixes some hangs.

2009-03-31 12:22 +0000 [r947310]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/control/agentinstance.cpp: Avoid
	  DBUS lockups

2009-03-30 14:37 +0000 [r946928]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Patch by Christian Gaggl <linux-dev@redsun.inka.de> to fix the
	  database setup for sqlite.

2009-03-23 22:19 +0000 [r943480-943481]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  already done in the initializer list now

	* trunk/kdesupport/akonadi,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: don't
	  leak socket on error. Better initialize members (not strictly
	  necessary here, though)

2009-03-22 16:36 +0000 [r942834]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Handle
	  quoted strings correctly in readUntilCommandEnd().

2009-03-22 15:46 +0000 [r942813]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h:
	  Add test case for an infinite loop in readUntilCommandEnd() if a
	  quoted string starts with a '{'.

2009-03-19 19:55 +0000 [r941495]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp: Move the
	  functionality from DataStore::listPimItems() to the Expunge
	  handler, its only user. Don't include the selected collection in
	  the query. Lead to expunges failing, thus items only be marked as
	  deleted.

2009-03-19 10:41 +0000 [r941276]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h:
	  test readUntilCommandEnd()

2009-03-19 10:34 +0000 [r941275]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/transaction.h: Begin
	  the transaction only after ItemRetriever is executed.

2009-03-18 20:45 +0000 [r941084]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/expunge.cpp: Read the
	  command from the string for EXPUNGE, otherwise we will get a bad
	  command error after.

2009-03-17 17:57 +0000 [r940575]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Rewrite
	  the APPENDhandle, so in case of large payload data and when
	  external payload storage is enabled, the data is written out to
	  the payload file as soon as it is read from the socket, thus the
	  memory usage is reduced.

2009-03-17 16:03 +0000 [r940546]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h: Rewrite
	  the STORE handle, so in case of large payload data and when
	  external payload storage is enabled, the data is written out to
	  the payload file as soon as it is read from the socket, thus the
	  memory usage is reduced.

2009-03-16 19:06 +0000 [r940173]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/link.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.h,
	  trunk/kdesupport/akonadi/server/src/handler/logout.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/noop.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.h,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.h,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/capability.h,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.h,
	  trunk/kdesupport/akonadi/server/src/handler/status.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.h,
	  trunk/kdesupport/akonadi/server/src/handler/rename.h,
	  trunk/kdesupport/akonadi/server/src/handler/login.h,
	  trunk/kdesupport/akonadi/server/src/handler/logout.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler/noop.h,
	  trunk/kdesupport/akonadi/server/src/handler/capability.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/uid.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.h,
	  trunk/kdesupport/akonadi/server/tests/unittest/handlertest.cpp:
	  Clean up the handler from the old imapparser code (except Modify
	  that uses lookahead, might need a rewrite). Change
	  akonadiconnection to use the ImapStreamParser only when new data
	  arrives on the socket. All relevant unit tests passes.

2009-03-15 14:03 +0000 [r939685]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp: With the
	  stream parser UID sub-commands no longer see the UID token in the
	  input, we therefore need to pass that info to them by other
	  means. Fixes failing STORE commands during manual tests, the unit
	  tests apparently don't catch this.

2009-03-15 00:47 +0000 [r939511]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Spotted a double inclusion of a header file, added in r937343.

2009-03-13 22:06 +0000 [r939136]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  the posibility to use the streaming parser for handlers (see the
	  comment in the commit).

2009-03-13 21:13 +0000 [r939117]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.h: Port
	  the Transaction handler. Now all handlers can use the streaming
	  parser.

2009-03-13 21:10 +0000 [r939113-939114]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/append.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/capability.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/capability.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.h,
	  trunk/kdesupport/akonadi/server/src/handler/status.h: Port other
	  handlers.

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Fix
	  large literal reading, kudos for the unit tests.

2009-03-13 19:59 +0000 [r939085-939086]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Partly
	  port the Modify handler. Full port is not possible at this
	  moment, as the code needs to be rewritten (it uses lookahead,
	  which is not possible with the streaming parser, unless with the
	  workaround commited here).

	* trunk/kdesupport/akonadi/server/src/handler/rename.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/select.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.h,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.h:
	  Port another bunch of handler to imapstreamparser.

2009-03-13 19:33 +0000 [r939077]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler/noop.h,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/noop.cpp: Port
	  AkList, List, Noop.

2009-03-13 19:22 +0000 [r939073]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/login.h,
	  trunk/kdesupport/akonadi/server/src/handler/logout.h,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/logout.cpp: Port
	  login/logout.

2009-03-13 18:02 +0000 [r939050-939052]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.h: Port
	  X-AKAPPEND.

	* trunk/kdesupport/akonadi/server/src/handler/colcopy.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp: Port
	  COLCOPY (fixes the akonadi-db-collectioncopy test)

	* trunk/kdesupport/akonadi/server/src/handler/link.cpp: Link is
	  used for UNLINK as well.

2009-03-13 16:29 +0000 [r939034]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h: Implement
	  DateTime reading, port all the remaining unit tests.

2009-03-13 15:47 +0000 [r939027-939028]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.h: Port LINK.

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Another
	  fix in sequence reading (update correctly the m_position by
	  getting rid of the extra index variable)

2009-03-13 14:58 +0000 [r939006]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/expunge.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp: Port
	  Delete and Expunge.

2009-03-13 13:40 +0000 [r938981]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/copy.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Port the
	  Copy handler.

2009-03-12 15:13 +0000 [r938638]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Port fetch
	  to imapstreamparser

2009-03-12 14:31 +0000 [r938628-938629]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp:
	  Port the Store handler to the imapstreamparser

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h: Add a
	  method to push back some data to the parser, fix reading of
	  sequence sets.

2009-03-11 14:01 +0000 [r938176]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp: Include the KDE
	  prefix in our search paths. Useful if Akonadi and KDE are
	  installed into different prefixes and XDG_DATA_DIRS is not set up
	  correctly. So, mostly developer convenience.

2009-03-11 09:44 +0000 [r938091]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Clear
	  the data buffer after a literal part was read to save memory.

2009-03-10 17:21 +0000 [r937879]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp: Merge
	  Kevin's changes for the imap stream parser.

2009-03-09 15:53 +0000 [r937343]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp:
	  Add query error to the error message.

2009-03-08 23:10 +0000 [r937083]  Alex Merry kde@randomguy3.me.uk

	* trunk/kdesupport/akonadi/Mainpage.dox: Lay out the documentation
	  a bit better. There are still a couple of references to missing
	  pages. Question: why does the project version get injected into
	  the KDE Support API docs main pages, but not into the kdelibs API
	  docs main pages?

2009-03-08 16:22 +0000 [r936905]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  the private/public hack does not work on windows -> disabled
	  imapstreamparsertest there

2009-03-05 20:40 +0000 [r935628]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: enforce build
	  dirs to be searched before other dirs, as entities.h collides
	  with an entities.h from /opt/local, here on OS X

2009-03-05 14:44 +0000 [r935544]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/CMakeLists.txt: support gcov compiling

2009-03-03 11:34 +0000 [r934526]  Dario Freddi drf@kde.org

	* trunk/kdesupport/akonadi/README: Fix typo

2009-03-01 12:23 +0000 [r933592]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalthread.cpp:
	  Rework thread termination/deletion code. We now have no more open
	  database connection when shutting down the db server, which
	  contrary to my hopes has apparently no impact on shutdown speed.

2009-02-28 23:14 +0000 [r933455]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h,
	  trunk/kdesupport/akonadi/server/src/intervalcheck.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Move the
	  collection sync triggering code to ItemRetrievalManager as well,
	  to share the resource interface cache and benefit from the
	  thread-safety fixes there.

2009-02-28 22:51 +0000 [r933443]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h: remove
	  the old item retrieval code

2009-02-28 22:46 +0000 [r933442]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Use the
	  new item retrieval code here as well, but keep ignoring errors
	  for now. As we fall back to whatever we already have in the cache
	  in this case, this actually is the desired behaviour in many
	  cases, but I guess we need a command parameter to let the
	  application specify if errors should be forwarded or ignored.

2009-02-28 22:40 +0000 [r933440]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: our unit
	  tests need way too long to run...

2009-02-28 22:01 +0000 [r933428]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.cpp
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalthread.h
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalmanager.h
	  (added), trunk/kdesupport/akonadi/server/src/exception.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretrievalthread.cpp
	  (added): New item retrieval code. Much better error handling
	  (compared to none before) and also fixes a bunch of corner cases
	  that were not handled correctly so far. Hopefully also fixes
	  thread-safety problems we had with the old code, but this will
	  require some more testing. The fetch handler still needs to be
	  changed to use this though.

2009-02-28 21:56 +0000 [r933425]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Only
	  retrieve all child items when we absolutely have to.

2009-02-28 15:16 +0000 [r933283]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/modify.cpp: Retrieve
	  all items from their resources before moving a collection.

2009-02-28 14:02 +0000 [r933259]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h: Reshuffling
	  of the parsing code to be able to access the requested changes
	  before starting the database transaction. This is needed since we
	  can only request not yet cached items from their resources before
	  beginning a transaction (we wouldn't see the changes otherwise).
	  And we need to do that for inter-resource moves.

2009-02-28 10:52 +0000 [r933199]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp: Retrieve
	  all items from the source resource before we copy them.

2009-02-28 09:36 +0000 [r933175]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  Various small improvements, suggested by Kevin.

2009-02-26 22:30 +0000 [r932572]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/src/imapstreamparser.h: fix
	  EXPORT so linking works on Windows

2009-02-26 12:08 +0000 [r932340]  Jesper Thomschütz jesperht@yahoo.com

	* trunk/kdesupport/soprano/server/sparql/sparqlmodel.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/phonon/gstreamer/x11renderer.cpp: Removing some
	  "unused variables" warnings by employing Q_UNUSED

2009-02-26 09:58 +0000 [r932076]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.cpp
	  (added), trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/imapstreamparsertest.h
	  (added), trunk/kdesupport/akonadi/server/src/imapstreamparser.cpp
	  (added), trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/handler/uid.h,
	  trunk/kdesupport/akonadi/server/src/imapstreamparser.h (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  Add a streaming IMAP parser, as described on
	  http://reviewboard.kde.org/r/191/ . Updated the UID handler to
	  support and use it. Update the akonadiconnection to use the
	  streaming parser if the handler support is. Reviewed by Volker.

2009-02-25 10:50 +0000 [r931461]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Fix startup when
	  the MySQL config files didn't change.

2009-02-24 18:32 +0000 [r931064]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.h,
	  trunk/kdesupport/akonadi/server/src/handler/link.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/handler/create.h,
	  trunk/kdesupport/akonadi/server/src/handler/rename.h,
	  trunk/kdesupport/akonadi/server/src/handler/append.h,
	  trunk/kdesupport/akonadi/server/src/handler/login.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.h,
	  trunk/kdesupport/akonadi/server/src/handler/logout.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.h,
	  trunk/kdesupport/akonadi/server/src/handler/noop.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.h,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.h,
	  trunk/kdesupport/akonadi/server/src/handler/capability.h,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.h,
	  trunk/kdesupport/akonadi/server/src/handler/status.h,
	  trunk/kdesupport/akonadi/server/src/handler/transaction.h,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.h:
	  Add Q_OBJECT to subclasses, helps e.g when debugging.

2009-02-24 18:29 +0000 [r931063]  Rex Dieter rdieter@math.unl.edu

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: update user
	  mysql.conf only if global/local one's are newer, and in doing so,
	  clear mysql ib_logfile's

2009-02-22 16:37 +0000 [r930069]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.cpp
	  (added), trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemretriever.h
	  (added), trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/storage/entity.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Extract
	  item retrieval code from the fetch handler and use it to retrieve
	  all missing item parts before we copy them. Changing the fetch
	  handler to use the new retrieval code as well will need some more
	  work though, as it's quite interleaved with everything else there
	  for performance reasons.

2009-02-22 13:04 +0000 [r929953]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.h
	  (added), trunk/kdesupport/akonadi/libs/imapset_p.h,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/itemqueryhelper.cpp
	  (added): Factor out the item query helper code, we will need that
	  outside of the command handlers as well.

2009-02-21 21:08 +0000 [r929675]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/exception.h: fix include
	  guard

2009-02-21 20:58 +0000 [r929670]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/shared/akcrash.cpp,
	  trunk/kdesupport/akonadi/server/shared/akcrash.h,
	  trunk/kdesupport/akonadi/server/src/handler.h,
	  trunk/kdesupport/akonadi/server/src/exception.h (added),
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Move the
	  handler exception and its handling out of the FETCH handler, so
	  we can use it for all other handlers as well.

2009-02-21 15:53 +0000 [r929552]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp: check if
	  collection has a resource associated with it

2009-02-18 11:55 +0000 [r927758]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: Add a
	  revision number for each payload file and increment it when it
	  changes and delete the old one after.

2009-02-17 12:20 +0000 [r927412]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Fix item
	  copying in case the item data is in an external file. Increment
	  protocol version number.

2009-02-15 16:00 +0000 [r926523]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp: Update
	  resource identifiers on inter-resource moves.

2009-02-15 12:23 +0000 [r926432]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp:
	  Prevent moving into a child collection of the source collection.

2009-02-12 20:30 +0000 [r925239]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Prepare
	  the server to send the payload file name instead of the real data
	  if requested. The default case is to send the data over socket,
	  just like before.

2009-02-10 11:12 +0000 [r924168]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemappendtest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemappendtest.h:
	  Automatically register new mimetypes.

2009-02-09 22:05 +0000 [r924027]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp: Fix
	  the case when the external storage is switched back to internal
	  one.

2009-02-09 21:06 +0000 [r923995]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h: Use
	  qint64 for PartTable::datasize, set the threshold to a nicer
	  value.

2009-02-09 17:57 +0000 [r923906-923907]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Use
	  DbConfig to decide when it is needed to use external payload.

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h: Add
	  options to enable external storage payload (disabled by default)
	  and set a size threshold. Files above this threshold will be
	  stored in an external file if the external storage is enabled.

2009-02-07 07:55 +0000 [r922471]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/store.h,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h: cleanup
	  part deletion code

2009-02-07 01:02 +0000 [r922428]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: use the
	  native function on mingw too

2009-02-06 09:04 +0000 [r922019]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.cpp
	  (added), trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/parthelper.h (added),
	  trunk/kdesupport/akonadi/server/src/storage/entities-header.xsl,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/global.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Commit the
	  preliminary version of "store payload in files" functionality.

2009-02-05 22:35 +0000 [r921908]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: added
	  #include <config-akonadi.h>

2009-02-05 22:19 +0000 [r921903]  Romain Pokrzywka romain@kdab.net

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: fixed the
	  build on platforms without unistd.h (ie. windows)

2009-02-01 22:41 +0000 [r919962]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Fix crash on
	  quit due to still accepting new connections while we are already
	  shutting down.

2009-02-01 22:10 +0000 [r919954]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/make-unittest-mysql.sh
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/create-unittest-values.sql
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/make-unittest-mysql-embedded.sh
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/make-unittest-sqlite.sh
	  (removed): obsolete, unittests use the testrunner now

2009-02-01 10:52 +0000 [r919551]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepimlibs/akonadi/resourcebase.cpp,
	  trunk/KDE/kdepimlibs/akonadi/resourcescheduler.cpp,
	  trunk/KDE/kdepimlibs/akonadi/resourcebase.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Resource.xml,
	  trunk/KDE/kdepimlibs/akonadi/resourcescheduler.h: Emit a signal
	  when a full sync has been completed. Not really interesting for
	  normal applications but crucial for the testrunner and the
	  benchmarks.

2009-02-01 10:19 +0000 [r919542]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Make sure the
	  query object is destroyed before we close the database
	  connection. Fixes a bunch of invalid reads found by valgrind.

2009-01-30 18:51 +0000 [r918781]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi: fix error message

2009-01-26 18:12 +0000 [r917032]  Andras Mantia amantia@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.h: Add some API docs
	  and removed an unimplemented method declaration.

2009-01-25 20:55 +0000 [r916728]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp: clear
	  the remote id on cross-resource copies

2009-01-25 17:30 +0000 [r916629]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Oops ... let
	  me try again

2009-01-25 17:19 +0000 [r916624]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/akonadictl/main.cpp: add restart
	  option in akonadictl

2009-01-24 15:26 +0000 [r916099]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.h: create an
	  "smart/lazy" algorithm for CacheClean wake ups

2009-01-24 15:01 +0000 [r916095]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepim/akonadiconsole/agentwidget.h,
	  trunk/KDE/kdepim/akonadiconsole/mainwidget.cpp,
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.cpp,
	  trunk/KDE/kdepim/akonadiconsole/CMakeLists.txt,
	  trunk/KDE/kdepim/akonadiconsole/agentwidget.ui (added),
	  trunk/KDE/kdepimlibs/akonadi/agentinstancewidget.cpp,
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/KDE/kdepim/akonadiconsole/agentwidget.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Add
	  support for manually restarting an agent instance and make that
	  available in akonadiconsole. This is extremely useful when
	  developing agents or resources. While I was at it, rework the
	  agent view in akonadiconsole to show more infos, add a context
	  menu, etc.

2009-01-24 12:42 +0000 [r916024]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml:
	  Database update code for the location -> collection rename.

2009-01-23 20:38 +0000 [r915808]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdater.cpp: Make
	  sure errors during database initialization or upgrade end up in
	  the error report.

2009-01-23 20:21 +0000 [r915806]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml: -
	  revert the table renaming in the pre-rename update code -
	  increment db schema version

2009-01-22 00:02 +0000 [r914892]  Igor Trindade Oliveira igor_trindade@yahoo.com.br

	* trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/kdesupport/akonadi/server/src/abstractsearchmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/delete.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.h,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.h,
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.h,
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/xesammanager.h,
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/intervalcheck.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.h,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/expunge.cpp,
	  trunk/kdesupport/akonadi/server/src/abstractsearchmanager.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.h,
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.h,
	  trunk/kdesupport/akonadi/server/src/handler/list.h,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/create-unittest-values.sql,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.cpp,
	  trunk/kdesupport/akonadi/server/src/xesammanager.cpp: janitor
	  job: change Location name to Collection

2009-01-09 23:33 +0000 [r908591]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/shared/akdebug.cpp: Don't put
	  essential code into assert(), doesn't seem to be executed in
	  release builds.

2009-01-05 15:00 +0000 [r906112]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/FindBoost.cmake (removed):
	  Require cmake-2.6.0 and its much nicer FindBoost.cmake CCMAIL:
	  adam@kde.org, vkrause@kde.org

2009-01-05 14:44 +0000 [r906099]  David Faure faure@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindBoost.cmake: Before,
	  it said: -- Boost Version required: .. Found: 1.34.1 Now it says:
	  -- Boost Version found: 1.34.1. Component PROGRAM_OPTIONS not
	  found. (given akonadi's use: find_package(Boost REQUIRED
	  COMPONENTS program_options)) I see that CMake's FindBoost is much
	  better about this already, it has _Boost_MISSING_COMPONENTS and
	  Boost_ERROR_REASON. Should this copy be removed? I think the
	  initial reason isn't right anymore, if we depend on cmake-2.6.2.
	  CCMAIL: adam@kde.org

2009-01-04 22:07 +0000 [r905714]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/cmake/modules/FindBoost.cmake: add 1.37
	  release

2009-01-04 15:57 +0000 [r905553]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: Don't
	  try to restart an agent that has been deleted.

2009-01-04 15:45 +0000 [r905550]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/phonon/cmake/FindAutomoc4.cmake: -update
	  FindAutomoc4.cmake to include documentation, same as in
	  kdelibs/cmake/modules/FindAutomoc4.cmake Alex

2009-01-03 16:19 +0000 [r905037]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Bump version for trunk
	  to 1.1.80. Open for features again.

2009-01-03 16:10 +0000 [r905016]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prep for release 1.1.0

2009-01-03 10:14 +0000 [r904820]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentinstance.cpp,
	  trunk/kdesupport/akonadi/server/control/processcontrol.h,
	  trunk/kdesupport/akonadi/server/control/agentinstance.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  Restart agents when their executable changed, much easier to test
	  changes this way :)

2008-12-30 17:49 +0000 [r903502]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/CMakeLists.txt: - properly
	  set up compile flags (QT_DEBUG/QT_NO_DEBUG, ...) to make sure
	  that the plugins have the correct Q_PLUGIN_VERIFICATION_DATA -
	  Fix link against boost on windows/msvc

2008-12-30 16:22 +0000 [r903484]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindBoost.cmake (added):
	  We need to use kde's script for finding boost, not cmake's, as
	  otherwise Boost_PROGRAM_OPTIONS_LIBRARY for example is not
	  defined.

2008-12-30 16:14 +0000 [r903479]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Add the boost
	  include dir explicitely, fixes the build on OSX.

2008-12-30 14:45 +0000 [r903426]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/shared/akapplication.cpp,
	  trunk/kdesupport/akonadi/server/shared/akapplication.h,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/akonadictl/main.cpp: Use
	  AkApplication here as well so we get the same command line
	  handling as with the other applications.

2008-12-30 10:21 +0000 [r903251]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared/akapplication.cpp,
	  trunk/kdesupport/akonadi/server/shared/akapplication.h,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt: While not
	  starting the server without the control process being available
	  is the right thing to do, it is rather inconvenient during
	  debugging/testing, so allow to overwrite that check with a
	  command line option.

2008-12-29 21:34 +0000 [r903076]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Try harder to
	  prevent one of the partial running states (control dead, server
	  running) by only allowing the server to start if the control
	  process is registered at D-Bus and terminating it when the
	  control process dies.

2008-12-29 21:01 +0000 [r903068]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake: Include revision
	  number in the version string when building from SVN.

2008-12-29 20:05 +0000 [r903051]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared/akapplication.cpp (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/server/shared/akapplication.h (added),
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt: - shut
	  down when we lost the connection to the D-Bus session bus (which
	  likely means the session was closed, but as a non-gui application
	  we have no way of knowing that). - add some basic handling of
	  command line args, at least 'akonadiserver --help' does no longer
	  accidentally start a partial Akonadi server. - add a --version
	  command line option which will be useful for the self-tests BUG:
	  178916

2008-12-23 17:29 +0000 [r900813]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/notificationmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.h: Add a
	  D-Bus call to flush the notification queue. This is needed for
	  unit tests to avoid ugly and unreliable QTest::qWait() hacks
	  there. While at it, also made the notification interval
	  configurable so this is easier to test.

2008-12-21 12:43 +0000 [r899677]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: MySQL doesn't
	  like world-writeable config files, so adjust the access rights of
	  our file if it somehow ends up being world-writable.

2008-12-18 15:55 +0000 [r898650]  Manolo Valdes nolis71cu@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: add
	  FreeBSD mysqld default path

2008-12-16 19:06 +0000 [r897748]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Prep for release

2008-12-07 11:49 +0000 [r893730]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/KDE/kdepimlibs/akonadi/itemfetchjob.cpp,
	  trunk/KDE/kdepimlibs/akonadi/session_p.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Restore
	  protocol backward compatibility with Akonadi 1.0.x servers.

2008-12-02 10:36 +0000 [r891506]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/queryserver/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: -renamed project()
	  from "akonadi" to "Akonadi" -remove some unnecessary include dirs
	  (CMAKE_SOURCE_DIR/akonadi was probably added by somebody building
	  akonadi as part of kdesupport, and CMAKE_SOURCE_DIR was probably
	  added by somebody building akonadi separate, so now use the
	  project specific Akonadi_(SOURCE|BINARY)_DIR variables instead
	  which point always to the same directory) It still builds both
	  separate and as part of kdesupport, so I think it should be ok.
	  Alex CCMAIL: winter@kde.org CCMAIL: kde-pim@kde.org

2008-12-02 10:14 +0000 [r891498]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/CMakeLists.txt (removed),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt: -proper RPATH
	  handling (see comments in CMakeLists.txt) -remove LIB_DESTINATION
	  variable, LIB_INSTALL_DIR does just that -remove LIB_INSTALL_DIR
	  hack for Windows, this is already handled in
	  INSTALL_TARGETS_DEFAULT_ARGS -use INSTALL_TARGETS_DEFAULT_ARGS
	  everywhere for installing libs (handles the bin/lib directories
	  on Windows) -remove empty cmake/CMakeLists.txt Alex

2008-12-01 14:09 +0000 [r891268]  Matthias Kretz kretz@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  switch to recommended automoc macros

2008-11-28 08:30 +0000 [r889987]  Laurent Montel montel@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp: Fix iterator

2008-11-25 02:50 +0000 [r888664]  Jesse Lee Zamora xtremek2008@aim.com

	* trunk/kdesupport/soprano/server/sparql/sparqlmodel.cpp,
	  trunk/kdesupport/phonon/phonon/experimental/videodataoutput.cpp,
	  trunk/kdesupport/phonon/xine/audiodataoutput.cpp,
	  trunk/kdesupport/soprano/test/multithreadingtest.cpp,
	  trunk/kdesupport/phonon/xine/bytestream.cpp,
	  trunk/kdesupport/soprano/index/CMakeLists.txt,
	  trunk/kdesupport/soprano/test/cluceneindextest.cpp,
	  trunk/kdesupport/strigi/src/xmlindexer/cgixmlindexer.cpp,
	  trunk/kdesupport/phonon/xine/mediaobject.cpp,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: Fixes unused
	  variable warnings for cleaner compilation.

2008-11-25 01:57 +0000 [r888661]  Jesse Lee Zamora xtremek2008@aim.com

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/teststoragebackend.cpp:
	  Fixes variable unused warnings for cleaner compilation.

2008-11-23 13:28 +0000 [r888019]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: Fall
	  back to the default server path if the configured one points to a
	  non-existing file.

2008-11-23 13:00 +0000 [r888015]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp,
	  trunk/kdesupport/akonadi/libs/xdgbasedirs_p.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: Try
	  harder to find the mysqld executable during runtime.

2008-11-19 19:31 +0000 [r886652]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS: Prep for release.

2008-11-09 14:23 +0000 [r881993]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agenttype.cpp (added),
	  trunk/kdesupport/akonadi/server/control/agentinstance.cpp,
	  trunk/kdesupport/akonadi/server/control/agenttype.h (added),
	  trunk/kdesupport/akonadi/server/control/agentinstance.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentinfo.cpp (removed),
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/control/agentinfo.h (removed):
	  Rename to reflect what is left here after yesterdays changes.

2008-11-08 16:59 +0000 [r881636]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Status.xml,
	  trunk/kdesupport/akonadi/server/control/agentinstance.cpp
	  (added), trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentinstance.h (added),
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentinfo.cpp,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/control/agentinfo.h: Query agent
	  status information asynchronously and answer all queries from
	  cached values. This massively reduces the risk of a misbehaving
	  agents blocking the Akonadi server and thus all clients. This
	  also removes the restriction that agents were not allowed to
	  access the agent manager themselves to avoid deadlocks.

2008-11-04 21:16 +0000 [r880161]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Fix the
	  size parsing.

2008-11-01 16:14 +0000 [r878678]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf:
	  Increase the limit to something more realistical.

2008-11-01 10:09 +0000 [r878448]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp: Don't
	  mark all new items as recent. No users for that, and if there are
	  users, they should simply set it in the resource. Fixes the
	  Mailody problem that opening a folder for the first time all
	  messages are marked as recent, although they also contain the
	  \Seen flag.

2008-11-01 09:26 +0000 [r878427]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/append.h,
	  trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.h,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Changes to
	  akonadi so it can store the size of an item. - database update -
	  protocol update - adjustments to the parsing code

2008-10-29 08:11 +0000 [r877324]  Loic Marteau loic.marteau@gmail.com

	* trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h:
	  build fix CCMAIL vkrause@kde.org

2008-10-04 23:05 +0000 [r867919]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/mysql-global.conf: 1M
	  is to restrictive, messages can and will be bigger.

2008-10-04 13:33 +0000 [r867782]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: Fix
	  config keys.

2008-10-04 13:02 +0000 [r867771]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h: Warn
	  about deadlock-prone D-Bus calls from agents and do the best we
	  can to limit the damage. However, it's likely too late at this
	  point already, these calls have to be prevented on the client
	  side.

2008-10-03 17:30 +0000 [r867514]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp: Make sure
	  rev is always initialized. Detected by Christoph Bartoschek
	  <bartoschek@gmx.de>.

2008-09-28 10:54 +0000 [r865601]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Fix database
	  creation, add some more error handling.

2008-09-28 09:32 +0000 [r865589]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp: a few
	  more fallbacks

2008-09-28 09:27 +0000 [r865587]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.cpp (added),
	  trunk/kdesupport/akonadi/server/src/storage/dbconfig.h (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Factor out the
	  database configuration handling so that we use the same default
	  settings everywhere. Also, add some more error checking and
	  automatically fall back to using the defaults if the provided
	  settings don't work.

2008-09-26 21:27 +0000 [r865167]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Patch by
	  Olivier Trichet <nive@nivalis.org> to prevent translated month
	  names in the protocol.

2008-09-21 17:34 +0000 [r863284]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: Improve error
	  messages.

2008-09-21 10:31 +0000 [r863143]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: - more verbose
	  error messages - always start with an empty MySQL error log

2008-09-19 07:56 +0000 [r862528]  Andreas Pakulat apaku@gmx.de

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: win32 fix. The
	  functions from akdebug and akcrash are not exported, hence they
	  need to be built into the server the same way as they're built
	  into the control binary.

2008-09-14 15:49 +0000 [r860911]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/shared/kcrash.cpp (removed),
	  trunk/kdesupport/akonadi/server/shared/akcrash.cpp (added),
	  trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared/kcrash.h (removed),
	  trunk/kdesupport/akonadi/server/shared/akcrash.h (added),
	  trunk/kdesupport/akonadi/server/shared/akdebug.cpp,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt: Renamed
	  kcrash.h/.cpp to akcrash.h/.cpp to avoid picking up the one from
	  KDE

2008-09-14 13:35 +0000 [r860860]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/kcrash.h (removed),
	  trunk/kdesupport/akonadi/server/shared/kcrash.cpp (added),
	  trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/shared (added),
	  trunk/kdesupport/akonadi/server/shared/kcrash.h (added),
	  trunk/kdesupport/akonadi/server/shared/akdebug.cpp (added),
	  trunk/kdesupport/akonadi/server/src/akdebug.cpp (removed),
	  trunk/kdesupport/akonadi/server/control/kcrash.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/shared/akdebug.h (added),
	  trunk/kdesupport/akonadi/server/src/akdebug.h (removed):
	  Reorganize shared code a bit and write backtraces also to the
	  error log file.

2008-09-14 11:16 +0000 [r860807]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  handle multiline output correctly

2008-09-13 17:33 +0000 [r860654]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akdebug.cpp (added),
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/akdebug.h (added): Add
	  akError()/akFatal(), which replace the corresponding Qt methods
	  and also log the errors into a file so we have access to them
	  from the client side.

2008-09-13 12:23 +0000 [r860581]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/debuginterface.h (added),
	  trunk/kdesupport/akonadi/server/src/tracer.cpp,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/tracer.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/kdesupport/akonadi/server/src/debuginterface.cpp (added):
	  Disable the protocol debugging by default and allow to switch it
	  on during runtime via D-Bus.

2008-09-08 20:01 +0000 [r858839]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Make
	  valgrind output nice again by only writing out full lines.

2008-09-07 19:09 +0000 [r858315]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.h,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/processcontrol.cpp:
	  Terminate the control process when the server process failed to
	  start.

2008-09-07 18:05 +0000 [r858304]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadi.h,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: Allow to
	  configure the path to the MySQL server instead of hardcoding that
	  during runtime.

2008-09-06 12:47 +0000 [r857792]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/Mainpage.dox (added),
	  trunk/kdesupport/akonadi/server/Mainpage.dox (removed): Move the
	  Mainpage.dox one level up to hopefully get API docs again.

2008-08-29 19:23 +0000 [r854557]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Up
	  the time for the crash timer reset to one minute. Now it actually
	  seems to work for me.

2008-08-29 13:19 +0000 [r854427]  Thomas McGuire mcguire@kde.org

	* trunk/kdesupport/akonadi/server/control/processcontrol.cpp: Add
	  the ability to debug or valgrind a resource right from the
	  beginning, similar to the way this can be done with KIO slaves.
	  Use AKONADI_VALGRIND for valgrinding (skin can be defined with
	  AKONADI_VALGRIND_SKIN) Use AKONADI_DEBUG_WAIT for debugging.
	  Example: <kill the existing akonadi_control process> export
	  AKONADI_DEBUG_WAIT=maildir akonadiconsole <attach gdb to the
	  stopped maildir process>

2008-08-24 17:14 +0000 [r851806]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp: Revert last,
	  breaks item listing under some conditions. Instead add a
	  temporary hack to make the tag resource work for now.

2008-08-24 16:16 +0000 [r851795]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp:
	  initialize

2008-08-24 15:26 +0000 [r851771]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.h: Fix
	  fetching of linked items in arbitrary collections. At least with
	  a bit of cheating since I didn't manage to come up with a query
	  that contains the results I want without duplicates. So, this
	  probably can be optimized.

2008-08-24 11:41 +0000 [r851696]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/link.cpp,
	  trunk/kdesupport/akonadi/libs/notificationmessage_p.h,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h,
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp: Change
	  notification support for item references in virtual collections.

2008-08-24 10:21 +0000 [r851658]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/kdesupport/akonadi/server/src/intervalcheck.cpp: be less
	  noisy

2008-08-24 09:36 +0000 [r851642]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/.kateconfig (added),
	  trunk/kdesupport/akonadi/server/src/handler/link.cpp (added),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/link.h (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp: Add
	  LINK/UNLINK commands to edit references to items in virtual
	  collections. No change notifications yet though.

2008-08-23 13:47 +0000 [r851287]  Harald Fernengel harry@kdevelop.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: integrate 851286 from
	  akonadi-1.0 branch - set rpath correctly

2008-08-13 17:59 +0000 [r846588]  Harald Fernengel harry@kdevelop.org

	* trunk/kdesupport/akonadi/server/src/akonadi.cpp: integrate
	  message verbosity from 1.0 branch

2008-08-11 09:31 +0000 [r845126]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepim/akonadi/CMakeLists.txt,
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.cpp,
	  trunk/KDE/kdepim/akonadi/migration/kres/kabcmigrator.cpp (added),
	  trunk/KDE/kdepimlibs/akonadi/agentinstance.h,
	  trunk/KDE/kdepimlibs/akonadi/agentbase.cpp,
	  trunk/KDE/kdepim/akonadi/migration/kres/kresmigrator.cpp (added),
	  trunk/KDE/kdepim/akonadi/migration/kres/kabcmigrator.h (added),
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml,
	  trunk/KDE/kdepim/akonadi/migration (added),
	  trunk/KDE/kdepimlibs/akonadi/agentbase.h,
	  trunk/KDE/kdepim/akonadi/migration/kres/kresmigrator.h (added),
	  trunk/KDE/kdepim/akonadi/migration/kres (added),
	  trunk/KDE/kdepim/akonadi/resources/vcard/vcardresource.cpp,
	  trunk/KDE/kdepim/akonadi/migration/kres/main.cpp (added),
	  trunk/KDE/kdepim/akonadi/migration/CMakeLists.txt (added),
	  trunk/KDE/kdepim/akonadi/resources/vcard/vcardresource.h,
	  trunk/KDE/kdepim/akonadi/migration/kres/CMakeLists.txt (added): -
	  provide a way to notify agents that their configuration has been
	  changed remotely and make use of that in the vcard resource - add
	  an initial kabc kresources migrator, mostly infrastructure, so
	  far it can only handle vcard files

2008-08-07 08:54 +0000 [r843430]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp:
	  increment protocol version to detect the modification time
	  support

2008-07-24 12:27 +0000 [r837311]  Bertjan Broeksema broeksema@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Make sure
	  that all modification times are stored in UTC time zone.

2008-07-23 08:31 +0000 [r836883]  Bertjan Broeksema broeksema@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Return the
	  modification time when an item is appended/stored/fetcehd.

2008-07-22 20:52 +0000 [r836720]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Move version from 0.82.0
	  to 1.0.80. This is now akonadi unstable branch. Akonadi stable is
	  in /branches/akonadi/1.0.

2008-07-22 15:32 +0000 [r836583]  Bertjan Broeksema broeksema@kde.org

	* trunk/kdesupport/akonadi/libs/imapparser.cpp: Unquoted date time
	  with a lenght of 26 characters was not parsed properly. Fixed by
	  this commit. Updated test will be committed soon after this.
	  example of correct date which did not get parsed correctly:
	  22-Jul-2008 16:31:48 +0000

2008-07-21 15:33 +0000 [r836028]  Bertjan Broeksema broeksema@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp: Add
	  serverside timestamp support for items.

2008-07-20 08:55 +0000 [r835215]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp: better fix for
	  windows

2008-07-19 13:19 +0000 [r834689]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: make msvc and
	  ebn happy

2008-07-18 23:20 +0000 [r834451]  Michel Hermier michel.hermier@gmail.com

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/phonon/cmake/FindAutomoc4.cmake: Revert 834172
	  so that automoc4 is found at the correct place.

2008-07-18 10:14 +0000 [r834172]  Matthias Kretz kretz@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/phonon/cmake/FindAutomoc4.cmake: inside
	  kdesupport the location for Automoc4Config.cmake has changed

2008-07-08 21:59 +0000 [r829707]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/phonon/cmake/FindAutomoc4.cmake: -apply same
	  patch as in kdelibs/cmake/modules/, don't append /lib to
	  CMAKE_INSTALL_PREFIX, since this is already part of PATH_SUFFIXES
	  Alex

2008-06-18 16:00 +0000 [r821830]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog,
	  trunk/kdesupport/akonadi/NEWS,
	  trunk/kdesupport/akonadi/CMakeLists.txt: Bump version, run
	  changelog script and update news file.

2008-06-05 21:22 +0000 [r817369]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake: -sync
	  with FindAutomoc4.cmake from kdelibs, support all cmake search
	  variables Alex

2008-05-29 17:22 +0000 [r814221]  Frank Osterfeld frank.osterfeld@kdemail.net

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: one more
	  hardcoded search path doesn't hurt

2008-05-27 17:42 +0000 [r813424]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Fix the error message

2008-05-26 06:27 +0000 [r812698]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/kdesupport/akonadi/server/src/cachecleaner.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemfetchtest.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemstoretest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemfetchtest.h: Finally
	  implement all the fetch modes advertised in ItemFetchScope in the
	  server and improve the tests for them a bit.

2008-05-26 06:21 +0000 [r812696]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp: Notify
	  already running clieants about all found types during startup.
	  This fixes a crash in akonaditray when starting the server.

2008-05-24 16:47 +0000 [r812135]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepimlibs/akonadi/itemmodifyjob.cpp,
	  trunk/KDE/kdepimlibs/akonadi/protocolhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbupdate.xml,
	  trunk/KDE/kdepimlibs/akonadi/itemfetchjob.cpp,
	  trunk/KDE/kdepimlibs/akonadi/session.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/server/src/storage/create-unittest-values.sql,
	  trunk/KDE/kdepimlibs/akonadi/protocolhelper.h,
	  trunk/KDE/kdepimlibs/akonadi/itemserializer.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemserializertest.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/KDE/kdepimlibs/akonadi/itemcreatejob.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/KDE/kdepimlibs/akonadi/tests/itemserializertest.h: Add item
	  part namespaces. This is necessary to distinguish between remote
	  parts that can be retrieved from the resource (payload) and local
	  parts (attributes), which again is necessary to finally implement
	  all the fetch modes advertised in ItemFetchScope. Existing data
	  should be converted correctly, but you need to update the server
	  as well as the client library.

2008-05-22 12:09 +0000 [r811139]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindLibXslt.cmake
	  (removed), trunk/kdesupport/akonadi/CMakeLists.txt: We require
	  xsltproc, but don't need libxslt development stuff. CCMAIL:
	  vkrause@kde.org, kevin.krammer@gmx.at

2008-05-20 15:17 +0000 [r810378]  Benjamin Reed ranger@befunk.com

	* trunk/kdesupport/phonon/CMakeLists.txt,
	  trunk/kdesupport/soprano/CMakeLists.txt,
	  trunk/kdesupport/taglib/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt: fix install_name RPATH
	  stuff on OSX

2008-05-19 10:26 +0000 [r809711]  Jarosław Staniek staniek@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: make libs install to bin
	  on Windows, so far this fixes akonadiprivate.dll destination

2008-05-18 22:03 +0000 [r809435]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/ChangeLog (added),
	  trunk/kdesupport/akonadi/NEWS (added),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/makechangelog (added): Prepare for
	  release: - add NEWS file - add makechangelog scripts which
	  generates the ChangeLog - bump version number to 0.81.0

2008-05-18 11:31 +0000 [r809101]  Volker Krause vkrause@kde.org

	* trunk/KDE/kdepimlibs/akonadi/session.cpp,
	  trunk/KDE/kdepimlibs/akonadi/session_p.h,
	  trunk/KDE/kdepimlibs/akonadi/job.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/KDE/kdepimlibs/akonadi/job.h: Check if the server protocol
	  version is recent enough.

2008-05-17 16:26 +0000 [r808811]  Volker Krause vkrause@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Don't
	  overwrite the part list, it might have content here already.

2008-05-13 19:03 +0000 [r807399]  Jakub Stachowski qbast@go2.pl

	* trunk/kdesupport/akonadi/libs/imapparser.cpp,
	  trunk/kdesupport/akonadi/libs/imapparser_p.h: Collection parsing
	  optimization, server part. Duplication is rather ugly, but
	  porting everything to QVarLengthArray would make lots of code
	  even more ugly.

2008-05-10 20:54 +0000 [r806282]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake: with
	  cmake 2.6, also search in the dirs in CMAKE_PREFIX_PATH Alex

2008-05-07 19:50 +0000 [r805182]  Jakub Stachowski qbast@go2.pl

	* trunk/kdesupport/akonadi/libs/imapparser.cpp: Trivial
	  optimization for quoted string parsing - if during string scan no
	  slash was found then there is no need to try and replace \\ and
	  \"

2008-05-07 10:59 +0000 [r804999]  Laurent Montel montel@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.h: Fix
	  forward declaration

2008-05-05 18:20 +0000 [r804336]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/control/agentmanager.cpp:
	  dynamic_cast provides a runtime check, static_cast doesn't

2008-05-05 17:48 +0000 [r804324-804326]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (removed): two seconds to late...

	* trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (added): we need this one

2008-05-05 17:44 +0000 [r804320]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Control.xml
	  (added): Adding missing file

2008-05-05 16:39 +0000 [r804301]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/control/org.freedesktop.Akonadi.Control.service.cmake
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.SearchQueryIterator.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.Search.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.Server.xml
	  (removed),
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (removed), trunk/kdesupport/akonadi/server/src/nepomukmanager.h,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Tracer.xml
	  (removed), trunk/kdesupport/akonadi/libs/protocol_p.h,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.NotificationManager.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/resourcemanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/main.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.h,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Resource.xml
	  (removed),
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Agent.Status.xml
	  (added), trunk/kdesupport/akonadi/server/queryserver/main.cpp,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.ControlManager.xml
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.TracerNotification.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/queryserver/CMakeLists.txt,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.AgentManager.xml
	  (added),
	  trunk/kdesupport/akonadi/server/control/org.kde.Akonadi.Control.service.cmake
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/queryserver/queryservertest.h,
	  trunk/kdesupport/akonadi/server/akonadictl/main.cpp,
	  trunk/kdesupport/akonadi/server/control/agentinfo.h,
	  trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.SearchQuery.xml
	  (added), trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Status.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.ControlManager.xml
	  (removed), trunk/kdesupport/akonadi/interfaces/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.SearchQueryIterator.xml
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.Search.xml
	  (added),
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.Server.xml
	  (added), trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/agentmanager.h,
	  trunk/kdesupport/akonadi/server/src/resourcemanager.h,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Tracer.xml
	  (added),
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.NotificationManager.xml
	  (added),
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.AgentManager.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.freedesktop.Akonadi.Resource.xml
	  (added),
	  trunk/kdesupport/akonadi/server/queryserver/queryservertest.cpp,
	  trunk/kdesupport/akonadi/server/interfaces/org.kde.Akonadi.SearchQuery.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/queryserver/org.kde.Akonadi.Search.service.cmake,
	  trunk/kdesupport/akonadi/server/interfaces/org.freedesktop.Akonadi.TracerNotification.xml
	  (added): Since Akonadi is not a KDE-only service, replace the
	  org.kde namespacing with appropriate org.freedesktop Lets hope I
	  didn't miss any occurencies

2008-05-02 15:10 +0000 [r803320]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/akonadidb.xml,
	  trunk/kdesupport/akonadi/libs/imapparser.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/libs/imapparser_p.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp: Extend
	  database and protocol to have format version numbers for parts

2008-05-02 15:02 +0000 [r803316]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.h,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Resource.xml:
	  Extend requestItemDelivery() by mimeType to provide a sane API on
	  ResourceBase side.

2008-04-29 23:04 +0000 [r802602]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/COPYING-CMAKE-SCRIPTS
	  (added): Referenced by some of the files in here.

2008-04-28 19:14 +0000 [r802188]  André Wöbbeking woebbeking@kde.org

	* trunk/kdesupport/akonadi/akonadi.pc.cmake: INCLUDE_INSTALL_DIR is
	  set by KDE4 or QImagaBlitz in kdesupport

2008-04-28 18:55 +0000 [r802182]  André Wöbbeking woebbeking@kde.org

	* trunk/kdesupport/akonadi/libs/CMakeLists.txt: don't install
	  includes in ../include/qimageblitz/akonadi INCLUDE_INSTALL_DIR is
	  set by KDE4 or QImagaBlitz in kdesupport

2008-04-28 13:12 +0000 [r802065]  Robert Zwerus arzie@dds.nl

	* trunk/kdesupport/akonadi/server/src/cachecleaner.cpp: Fixed
	  foreach misuse.

2008-04-26 14:16 +0000 [r801397]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: yes, 4.4 is needed

2008-04-26 11:30 +0000 [r801335]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: -add docs and
	  standard argument handling to FindAutomoc4.cmake -state minimum
	  required cmake version Alex

2008-04-26 10:43 +0000 [r801313-801315]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: AkonadiInternal.cmake
	  renamed to InstallSettings.cmake Alex

	* trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake
	  (removed),
	  trunk/kdesupport/akonadi/cmake/modules/InstallSettings.cmake
	  (added): rename AkonadiInternal.cmake to InstallSettings.cmake,
	  since it doesn't contains anything else anymore Alex

	* trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake,
	  trunk/kdesupport/akonadi/CMakeLists.txt: I think the
	  AKONADI_DBUS_INTERFACES_DIR and AKONADI_DBUS_SERVICES_DIR are
	  completely unused, so remove them let me know if this breaks
	  something some restructuring Alex

2008-04-26 10:03 +0000 [r801303]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: -don't indent almost the
	  whole file, but exit quickly at the beginning in the error case
	  Alex

2008-04-26 09:28 +0000 [r801295]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/automoc (removed),
	  trunk/kdesupport/akonadi/cmake/CMakeLists.txt: no kde4automoc
	  anymore in akonadi Alex

2008-04-26 09:23 +0000 [r801291]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake,
	  trunk/kdesupport/akonadi/cmake/modules/kde4_exec_via_sh.cmake
	  (removed),
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/kde4automoc.files.in
	  (removed), trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/cmake/modules/KDE4Macros.cmake
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt:
	  -remove kde4 files -use add_executable() + add_test() instead of
	  kde4_add_unit_test(), it does 95% the same -insert
	  enable_testing() so we get a "make test" target to run all tests
	  -rename automoc4_handle_automoc() to automoc4() Alex

2008-04-26 09:14 +0000 [r801283]  Laurent Montel montel@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Not necessary now

2008-04-26 08:28 +0000 [r801268]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindAutomoc4.cmake
	  (added): -add FindAutomoc4.cmake, forgot that last night Alex

2008-04-26 08:06 +0000 [r801261]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/control/kcrash.cpp: mingw doesn't
	  have _exit(), only _Exit() or better - it has _exit() but not
	  when __STRICT_ANSI__ is defined

2008-04-25 22:29 +0000 [r801204]  Albert Astals Cid tsdgeos@terra.es

	* trunk/kdesupport/akonadi/server/src/nepomukmanager.cpp,
	  trunk/kdesupport/akonadi/server/queryserver/query.cpp,
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/querybuilder.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.cpp,
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/server/src/storage/dbinitializer.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/kdesupport/akonadi/server/src/xesammanager.cpp: const & in
	  foreach avoids unnecessary constructor calls

2008-04-25 22:23 +0000 [r801203]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/automoc/Automoc4Config.cmake,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt: build
	  akonadi using automoc4 from kdesupport (that's the first automoc4
	  user !) I think we need a shorter name for the macro:
	  automoc4_handle_automoc() is not ideal automoc4(),
	  automoc4_wrap(), automoc4_do(), automoc4_run() ? Alex CCMAIL:
	  winter@kde.org CCMAIL: kretz@kde.org

2008-04-25 21:24 +0000 [r801189]  Alexander Neundorf neundorf@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: -does akonadi really
	  require Qt 4.4 or is for akonadi an older Qt version good enough
	  ? -just some cosmetics Alex CCMAIL: winter@kde.org

2008-04-25 20:51 +0000 [r801177]  Ingo Klöcker kloecker@kde.org

	* trunk/kdesupport/akonadi/AUTHORS: Removed stray commas and a
	  dupe. SVN_SILENT

2008-04-25 19:52 +0000 [r801148]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/akonadi.pc.cmake (added): new akonadi.pc
	  file is created and installed in lib/pkgconfig set variables for
	  installation dirs bin, lib, ...

2008-04-25 19:20 +0000 [r801136]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: set variables for
	  the version, and use them for the library versioning.

2008-04-25 16:24 +0000 [r801083]  Tobias Koenig tokoe@kde.org

	* trunk/kdesupport/akonadi/README (added),
	  trunk/kdesupport/akonadi/INSTALL (added): Add INSTALL and README
	  file

2008-04-25 15:12 +0000 [r801052]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: no need to link
	  against kdewin32 lib here

2008-04-25 14:25 +0000 [r801042]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/control/kcrash.cpp: _exit() ->
	  exit() because _exit() is not available when compiling on
	  windows/mingw

2008-04-25 07:22 +0000 [r800908]  André Wöbbeking woebbeking@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: - use KDE's compiler
	  flags for -Wno-long-long and more warnings - add the cmake
	  directory after that flags are set

2008-04-25 05:09 +0000 [r800884]  Christian Ehrlicher Ch.Ehrlicher@gmx.de

	* trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: win32 compile++

2008-04-24 23:15 +0000 [r800838]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/CMakeLists.txt: add feature output log
	  as mentioned by pusling

2008-04-24 16:37 +0000 [r800686]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: set an INSTALL dir for
	  include files

2008-04-24 14:01 +0000 [r800608-800609]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: Disable testing stuff!

	* trunk/kdesupport/akonadi/CMakeLists.txt: Check that Qt has DBus

2008-04-24 10:23 +0000 [r800462]  Nicolas Lécureuil nlecureuil@mandriva.com

	* trunk/kdesupport/akonadi/CMakeLists.txt: Require Qt 4.4 minimum

2008-04-24 08:17 +0000 [r800427]  Till Adam adam@kde.org

	* trunk/kdesupport/akonadi/cmake/modules/FindQt4.cmake: Find Qt on
	  the mac without frameworks but with debugging.

2008-04-24 07:02 +0000 [r800391]  Will Stephenson wstephenson@kde.org

	* trunk/KDE/kdepim/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/KDE/kdepim/akonadi/server (removed): Post Akonadi move
	  tidying part 11: Remove unused macro from akonadi, and remove
	  empty server dir from kdepim

2008-04-24 00:11 +0000 [r800361]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/queryserver/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: we need to compute
	  our own _ENABLE_EXCEPTIONS variable and use it instead of the
	  KDE4_ENABLE_EXCEPTIONS variable.

2008-04-23 23:41 +0000 [r800354]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt: remove
	  ${KDE4_KDECORE_LIBS}

2008-04-23 23:31 +0000 [r800352]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: kde4_add_library()
	  -> add_library() must use qt4_automoc() now.

2008-04-23 23:26 +0000 [r800351]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/queryserver/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt:
	  kde4_add_executable() -> add_executable() must use qt4_automoc()
	  now.

2008-04-23 21:50 +0000 [r800311]  Patrick Spendrin ps_ml@gmx.de

	* trunk/kdesupport/akonadi/server/control/main.cpp,
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake,
	  trunk/kdesupport/akonadi/server/control/kcrash.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp: as unistd.h is
	  not available on msvc, do not use it - rather check with cmake
	  for availability - msvc compiles now

2008-04-23 21:20 +0000 [r800304]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/lgpl-license (added),
	  trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/AUTHORS (added),
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: After discussion we
	  will start at version 0.80.0 and the final tarball will have
	  1.0.0. Add the license and a list of authors.

2008-04-23 21:06 +0000 [r800301]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/cmake/automoc/CMakeLists.txt: Don't
	  install our borrowed automoc.

2008-04-23 20:39 +0000 [r800285]  Tom Albers toma@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt: We can no longer
	  use KDE's generic version numbers. hard code them for now.

2008-04-23 20:27 +0000 [r800281]  Andreas Hartmetz ahartmetz@gmail.com

	* trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt: this
	  fixes the build when using the gold linker.

2008-04-23 19:54 +0000 [r800270-800271]  Allen Winter winter@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt: look in builddir/akonadi
	  for include files too

	* trunk/kdesupport/akonadi/libs/CMakeLists.txt: remove broken
	  message() statement that was probably around for debugging
	  purposes.

2008-04-23 19:23 +0000 [r800264]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/libs/akonadiprotocolinternals_export.h,
	  trunk/kdesupport/akonadi/kdemacros.h.cmake (removed),
	  trunk/kdesupport/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadiprivate_export.h: Last
	  few kdemacros.h dependencies; thanks Allen

2008-04-23 19:16 +0000 [r800261]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/server/src/akonadiprivate_export.h:
	  Another KDE dependency off to the salt mines.

2008-04-23 19:06 +0000 [r800257]  Matthew Woehlke mw_triad@users.sourceforge.net

	* trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake: Fix
	  kde4automoc dependency so parallel builds work.

2008-04-23 18:48 +0000 [r800246]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/tests/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/unittest/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/tests/CMakeLists.txt: Fix include
	  dirs for unittests

2008-04-23 18:42 +0000 [r800245]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/src/tests/querybuildertest.cpp,
	  trunk/kdesupport/akonadi/server/src/tests/interpretertest.cpp:
	  Must not use KDE includes

2008-04-23 17:51 +0000 [r800226]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Use relatively
	  specified include directories

2008-04-23 17:48 +0000 [r800225]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/control/CMakeLists.txt: More
	  relative paths

2008-04-23 17:44 +0000 [r800224]  Kevin Krammer kevin.krammer@gmx.at

	* trunk/kdesupport/akonadi/server/CMakeLists.txt: Use paths
	  relative to current source dir

2008-04-23 17:38 +0000 [r800219-800223]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/kdemacros.h.cmake (added): another
	  missing file

	* trunk/kdesupport/akonadi/cmake/automoc (added),
	  trunk/kdesupport/akonadi/cmake/automoc/kde4automoc.cpp (added),
	  trunk/kdesupport/akonadi/cmake/modules/MacroAdditionalCleanFiles.cmake
	  (added), trunk/kdesupport/akonadi/cmake/modules (added),
	  trunk/kdesupport/akonadi/cmake/modules/FindLibXslt.cmake (added),
	  trunk/kdesupport/akonadi/cmake/modules/AkonadiInternal.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/kde4_exec_via_sh.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/kde4automoc.files.in
	  (added), trunk/kdesupport/akonadi/cmake/modules/FindQt4.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/MacroEnsureVersion.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/FindSharedMimeInfo.cmake
	  (added), trunk/kdesupport/akonadi/cmake/modules/KDE4Macros.cmake
	  (added), trunk/kdesupport/akonadi/cmake/automoc/CMakeLists.txt
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/MacroPushRequiredVars.cmake
	  (added),
	  trunk/kdesupport/akonadi/cmake/modules/MacroLogFeature.cmake
	  (added): Add cmake infrastructure

	* trunk/kdesupport/akonadi/CMakeLists.txt: also build when not
	  building all of kdesupport

2008-04-23 17:29 +0000 [r800215]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/CMakeLists.txt (added),
	  trunk/kdesupport/akonadi/cmake/CMakeLists.txt (added),
	  trunk/kdesupport/akonadi/interfaces/CMakeLists.txt (added),
	  trunk/kdesupport/akonadi/libs/CMakeLists.txt (added): Oops,
	  forgot these.

2008-04-23 17:25 +0000 [r800213]  Will Stephenson wstephenson@kde.org

	* trunk/kdesupport/akonadi/libs/notificationmessage_p.h (added),
	  trunk/kdesupport/akonadi/server/interfaces (added),
	  trunk/KDE/kdepim/akonadi/config-akonadi.h.cmake (removed),
	  trunk/KDE/kdepim/akonadi/server/akonadictl (removed),
	  trunk/KDE/kdepim/akonadi/server/Mainpage.dox (removed),
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (added), trunk/kdesupport/akonadi/server/src (added),
	  trunk/KDE/kdepimlibs/akonadi/imapparser_p.h (removed),
	  trunk/kdesupport/akonadi/libs/protocol_p.h (added),
	  trunk/kdesupport/akonadi/server/control/agentmanager.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.NotificationManager.xml
	  (added), trunk/kdesupport/akonadi/libs/imapset_p.h (added),
	  trunk/kdesupport/akonadi/libs/imapparser_p.h (added),
	  trunk/kdesupport/akonadi/server/src/handler/append.cpp,
	  trunk/kdesupport/akonadi/server/src/notificationmanager.h,
	  trunk/kdesupport/akonadi/server/src/handler/copy.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Resource.xml
	  (added), trunk/KDE/kdepimlibs/akonadi/xdgbasedirs.cpp (removed),
	  trunk/kdesupport/akonadi/server/tests (added),
	  trunk/kdesupport/akonadi/config-akonadi.h.cmake (added),
	  trunk/KDE/kdepim/akonadi/server/queryserver (removed),
	  trunk/kdesupport/akonadi/server/akonadictl (added),
	  trunk/kdesupport/akonadi/server/Mainpage.dox (added),
	  trunk/KDE/kdepim/akonadi/server/templates (removed),
	  trunk/kdesupport/akonadi/cmake (added),
	  trunk/kdesupport/akonadi/server/src/handler/modify.cpp,
	  trunk/kdesupport/akonadi/interfaces (added),
	  trunk/kdesupport/akonadi/server/akonadictl/main.cpp,
	  trunk/KDE/kdepimlibs/akonadi/akonadiprotocolinternals_export.h
	  (removed), trunk/KDE/kdepimlibs/akonadi/notificationmessage_p.h
	  (removed),
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.Resource.xml
	  (removed),
	  trunk/kdesupport/akonadi/server/src/handler/delete.cpp,
	  trunk/KDE/kdepimlibs/akonadi/imapset_p.h (removed),
	  trunk/KDE/kdepim/akonadi/server/control (removed),
	  trunk/kdesupport/akonadi/server/queryserver (added),
	  trunk/kdesupport/akonadi/server/control/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/colcopy.cpp,
	  trunk/kdesupport/akonadi/server/templates (added),
	  trunk/kdesupport/akonadi/libs/notificationmessage.cpp (added),
	  trunk/kdesupport/akonadi/server/src/storage/datastore.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.AgentManager.xml
	  (added), trunk/KDE/kdepimlibs/akonadi/imapparser.cpp (removed),
	  trunk/kdesupport/akonadi/server/akonadictl/akonadistarter.cpp,
	  trunk/kdesupport/akonadi/libs/imapset.cpp (added),
	  trunk/kdesupport/akonadi/libs/imapparser.cpp (added),
	  trunk/kdesupport/akonadi/server/src/handler/aklist.cpp,
	  trunk/KDE/kdepim/akonadi/clients/akonadiconsole/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/akonadi.cpp,
	  trunk/KDE/kdepim/akonadi/clients/akonamail/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/control (added),
	  trunk/kdesupport/akonadi/libs/akonadiprotocolinternals_export.h
	  (added), trunk/kdesupport/akonadi/libs (added),
	  trunk/kdesupport/akonadi/server/src/handlerhelper.cpp,
	  trunk/KDE/kdepimlibs/akonadi/protocol_p.h (removed),
	  trunk/KDE/kdepimlibs/akonadi/akonadi-prefix.h.cmake (removed),
	  trunk/kdesupport/akonadi/libs/xdgbasedirs_p.h (added),
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.AgentManager.xml
	  (removed), trunk/KDE/kdepim/akonadi/server/CMakeLists.txt
	  (removed),
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Tracer.xml
	  (added), trunk/kdesupport/akonadi (added),
	  trunk/kdesupport/akonadi/server/src/handler/rename.cpp,
	  trunk/KDE/kdepimlibs/akonadi/notificationmessage.cpp (removed),
	  trunk/KDE/kdepimlibs/akonadi/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/login.cpp,
	  trunk/kdesupport/akonadi/server/src/akonadiconnection.cpp,
	  trunk/KDE/kdepim/akonadi/akonadi-mime.xml (removed),
	  trunk/kdesupport/akonadi/server/src/handler/list.cpp,
	  trunk/KDE/kdepimlibs/akonadi/imapset.cpp (removed),
	  trunk/kdesupport/akonadi/server/src/handler/transaction.cpp,
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.Agent.Control.xml
	  (removed), trunk/kdesupport/akonadi/server/CMakeLists.txt
	  (added),
	  trunk/kdesupport/akonadi/server/src/storage/notificationcollector.h,
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.Tracer.xml
	  (removed),
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.NotificationManager.xml
	  (removed), trunk/kdesupport/akonadi/server/src/handler/store.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/fetch.h,
	  trunk/KDE/kdepim/akonadi/CMakeLists.txt,
	  trunk/KDE/kdepimlibs/akonadi/xdgbasedirs_p.h (removed),
	  trunk/kdesupport/akonadi/akonadi-mime.xml (added),
	  trunk/kdesupport/akonadi/server/src/handler.cpp,
	  trunk/kdesupport/akonadi/server/akonadictl/CMakeLists.txt,
	  trunk/kdesupport/akonadi/server/src/handler/create.cpp,
	  trunk/kdesupport/akonadi/server/src/tracer.cpp,
	  trunk/kdesupport/akonadi/interfaces/org.kde.Akonadi.Agent.Status.xml
	  (added), trunk/KDE/kdepim/akonadi/server/interfaces (removed),
	  trunk/kdesupport/akonadi/server (added),
	  trunk/kdesupport/akonadi/akonadi-prefix.h.cmake (added),
	  trunk/kdesupport/CMakeLists.txt,
	  trunk/kdesupport/akonadi/libs/xdgbasedirs.cpp (added),
	  trunk/KDE/kdepim/akonadi/server/src (removed),
	  trunk/kdesupport/akonadi/server/src/handler/select.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/subscribe.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/status.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/akappend.cpp,
	  trunk/kdesupport/akonadi/server/src/handler/searchpersistent.cpp,
	  trunk/kdesupport/akonadi/server/control/agentinfo.cpp,
	  trunk/KDE/kdepim/akonadi/server/tests (removed),
	  trunk/kdesupport/akonadi/server/src/handler/fetch.cpp,
	  trunk/KDE/kdepimlibs/akonadi/interfaces/org.kde.Akonadi.Agent.Status.xml
	  (removed): Move Akonadi server and shared components to
	  kdesupport.

